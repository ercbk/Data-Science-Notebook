<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Science - General</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/python-jupyter.html" rel="next">
<link href="../qmd/python-classes.html" rel="prev">
<link href="../images/ds-favicon-32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/python-classes.html">Python</a></li><li class="breadcrumb-item"><a href="../qmd/python-general.html">General</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://ericbook.netlify.app/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-fill"></i></a>
    <a href="https://github.com/ercbk/Data-Science-Notebook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Algorithms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-learn-to-rank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learn-to-Rank</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-marketing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Marketing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Algorithms, Product</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-recommendation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommendation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anomaly Detection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Apache</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spark</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">APIs</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Association</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-copulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Copulas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-priors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Priors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-troubleshooting-hmc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting HMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/big-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Big Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/business-plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Business Plots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/causal-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-windows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Windows</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cloud-services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Services</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/confidence-and-prediction-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confidence &amp; Prediction Intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cross-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Validation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
 <span class="menu-text">CSS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recipes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/data.table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-dbt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DuckDB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-feature-stores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Stores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-lakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lakes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-normalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-nosql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NoSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-postgres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Postgres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-relational.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-warehouses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Warehouses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/decision-intelligence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Intelligence</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
 <span class="menu-text">Diagnostics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-model-agnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Agnostic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-probabilistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">
 <span class="menu-text">Deep Learning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-audio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Audio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graph</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Image</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Training</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">
 <span class="menu-text">Docker</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Docker, Fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">
 <span class="menu-text">Econometrics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-discrete-choice-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Choice Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-fixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-psa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity Score Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-multilevel-longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel, Longitudinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false">
 <span class="menu-text">Experiments</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-a_b-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Designs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-rct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RCT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-stepped-wedge-cluster-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Experiments, Stepped Wedge Cluster Design</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/extreme-value-theory-(evt).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Extreme Value Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false">
 <span class="menu-text">Feature Engineering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embeddings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-splines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Splines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-tokenization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tokenization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false">
 <span class="menu-text">Feature Reduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Selection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false">
 <span class="menu-text">Forecasting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-hierarchical_grouped.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical/Grouped</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonlinear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-statistical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/generalized-additive-models-(gam).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalized Additive Models</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false">
 <span class="menu-text">Geospatial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-remote-sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Remote Sensing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preprocessing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false">
 <span class="menu-text">Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-github-actions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Github Actions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/glossary-ds-terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary: DS terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gnu-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GNU Make</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false">
 <span class="menu-text">Google</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Google, Analytics, Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Google, Analytics, Reports</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-bigquery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BigQuery</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gtable-package.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gtable</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HTML</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/information-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/inkscape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inkscape</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false">
 <span class="menu-text">Job</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-management-leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management / Leadership</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-on-the-job.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On the job</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-organizational-and-team-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizational and Team Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JSON</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/kubernetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kubernetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LaTeX</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false">
 <span class="menu-text">LLMs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-agent-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent Chains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-fine-tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine Tuning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-prompt-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prompt Engineering</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/loss-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Loss Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="false">
 <span class="menu-text">Mathematics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-linear-algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/missingness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missingness</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="false">
 <span class="menu-text">Mixed Effects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-bmlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BMLR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-glmm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLMM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-residual-covar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Residual Covariance Structures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MLOps</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false">
 <span class="menu-text">Model Building</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-brms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">brms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-h2o-automl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2O AutoML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-modeltime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeltime</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-rstanarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sklearn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="false">
 <span class="menu-text">Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-knowledge-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false">
 <span class="menu-text">NLP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-sentiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentiment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-summarization-extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarization and Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-topic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-transformers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Transformers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/optimization-equation-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Package Development</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false">
 <span class="menu-text">Post-Hoc Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-ab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-emmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">emmeans</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Privacy</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false">
 <span class="menu-text">Production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-ml-monitoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">ML Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-analyses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="true">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-general.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas, Recipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-reticulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reticulate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/quarto-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-base-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyverse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regex</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false">
 <span class="menu-text">Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-discrete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-interactions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multinomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-ordinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-regularized.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regularized</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Renv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scraping</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false">
 <span class="menu-text">Shiny</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-hosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hosting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mobile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI Examples</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/simulation-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation, Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreadsheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/stochastic-processes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Stochastic Processes</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false">
 <span class="menu-text">Surveys</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-census-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Census Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-sampling-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Tidyeval</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuning</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" aria-expanded="false">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-diagrams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagrams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/vs-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VS Code</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" aria-expanded="false">
 <span class="menu-text">Web</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-38" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-servers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Server</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-py-gen-misc" id="toc-sec-py-gen-misc" class="nav-link active" data-scroll-target="#sec-py-gen-misc">Misc</a></li>
  <li><a href="#terms" id="toc-terms" class="nav-link" data-scroll-target="#terms">Terms</a></li>
  <li><a href="#base" id="toc-base" class="nav-link" data-scroll-target="#base">Base</a></li>
  <li><a href="#sec-py-gen-fund" id="toc-sec-py-gen-fund" class="nav-link" data-scroll-target="#sec-py-gen-fund">Fundamentals</a>
  <ul>
  <li><a href="#sec-py-gen-fund-slice" id="toc-sec-py-gen-fund-slice" class="nav-link" data-scroll-target="#sec-py-gen-fund-slice">Slicing</a></li>
  <li><a href="#sec-py-gen-fund-fstr" id="toc-sec-py-gen-fund-fstr" class="nav-link" data-scroll-target="#sec-py-gen-fund-fstr">F-Strings</a></li>
  <li><a href="#sec-py-gen-fund-ops" id="toc-sec-py-gen-fund-ops" class="nav-link" data-scroll-target="#sec-py-gen-fund-ops">Operators</a></li>
  </ul></li>
  <li><a href="#sec-py-gen-dattyp" id="toc-sec-py-gen-dattyp" class="nav-link" data-scroll-target="#sec-py-gen-dattyp">Types</a></li>
  <li><a href="#sec-py-gen-pip" id="toc-sec-py-gen-pip" class="nav-link" data-scroll-target="#sec-py-gen-pip">pip</a></li>
  <li><a href="#sec-py-gen-anac" id="toc-sec-py-gen-anac" class="nav-link" data-scroll-target="#sec-py-gen-anac">Anaconda</a></li>
  <li><a href="#sec-py-gen-env" id="toc-sec-py-gen-env" class="nav-link" data-scroll-target="#sec-py-gen-env">Environments</a>
  <ul>
  <li><a href="#pyenv" id="toc-pyenv" class="nav-link" data-scroll-target="#pyenv">pyenv</a></li>
  <li><a href="#pdm" id="toc-pdm" class="nav-link" data-scroll-target="#pdm">pdm</a></li>
  <li><a href="#pvenv" id="toc-pvenv" class="nav-link" data-scroll-target="#pvenv">pvenv</a></li>
  <li><a href="#venv" id="toc-venv" class="nav-link" data-scroll-target="#venv">venv</a></li>
  <li><a href="#sec-py-gen-env-virt" id="toc-sec-py-gen-env-virt" class="nav-link" data-scroll-target="#sec-py-gen-env-virt">virtualenv</a></li>
  <li><a href="#sec-py-gen-env-anac" id="toc-sec-py-gen-env-anac" class="nav-link" data-scroll-target="#sec-py-gen-env-anac">Anaconda</a></li>
  <li><a href="#sec-py-gen-env-poet" id="toc-sec-py-gen-env-poet" class="nav-link" data-scroll-target="#sec-py-gen-env-poet">Poetry</a></li>
  </ul></li>
  <li><a href="#sec-py-gen-deps" id="toc-sec-py-gen-deps" class="nav-link" data-scroll-target="#sec-py-gen-deps">Dependencies</a></li>
  <li><a href="#sec-py-gen-loadsav" id="toc-sec-py-gen-loadsav" class="nav-link" data-scroll-target="#sec-py-gen-loadsav">Loading/Saving</a>
  <ul>
  <li><a href="#sec-py-gen-loadsav-file" id="toc-sec-py-gen-loadsav-file" class="nav-link" data-scroll-target="#sec-py-gen-loadsav-file">File paths</a></li>
  <li><a href="#sec-py-gen-loadsav-mods" id="toc-sec-py-gen-loadsav-mods" class="nav-link" data-scroll-target="#sec-py-gen-loadsav-mods">Models</a></li>
  <li><a href="#sec-py-gen-loadsav-envvar" id="toc-sec-py-gen-loadsav-envvar" class="nav-link" data-scroll-target="#sec-py-gen-loadsav-envvar">Environment Variables</a></li>
  </ul></li>
  <li><a href="#sec-py-gen-funs" id="toc-sec-py-gen-funs" class="nav-link" data-scroll-target="#sec-py-gen-funs">Functions</a>
  <ul>
  <li><a href="#sec-py-gen-funs-doc" id="toc-sec-py-gen-funs-doc" class="nav-link" data-scroll-target="#sec-py-gen-funs-doc">Documentation</a></li>
  <li><a href="#sec-py-gen-funs-args" id="toc-sec-py-gen-funs-args" class="nav-link" data-scroll-target="#sec-py-gen-funs-args">Args and Operators</a></li>
  <li><a href="#best-practices" id="toc-best-practices" class="nav-link" data-scroll-target="#best-practices">Best Practices</a></li>
  <li><a href="#sec-py-gen-funs-lam" id="toc-sec-py-gen-funs-lam" class="nav-link" data-scroll-target="#sec-py-gen-funs-lam">Lambda</a></li>
  <li><a href="#sec-py-gen-funs-scop" id="toc-sec-py-gen-funs-scop" class="nav-link" data-scroll-target="#sec-py-gen-funs-scop">Scope</a></li>
  <li><a href="#sec-py-gen-funs-clos" id="toc-sec-py-gen-funs-clos" class="nav-link" data-scroll-target="#sec-py-gen-funs-clos">Closures</a></li>
  </ul></li>
  <li><a href="#sec-py-gen-mods" id="toc-sec-py-gen-mods" class="nav-link" data-scroll-target="#sec-py-gen-mods">Modules</a></li>
  <li><a href="#sec-py-gen-cond" id="toc-sec-py-gen-cond" class="nav-link" data-scroll-target="#sec-py-gen-cond">Conditionals</a></li>
  <li><a href="#sec-py-gen-loops" id="toc-sec-py-gen-loops" class="nav-link" data-scroll-target="#sec-py-gen-loops">Loops</a>
  <ul>
  <li><a href="#sec-py-gen-loops-iter" id="toc-sec-py-gen-loops-iter" class="nav-link" data-scroll-target="#sec-py-gen-loops-iter">Iterators</a></li>
  <li><a href="#sec-py-gen-loops-gen" id="toc-sec-py-gen-loops-gen" class="nav-link" data-scroll-target="#sec-py-gen-loops-gen">Generators</a>
  <ul>
  <li><a href="#sec-py-gen-loops-gen-yf" id="toc-sec-py-gen-loops-gen-yf" class="nav-link" data-scroll-target="#sec-py-gen-loops-gen-yf">Using <code>yield from</code></a></li>
  </ul></li>
  <li><a href="#sec-py-gen-loops-for" id="toc-sec-py-gen-loops-for" class="nav-link" data-scroll-target="#sec-py-gen-loops-for">For</a></li>
  <li><a href="#sec-py-gen-loops-zip" id="toc-sec-py-gen-loops-zip" class="nav-link" data-scroll-target="#sec-py-gen-loops-zip">zip</a></li>
  <li><a href="#sec-py-gen-loops-comp" id="toc-sec-py-gen-loops-comp" class="nav-link" data-scroll-target="#sec-py-gen-loops-comp">Comprehensions</a></li>
  </ul></li>
  <li><a href="#sec-py-gen-debug" id="toc-sec-py-gen-debug" class="nav-link" data-scroll-target="#sec-py-gen-debug">Debugging</a></li>
  <li><a href="#sec-py-gen-errhand" id="toc-sec-py-gen-errhand" class="nav-link" data-scroll-target="#sec-py-gen-errhand">Error Handling</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/python-classes.html">Python</a></li><li class="breadcrumb-item"><a href="../qmd/python-general.html">General</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-py-gen" class="quarto-section-identifier">General</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-py-gen-misc" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-misc">Misc</h2>
<ul>
<li><p>Tools (see <a href="https://python.plainenglish.io/10-tools-to-help-claw-your-way-back-to-sanity-while-coding-python-df0af160c33e">article</a>, <a href="https://towardsdatascience.com/five-tips-to-elevate-the-readability-of-your-python-code-7b049bbf72e6">article</a> for installation and usage)</p>
<ul>
<li><a href="https://pypi.org/project/ruff/">ruff</a> - rust-based, linter and sorts imports
<ul>
<li>Fast, sensible default settings, focuses on more important things out of the box, and has less legacy burden</li>
</ul></li>
<li><a href="http://www.pydocstyle.org/en/stable/">pydocstring</a> - tool for checking compliance with Python docstring conventions</li>
<li><a href="https://black.readthedocs.io/en/stable/index.html">black</a> - code formatter</li>
<li><a href="https://pypi.org/project/isort/">isort</a> - sorts your imports</li>
<li>pytest, pytest-watch - unit tests</li>
<li>commitizen - guides you through a series of steps to create a commit message that conforms to the structure of a Conventional Commit</li>
<li>nbQA - linting in jupyter notebooks</li>
<li><a href="https://github.com/python/mypy">mypy</a> - type checker; good support and docs</li>
<li>pylance - checks type hinting in VSCode (see Functions &gt;&gt; Documentation &gt;&gt; Type Hinting)</li>
<li><a href="https://pydoit.org/">doit</a> - task runner; {targets}-like tool; <a href="https://www.bitecode.dev/p/doit-the-goodest-python-task-runner">tutorial</a></li>
<li><a href="https://pre-commit.com/">pre-commit</a> (<a href="https://www.youtube.com/watch?v=XFyLzr5Ehf0&amp;t=0s">Video</a>)- Specify which checks you want to run against your code before committing changes to your git repository</li>
<li>README templates - <a href="https://www.makeareadme.com/">link</a></li>
</ul></li>
<li><p>Project contents</p>
<ul>
<li>Structured code directories</li>
<li><code>.gitignore</code>, <code>README</code>, <code>LICENSE</code>, <code>.github</code>
<ul>
<li>Evidently pull request and issue templates go into the .github folder as well</li>
</ul></li>
<li><code>tests</code> directory</li>
<li><code>pyproject.toml</code>
<ul>
<li>Put as much config as possible into it. A lot of configurations tools will happily read from it, and it will give you one source of truth.</li>
</ul></li>
<li><code>.pre-commit-config.yaml</code>
<ul>
<li>ruff, isort, etc.</li>
</ul></li>
<li><code>requirements.txt</code>
<ul>
<li>Dependencies also in pyproject.toml but it’s also good to have this file</li>
<li><code>requirements.in</code> if using pip tools</li>
</ul></li>
<li><code>contributing.md</code>
<ul>
<li>Instructs on how to contribute to your project — format to submit pull requets, code of conduct, coding standards, etc.</li>
</ul></li>
<li><code>docs</code> directory
<ul>
<li><a href="https://www.sphinx-doc.org/en/master/">Sphinx</a> and <a href="https://www.mkdocs.org/">MkDocs</a></li>
</ul></li>
</ul></li>
<li><p>An underscore <code>_</code> at the beginning is used to denote private variables in Python.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> set_temperature(<span class="va">self</span>, value):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">if</span> value <span class="op">&lt;</span> <span class="op">-</span><span class="fl">273.15</span>:</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Temperature below -273.15 is not possible."</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>._temperature <span class="op">=</span> value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>You can still access “_temperature” but it’s just meant for internal use by the class and the underscore indicates this</li>
</ul></li>
<li><p><span style="color: goldenrod">{{warnings::warnings.filterwarnings(‘ignore’)}}</span></p></li>
<li><p><code>sys.getsizeof(obj)</code> to get the size of an object in memory.</p></li>
</ul>
</section>
<section id="terms" class="level2">
<h2 class="anchored" data-anchor-id="terms">Terms</h2>
<ul>
<li><span style="color: #009499"><strong>classes</strong></span> - code template for creating objects, we can think of it as a blueprint. It describes the possible states and behaviors that every object of a certain type could have.</li>
<li><span style="color: #009499"><strong>object</strong></span> - data structure storing information about the state and behavior of a certain entity and is an instance of a class</li>
<li><span style="color: #009499"><strong>stub file</strong></span> - a file containing a skeleton of the public interface of that Python module, including classes, variables, functions – and most importantly, their types. (<a href="https://mypy.readthedocs.io/en/stable/getting_started.html#stubs-intro">Source</a>)</li>
</ul>
</section>
<section id="base" class="level2">
<h2 class="anchored" data-anchor-id="base">Base</h2>
<ul>
<li><p>Info method<br>
<img src="./_resources/Python,_General.resources/1-GZN4hqVcMriA96EOUZyrPw.png" class="img-fluid"></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>X.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Remove an object: <code>del</code></p></li>
<li><p>Check object type</p>
<ul>
<li><code>type()</code> : outputs the type of an object</li>
<li><code>isinstance()</code> : outputs type and inheritance of an object</li>
<li>See <a href="https://switowski.com/blog/type-vs-isinstance">article</a> for details on differences</li>
</ul></li>
<li><p>Import Libraries</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> bentoml</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> transformers <span class="im">import</span> (</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; SpeechT5Processor,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; SpeechT5ForTextToSpeech,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; SpeechT5HifiGan,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; WhisperForConditionalGeneration,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; WhisperProcessor,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="sec-py-gen-fund" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-fund">Fundamentals</h2>
<section id="sec-py-gen-fund-slice" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-fund-slice">Slicing</h3>
<ul>
<li><p>Format <code>my_list[start:stop:step]</code></p>
<ul>
<li>** start value is inclusive and the end value is exclusive</li>
</ul></li>
<li><p>1 element and more than 1 element</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">"Python"</span>[<span class="dv">0</span>] <span class="co"># P</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">"Python"</span>[<span class="dv">0</span>:<span class="dv">1</span>] <span class="co"># P</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">"Python"</span>[<span class="dv">0</span>:<span class="dv">5</span>] <span class="co"># Pytho</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>illustrates how when using a range, the last element is exclusive</p></li>
<li><p>Negative indexing <code>my_list[0:-1]</code></p>
<ul>
<li>Everything but the last object</li>
</ul></li>
<li><p>Skip every second element</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> <span class="bu">list</span>(<span class="st">"Python"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">0</span>:<span class="bu">len</span>(my_list):<span class="dv">2</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> [<span class="st">'P'</span>, <span class="st">'t'</span>, <span class="st">'o'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>start at 0, end at len(my_list), step = 2</p></li>
<li><p>Shortcuts</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">0</span>:<span class="op">-</span><span class="dv">1</span>] <span class="op">==</span> my_list[:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">0</span>:<span class="bu">len</span>(my_list):<span class="dv">2</span>] <span class="op">==</span> my_list[::<span class="dv">2</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">"Python"</span>[::<span class="op">-</span><span class="dv">1</span>] <span class="op">==</span> <span class="st">"Python"</span>[<span class="op">-</span><span class="dv">1</span>:<span class="op">-</span><span class="dv">7</span>:<span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Defaults
<ul>
<li>0 for the start value</li>
<li>len(list) for the stop value</li>
<li>1 for the step value</li>
</ul></li>
<li>Defaults for negative step value
<ul>
<li>-1 for the start value</li>
<li>-len(list) - 1 for the stop value</li>
</ul></li>
</ul></li>
<li><p>Alias vs new object</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> a <span class="co"># alias</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> a[:] <span class="co"># new object</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>With the alias, changes to a will happen to b as well</li>
</ul></li>
<li><p>Common use cases</p>
<table class="caption-top table">
<colgroup>
<col style="width: 75%">
<col style="width: 25%">
</colgroup>
<tbody>
<tr class="odd">
<td>Every element but the first and the last one</td>
<td>[1:-1]</td>
</tr>
<tr class="even">
<td>Every element in reverse order</td>
<td>[::-1]</td>
</tr>
<tr class="odd">
<td>Every element but the first and the last one in reverse order</td>
<td>[-2:0:-1]</td>
</tr>
<tr class="even">
<td>Every second element but the first and the last one in reverse order</td>
<td>[-2:0:-2]</td>
</tr>
</tbody>
</table></li>
<li><p>Using slice function</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>sequence <span class="op">=</span> <span class="bu">list</span>(<span class="st">"Python"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>my_slice <span class="op">=</span> <span class="bu">slice</span>(<span class="va">None</span>, <span class="va">None</span>, <span class="dv">2</span>) <span class="co"># equivalent to [::2]</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>indices <span class="op">=</span> my_slice.indices(<span class="bu">len</span>(sequence))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> (<span class="dv">0</span>, <span class="dv">6</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Shows start = 0, stop = 6, step = 2</li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-fund-fstr" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-fund-fstr">F-Strings</h3>
<ul>
<li><p><a href="https://fstring.help/cheat/">Cheatsheet</a></p></li>
<li><p>Parameterize with {}</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> x <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="ss">f"One icecream is worth [</span><span class="sc">{</span>x<span class="sc">}</span><span class="ss">]</span><span class="sc">{</span>style<span class="op">=</span><span class="st">'color: #990000'</span><span class="sc">}</span><span class="ss"> dollars"</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">'One icecream is worth 5 dollars'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>! - functions</p>
<ul>
<li>!r — Shows the string delimiter, calls the repr() method.
<ul>
<li>repr’s goal is to be unambiguous and str’s is to be readable. For example, if we suspect a float has a small rounding error, repr will show us while str may not</li>
</ul></li>
<li>!a — Shows the Ascii for the characters.</li>
<li>!s — Converts the value to a string.
<ul>
<li>Guessing this the str() method (see !r for details)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>food2brand <span class="op">=</span> <span class="st">"Mcdonalds"</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>food2 <span class="op">=</span> <span class="st">"French fries"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ss">f"I like eating </span><span class="sc">{</span>food2brand<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>food2<span class="sc">!r}</span><span class="ss">"</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">"I like eating Mcdonalds 'French fries'"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Change format with “:”</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="im">import</span> datetime</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> date <span class="op">=</span> datetime.datetime.utcnow()</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="ss">f"The date is </span><span class="sc">{</span>date<span class="sc">:</span><span class="op">%</span>m<span class="op">-%</span>Y <span class="op">%</span>d<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">'The date is 02-2022 15'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Formatting with “&gt;” and “&lt;”<br>
<a href="_resources/Python,_General.resources/fstring-left-right-spacing-1.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="_resources/Python,_General.resources/fstring-left-right-spacing-1.jpg" class="img-fluid" width="532"></a></p>
<ul>
<li><span class="arg-text">&lt;6</span> says width is 6 characters and text starts at the left edge</li>
<li><span class="arg-text">&gt;10.2f</span> says width is 10 characters, text starts the right hand edge, and number is rounded to 2 decimal places</li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-fund-ops" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-fund-ops">Operators</h3>
<ul>
<li><p>(<a href="https://www.w3schools.com/python/python_operators.asp">docs</a>)</p></li>
<li><p>Exponential: <code>5**3</code></p></li>
<li><p>Integer division: <code>5//3</code></p></li>
<li><p>Modulo: <code>5%3</code></p></li>
<li><p>Identity: <code>is</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The result for x is y is"</span>, x <span class="kw">is</span> y)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>The result <span class="cf">for</span> x <span class="kw">is</span> y <span class="kw">is</span> false</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Think you can also use <code>==</code> here too</li>
</ul></li>
<li><p>Logical: <code>and</code> and <code>or</code></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The result for 5 &gt; 3 and 6 &gt; 8 is"</span>, <span class="dv">5</span> <span class="op">&gt;</span> <span class="dv">3</span> <span class="kw">and</span> <span class="dv">6</span> <span class="op">&gt;</span> <span class="dv">8</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The result for 5 &gt; 3 or 6 &gt; 8 is"</span>, <span class="dv">5</span> <span class="op">&gt;</span> <span class="dv">3</span> <span class="kw">or</span> <span class="dv">6</span> <span class="op">&gt;</span> <span class="dv">8</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>The result <span class="cf">for</span> <span class="dv">5</span> <span class="op">&gt;</span> <span class="dv">3</span> <span class="kw">and</span> <span class="dv">6</span> <span class="op">&gt;</span> <span class="dv">8</span> <span class="kw">is</span> <span class="va">False</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>The result <span class="cf">for</span> <span class="dv">5</span> <span class="op">&gt;</span> <span class="dv">3</span> <span class="kw">or</span> <span class="dv">6</span> <span class="op">&gt;</span> <span class="dv">8</span> <span class="kw">is</span> <span class="va">True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Subset: <code>in</code> and <code>not in</code></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Is the number 3 in the list [1,2,3]?"</span>, <span class="dv">3</span> <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>Is the number <span class="dv">3</span> <span class="kw">in</span> the <span class="bu">list</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]? <span class="va">True</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Is the number 3 not in the list [1,2,3]?"</span>, <span class="dv">3</span> <span class="kw">not</span> <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>Is the number <span class="dv">3</span> <span class="kw">not</span> <span class="kw">in</span> the <span class="bu">list</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]? <span class="va">False</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Assignment<br>
<img src="./_resources/Python,_General.resources/image.7.png" class="img-fluid"></p></li>
</ul>
</section>
</section>
<section id="sec-py-gen-dattyp" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-dattyp">Types</h2>
<ul>
<li><u>Scalars</u>
<ul>
<li><p>Create scalars by subsetting a list</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>inputs <span class="op">=</span> [<span class="dv">1</span>, <span class="fl">0.04</span>, <span class="fl">0.9</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 numeric&nbsp;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> inputs[<span class="dv">0</span>] <span class="co"># rmse = 1 and is type 'float'</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># multiple numerics</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>rmse, mape, rsq <span class="op">=</span> inputs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><u>Tuples</u>
<ul>
<li>Lists are mutable and tuples are not
<ul>
<li>i.e.&nbsp;we can add or remove elements to a list after we create it but we cannot do such thing to a tuple</li>
</ul></li>
<li>Syntax: <code>name_of_tuple = (a, b)</code></li>
</ul></li>
<li><u>Lists</u>
<ul>
<li><p>Create list of objects (e.g.&nbsp;floats)</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>acc_values <span class="op">=</span> [rmse, mape, rsq]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>alt method: asterisk-comma notation</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">*</span>acc_names, <span class="op">=</span> <span class="st">"RMSE"</span>, <span class="st">"MAPE"</span>, <span class="st">"R-SQ"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>asterisk is “unzipping operator”</li>
</ul></li>
</ul></li>
<li><p>Make a copy</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>old_list <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>new_list <span class="op">=</span> <span class="bu">list</span>(old_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><u>Dictionaries</u>
<ul>
<li><p>** if creating a simple dict, more performant to use curly braces **</p>
<ul>
<li>Avoid <code>d = dict(1=1, x='x')</code></li>
</ul></li>
<li><p>Join 2 dicts -&nbsp; <code>d.update(d2)</code></p>
<ul>
<li>If d and d2 share keys, d2’s values for those keys will be used</li>
</ul></li>
<li><p>Access a value from a key: <code>sample_dict['key_name']</code></p></li>
<li><p>Make a copy</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>old_dict <span class="op">=</span> {stuff: <span class="dv">2</span>, more_stuff: <span class="dv">3</span>}</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>new_dict <span class="op">=</span> <span class="bu">dict</span>(old_dict)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Convert list of tuples to a dict</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>acc_dict <span class="op">=</span> <span class="bu">dict</span>(acc_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>zip creates lists of tuples (See <a href="../qmd/python-general.html#sec-py-gen-">Loops &gt;&gt; zip section</a>)</li>
</ul></li>
<li><p>Add key, value pair to a dict</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>transaction_data[<span class="st">'user_address'</span>] <span class="op">=</span> <span class="st">'221b Baker Street, London - UK'</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>transaction_data.update(user_address<span class="op">=</span><span class="st">'221b Baker Street, London - UK'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Unpack dict into separate tuples for key:value pairs</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>rmse, mape, rsq <span class="op">=</span> acc_dict.items()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>rmse</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>(<span class="st">'RMSE'</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>** fastest way to iterate over both keys and values in a dict **</li>
<li>can also use <code>zip</code> to unpack pairs into a list (see loops &gt;&gt; zip)</li>
</ul></li>
<li><p>Unpack dict into separate lists for keys and values</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>acc_keys <span class="op">=</span> <span class="bu">list</span>(acc_dict.keys())&nbsp;</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>acc_values <span class="op">=</span> <span class="bu">list</span>(acc_dict.values())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>** fastest way to iterate over a dict’s keys or values **</li>
</ul></li>
<li><p>Unpack values from dicts into separate scalars</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>rmse, mape, rsq <span class="op">=</span> acc_dict.values()</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>rmse</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Pull the value for a key (e.g.&nbsp;k) or return the default value - <code>d.get(k, default)</code></p>
<ul>
<li>Default is “None”. I think this can be set with <code>d.setdefault(k, default)</code></li>
</ul></li>
<li><p>Check for specific key (logical)</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>‘send_currency’ <span class="kw">in</span> transaction_data</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>‘send_currency’ <span class="kw">in</span> transaction_data.keys()</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>‘send_currency’ <span class="kw">not</span> <span class="kw">in</span> transaction_data.keys()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Like %in% in R</li>
</ul></li>
<li><p>Check for specific value (logical)</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>‘GBP’ <span class="kw">in</span> transaction_data.values()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Check for key, value pair</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>(‘send_currency’, ‘GBP’) <span class="kw">in</span> transaction_data.items()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Pretty printing of dictionaries</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; _ <span class="op">=</span> [<span class="bu">print</span>(k, <span class="st">":"</span>, <span class="ss">f'</span><span class="sc">{</span>v<span class="sc">:.1f}</span><span class="ss">'</span>) <span class="cf">for</span> k,v <span class="kw">in</span> acc_dict.items()]</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; RMSE : <span class="fl">1.00</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; MAPE : <span class="fl">0.04</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; R<span class="op">-</span>sq : <span class="fl">0.90</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>for-in loop format (see <a href="../qmd/python-general.html#sec-py-gen-loops-comp" style="color: green">Loops &gt;&gt; Comprehension</a>)</li>
<li><code>print</code> returns “none” for each key:value at the bottom of the output for some reason. Assigning the print statement to a variable fixes it.</li>
</ul></li>
<li><p><code>defaultdict</code></p>
<ul>
<li>Creates a <em>key</em> from a list element and groups the properties into a list of <em>values</em> where the value may also be a dict.</li>
<li>From <span style="color: goldenrod">{{</span><a href="https://docs.python.org/3/library/collections.html#defaultdict-examples" style="color: goldenrod">collections</a><span style="color: goldenrod">}}</span></li>
<li>Also see
<ul>
<li>Pybites <a href="https://www.youtube.com/watch?v=fzdVyP9SQFw">video</a></li>
<li><a href="../qmd/json.html#sec-json-py" style="color: green">JSON &gt;&gt; Python</a> &gt;&gt; Example: Parse Nested JSON into a dataframe</li>
</ul></li>
</ul></li>
</ul></li>
<li><u>Sets</u>
<ul>
<li>If performing set logic, always more performant to use sets instead of dicts or lists<br>
<a href="./_resources/Python,_General.resources/1-2v8giMDPDPLsrPIAlFEFmg.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="./_resources/Python,_General.resources/1-2v8giMDPDPLsrPIAlFEFmg.png" class="img-fluid" width="370"></a>
<ul>
<li>If using numpy/pandas, using the <code>.unique()</code> syntax is more efficient for arrays/series’ with numeric values</li>
<li>If using strings, it’s more efficient to use <code>list(set(my_array))</code></li>
</ul></li>
</ul></li>
<li><u>Strings</u>
<ul>
<li><p>Operators</p>
<pre><code>Operator Description
%d Signed decimal integer
%u unsigned decimal integer
%c Character
%s String
%f Floating-point real number</code></pre></li>
<li><p><span class="ribbon-highlight">Example</span><br>
<img src="./_resources/Python,_General.resources/image.9.png" class="img-fluid"></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">"india"</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">19</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>marks <span class="op">=</span> <span class="fl">20.56</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>string1 <span class="op">=</span> <span class="st">'Hey </span><span class="sc">%s</span><span class="st">'</span> <span class="op">%</span> (name)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(string1)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>string2 <span class="op">=</span> <span class="st">'my age is </span><span class="sc">%d</span><span class="st">'</span> <span class="op">%</span> (age)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(string2)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>string3<span class="op">=</span> <span class="st">'Hey </span><span class="sc">%s</span><span class="st">, my age is </span><span class="sc">%d</span><span class="st">'</span> <span class="op">%</span> (name, age)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(string3)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>string3<span class="op">=</span> <span class="st">'Hey </span><span class="sc">%s</span><span class="st">, my subject mark is </span><span class="sc">%f</span><span class="st">'</span> <span class="op">%</span> (name, marks)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(string3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-pip" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-pip">pip</h2>
<ul>
<li><p>Looks for packages on <a href="https://pypi.org" class="uri">https://pypi.org</a>, downloads, and installs it</p></li>
<li><p>See <a href="../qmd/python-general.html#sec-py-gen-deps" style="color: green">Dependencies</a> for pip extensions</p></li>
<li><p>Misc</p>
<ul>
<li><p>If you installed python using the app-store, replace <code>python</code> with <code>python3</code>.</p></li>
<li><p>Don’t use sudo to install libraries, since it will install things outside of the virtual environment.</p></li>
<li><p>Nor should you use “–user”, since it’s made to install things outside of the virtual environment.</p></li>
<li><p>Don’t mix pip, venv and Anaconda. Avoid Anaconda if you can. If you have to use Anaconda, don’t use pip and venv. Limit yourself to Anaconda tools.</p></li>
<li><p>If you get SSL errors (common if you are in a hotel or a company network) use the <span class="arg-text">–trusted-host pypi.org –trusted-host files.pythonhosted.org</span> options with pip to work around the problem.</p>
<ul>
<li>e.g.&nbsp;<code>python -m pip install pendulum --trusted-host pypi.org --trusted-host files.pythonhosted.org</code></li>
</ul></li>
<li><p>If you are behind a corporate proxy that requires authentication (common if you are in a company network), you can use the <span class="arg-text">–proxy</span> option with pip to give the proxy address and your credentials.</p>
<ul>
<li>e.g.&nbsp;<code>python -m pip install pendulum --proxy http://your_username:yourpassword@proxy_address</code></li>
<li>It also works with the https_proxy environment variables</li>
</ul></li>
<li><p><code>pip config set global.require-virtualenv True</code> will only allow pip to install packages while a virtual environment is activated.</p>
<ul>
<li>Probably needs to be set back to False when updating pip.</li>
<li>May become the default in Python 3.13</li>
</ul></li>
</ul></li>
<li><p>Install library</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip install <span class="op">&lt;</span>library_name<span class="op">&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># inside ipython or a colab notebook, "!" signifies a shell command</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="ex">!pip</span> install <span class="op">&lt;</span>library_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Install library from github</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> pip install git+https://github.com/bbalasub1/glmnet_python.git@1.0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“<span class="citation" data-cites="1.0">@1.0</span>” is the version number</li>
</ul></li>
<li><p>Uninstall library</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip uninstall <span class="op">&lt;</span>library_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Won’t uninstall the dependencies of this library.</li>
<li>If you wish to also uninstall the unused dependencies as well, take a look at <code>pip-autoremove</code></li>
</ul></li>
<li><p>Remove all packages in environment</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip uninstall <span class="at">-y</span> <span class="at">-r</span> <span class="op">&lt;(</span><span class="ex">pip</span> freeze<span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Remove all packages in environment but write the names of the packages to a requirements.txt file first</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip freeze <span class="op">&gt;</span> requirements.txt <span class="kw">&amp;&amp;</span> <span class="ex">python3</span> <span class="at">-m</span> pip uninstall <span class="at">-r</span>         requirements.txt <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Install requirements.txt</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip install <span class="at">-r</span> requirements.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Write names of all the packages in your environment to a requirement.txt file</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip freeze <span class="op">&gt;</span> requirements.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Writes the specific version of the packages that you have installed in your environment (e.g.&nbsp;pandas==1.0.0)
<ul>
<li>This may not be what you always want, so you’ll need to manually change to just the library name in that case (e.g.&nbsp;pandas)</li>
</ul></li>
<li>Only aware of the packages installed using the pip install command
<ul>
<li>i.e.&nbsp;any packages installed using a different approach such as peotry, setuptools, condaetc. won’t be included in the final requirements.txt file.</li>
</ul></li>
<li>Does not account for dependency versioning conflicts</li>
<li>Saves all packages in the environment including those that are not relevent to the project</li>
<li>If you are not using a virtual environment, pip freeze generates a requirement file containing all the libraries in including those beyond the scope of your project.</li>
</ul></li>
<li><p>List your installed libraries</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>See if you have a particular library installed</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip list <span class="kw">|</span> <span class="fu">grep</span> <span class="op">&lt;</span>library_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Get library info (name, version, summary, license, dependencies and other)</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip show <span class="op">&lt;</span>library_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Check that all installed packages are compatible</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip check</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Update package</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip install package_name <span class="at">--upgrade</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Search for PyPI libraries (pip source for libraries)</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip search <span class="op">&lt;</span>search_term<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>returns all libraries matching search term</li>
</ul></li>
<li><p>Download a package without installing it</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> pip download <span class="op">&lt;</span>library name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>It will download the package and all its dependencies in the current directory (the files, called, wheels, have a .whl extension).</p></li>
<li><p>You can then install them offline by doing <code>python -m pip install</code> on the wheels.</p></li>
</ul></li>
<li><p>Build Wheel archives for the libraries and dependencies in your environment</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip wheel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>I think these are binaries, so they don’t need compiled if installed in a future environment</li>
<li><a href="https://realpython.com/python-wheels/">Real Python Tutorial</a></li>
</ul></li>
<li><p>Manage configuration</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip config <span class="op">&lt;</span>action name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Actions: edit, get, list, set or unset</p></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip config set global.index-url https://your.global.index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>Display debug information specific to pip</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip debug</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="sec-py-gen-anac" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-anac">Anaconda</h2>
<ul>
<li><p>Check configuration of current environment</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Shows python version used, package names installed and their versions</li>
</ul></li>
<li><p>Install packages</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install <span class="op">&lt;</span>package1<span class="op">&gt;</span> <span class="op">&lt;</span>package2<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Install a package from a specific channel</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install <span class="op">&lt;</span>package_name<span class="op">&gt;</span> -c <span class="op">&lt;</span>channel_name<span class="op">&gt;</span> -y <span class="co"># Short form</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install <span class="op">&lt;</span>package_name<span class="op">&gt;</span> --channel <span class="op">&lt;</span>channel_name<span class="op">&gt;</span> -y <span class="co"># Long form</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Package installation channels (some packages not available in default channel)</p>
<ul>
<li><p>Check current channels</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> config <span class="at">--show</span> channels</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The order in which these channels are displayed shows the channel priority.
<ul>
<li>When a package is installed, anaconda will the check the channel at the top of list first then work it’s way down</li>
</ul></li>
</ul></li>
<li><p>Add a channel</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> config <span class="at">--add</span> channels conda-forge</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Adds “conda-forge” to list of available channels</li>
</ul></li>
<li><p>Remove a channel</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> config <span class="at">--remove</span> channels conda-forge</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Removes the “conda-forge” channel</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-env" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-env">Environments</h2>
<ul>
<li>Misc
<ul>
<li>When you’re in a virtual environment
<ul>
<li><p>Anytime you use the “python” command while your virtual environment is activated, it will be only the one from this env.</p></li>
<li><p>If you start a Python shell now, it will see only the things in the current directory, and the things installed in the virtual environment.</p></li>
<li><p>If you run a script, it will see only the things in the current directory, and the things installed in the virtual environment.</p></li>
<li><p>If you run a command, the command will be taken from the virtual environment.</p>
<p>And they will only use exactly the version of Python of the virtual environment.</p></li>
</ul></li>
<li>Store environment files with project</li>
<li>Breakage
<ul>
<li>You cannot move a virtual environment, it will stop working. Create a “requirements.txt” file, delete the virtual environment and create a new one.</li>
<li>Don’t rename a directory containing a virtual environment. Or if you do, prepare yourself to create a “requirements.txt” file, delete the virtual environment and create a new one.</li>
<li>If you change the Python used in the virtual environment, such as when uninstalling it, it will stop working.</li>
</ul></li>
<li>Create one big virtual environment for all small scripts.
<ul>
<li>If you make a lot of venv, you may be tempted to install everything at the system level for convenience. After all, it’s a bore to create and activate a virtual environment each time you want to write a five liner. A good balance is one single virtual environment you use for all things quick and dirty.</li>
</ul></li>
<li>Create several virtual environments per versions of python if your project needs to support several versions. You may need several requirements.txt files as well, one for each env.</li>
<li><strong>Recommendations for a stable dependency environment for your project</strong> (<a href="https://www.bitecode.dev/p/relieving-your-python-packaging-pain">article</a>)
<ul>
<li><em>Don’t install the latest major version of Python</em>
<ul>
<li>Maximum: 1 version under the latest version</li>
<li>Minimum: 4 versions under the latest version (e.g.&nbsp;latest = 3.11, min = 3.7)</li>
</ul></li>
<li><em>Use only the <a href="https://python.org/">python.org</a> installer on Windows and Mac, or official repositories on Linux.</em></li>
<li><em>Never install or run anything outside of a virtual environment</em></li>
<li><em>Limit yourself to the basics: “pip” and “venv”</em></li>
<li><em>If you run a command, use “-m”</em>
<ul>
<li><p>It lets you run any importable Python module, no matter where you are. Because most commands are Python modules, we can use this to say, “run the module X of this particular python”.</p></li>
<li><p>There is currently no way for you to run any python command reliably without “-m”.</p></li>
<li><p><span class="ribbon-highlight">Examples</span>:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Don't do :</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>pip install</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Do:</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>python <span class="op">-</span>m pip install</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Don't do :</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>black</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Do:</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>python <span class="op">-</span>m black</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Don't do :</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>jupyter notebook</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Do:</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>python <span class="op">-</span>m jupyter notebook</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><em>When creating a virtual environment, be explicit about which Python you use</em>
<ul>
<li>Get current python versions installed: <code>py --list-paths</code> (windows)</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<section id="pyenv" class="level3">
<h3 class="anchored" data-anchor-id="pyenv">pyenv</h3>
<ul>
<li>Just a simple Python version manager — think <span style="color: #990000">{rig}</span></li>
<li><span style="color: goldenrod">{{</span><a href="https://github.com/pyenv/pyenv" style="color: goldenrod">pyenv</a><span style="color: goldenrod">}}</span>, <span style="color: goldenrod">{{</span><a href="https://pyenv-win.github.io/pyenv-win/" style="color: goldenrod">pyenv-win</a><span style="color: goldenrod">}}</span></li>
<li>Set-up in RStudio (<a href="https://isabelizimm.github.io/posts/pyenv-in-rstudio/pyenv-crying.html">article</a>)</li>
<li>Compiles Python under the hood when you install it. But compiling can fail in a thousand ways</li>
<li><code>pyenv install --list</code>: To see what python versions are available to install</li>
<li><code>pyenv install &lt;version number&gt;</code>: To install a specific version</li>
<li><code>pyenv versions</code>: To see what python versions are installed on your system</li>
<li><code>pyenv global &lt;version number&gt;</code>: The set one python version as a global default</li>
<li><code>pyenv local &lt;version number&gt;</code>: The set a python version to be used within a specific directory/project\</li>
</ul>
</section>
<section id="pdm" class="level3">
<h3 class="anchored" data-anchor-id="pdm">pdm</h3>
<ul>
<li><a href="https://pdm-project.org/latest/">Docs</a></li>
<li>Package and dependency manager similar to npm. Doesn’t require virtual environments.</li>
<li>Features: auto-updating pyproject.toml, isolating dependencies from dependencies-of-dependencies, active development and error handling</li>
</ul>
</section>
<section id="pvenv" class="level3">
<h3 class="anchored" data-anchor-id="pvenv">pvenv</h3>
<ul>
<li>Easy python virtual environment management
<ul>
<li>Basically just sets up nice aliases for venv commands</li>
</ul></li>
<li><a href="https://p-venv.readthedocs.io/en/stable/">Docs</a></li>
<li>venv activate (aliased to <code>avenv</code>) to activate a virtual environment</li>
<li>venv deactivate (aliased to <code>dvenv</code>) to deactivate a virtual environment</li>
<li>venv list (aliased to <code>lsvenv</code>) to list all the virtual environments</li>
<li>venv make (aliased to <code>mkvenv</code>) to create a new virtual environment</li>
<li>venv rm (aliased to <code>rmvenv</code>) to remove a virtual environment</li>
</ul>
</section>
<section id="venv" class="level3">
<h3 class="anchored" data-anchor-id="venv">venv</h3>
<ul>
<li>Misc
<ul>
<li>Shipped with Python</li>
<li>Don’t mix pip, venv and Anaconda. Avoid Anaconda if you can. If you have to use Anaconda, don’t use pip and venv. Limit yourself to Anaconda tools.</li>
</ul></li>
<li>Create
<ul>
<li>Windows: <code>py -&lt;py version&gt; -m venv &lt;env name&gt;</code></li>
<li>Mac/Linux: <code>python3.8 -m venv .venv</code>
<ul>
<li>Where the python version is 3.8 and the environment name is “.venv”</li>
<li>Mac and Linux hide folders with names that have preceding “.” by default, so make sure you have “display hiddent folders” activated or you won’t see it.</li>
</ul></li>
<li>Naming Environments
<ul>
<li>Name your environment directory “.venv”, because:
<ul>
<li><p>Some editors check for this name and automatically load it.</p></li>
<li><p>It contains “venv”, so it’s explicit.</p></li>
<li><p>It has a dot, so it’s hidden on Linux.</p></li>
</ul></li>
<li>If you have more than one environment directory, use a suffix to distinguish them.
<ul>
<li>e.g.&nbsp;A project that must work with two different versions of Python (3.9 and 3.10), I will have a “.venv39” and a “.venv310”</li>
</ul></li>
<li>Naming enviroments for misc uses
<ul>
<li>“.venv_test”: located in a personal directory to install new tools you want to play with. It’s disposable, and often broken, so you can delete it and recreate it regularly.</li>
<li>“.venv_scripts”: Used for all the small scripts. You don’t want to create one virtual environment for each script, so centralize everything. It’s better than installing outside of a virtual environment, but is not a big constraint.</li>
</ul></li>
</ul></li>
</ul></li>
<li>Activate
<ul>
<li>Windows: <code>.venv\Scripts\activate</code>
<ul>
<li>Where <span class="arg-text">.venv</span> is the name of the virtual environment</li>
<li>May need <code>.bat</code> as extension to <code>activate</code></li>
</ul></li>
<li>Mac/Linux: <code>source .venv/bin/activate</code></li>
</ul></li>
<li>After that, you can use <code>python -m pip install</code> to install packages.</li>
<li>Deactivate: <code>deactivate</code></li>
</ul>
</section>
<section id="sec-py-gen-env-virt" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-env-virt">virtualenv</h3>
<ul>
<li><p><a href="https://virtualenv.pypa.io/en/latest/">Docs</a></p></li>
<li><p>Create a virtual environment</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">python3</span> <span class="at">-m</span> venv <span class="op">&lt;</span>env_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>-m venv</code> tells python to run the virtual environment module, venv</li>
<li>Make sure you’re in your projects directory</li>
<li>Remember to add “&lt;env_name&gt;/” to .gitignore</li>
</ul></li>
<li><p>Activate environment</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> venv/bin/activate <span class="co"># Mac or Linux</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="ex">venv\Scripts\activate</span> <span class="co"># Windows</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="kw">(</span><span class="op">&lt;</span>env_name<span class="op">&gt;</span><span class="kw">)</span> <span class="ex">$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Prompt should change if the environment is activated</li>
<li>All <code>pip</code>&nbsp; installed packages will now be installed into the “&lt;env_name&gt;/lib/python3.9/site-packages” directory</li>
</ul></li>
<li><p>Use the python contained within your virtual environment</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> main.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Not sure why you wouldn’t just activate the environment.</li>
</ul></li>
<li><p>Deactivate environment</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="ex">deactivate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>no <code>python</code>&nbsp; or env_name needed?</li>
</ul></li>
<li><p>Reproducing environment</p>
<ul>
<li>Done using <code>requirements.txt</code> (see pip section for details on writing and installing)
<ul>
<li>I don’t think the python version is included, so that will need to communicated manually</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-env-anac" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-env-anac">Anaconda</h3>
<ul>
<li><p>List environments</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env list <span class="co"># method 1</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> info <span class="at">--envs</span> <span class="co"># method 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>default environment is called “base”</li>
<li>Active environment will be in parentheses</li>
<li>Active environment will be the one in the list with an asterix</li>
</ul></li>
<li><p>Create a new conda environment</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create <span class="at">-n</span> <span class="op">&lt;</span>env name<span class="op">&gt;</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> activate <span class="op">&lt;</span>env name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Create a new conda environment with a specific python version</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create <span class="at">-n</span> py310 python=3.10</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> activate py310</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install jupyter jupyterlab</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="ex">jupyter</span> lab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Also install and launch jupyter lab</li>
</ul></li>
<li><p>Create an environment from a yaml file</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env create <span class="at">-f</span> environment.yml <span class="co"># Short form</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env create <span class="at">--file</span> environment.yml <span class="co"># Long form</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Remove an environment</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> deactivate <span class="op">&lt;</span>env_name<span class="op">&gt;</span> <span class="co"># Need to deactivate the environment first</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env remove <span class="at">-n</span> <span class="op">&lt;</span>env_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Should also delete environment folders (<code>conda env list</code> shows path to folders)</li>
</ul></li>
<li><p>Clone an existing environment</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create <span class="at">-n</span> testclone <span class="at">--clone</span> test <span class="co"># Short form</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create <span class="at">--name</span> testclone <span class="at">--clone</span> test <span class="co"># Long form</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“testclone” is a copy of “test”</li>
</ul></li>
<li><p>Activate an environment</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> activate <span class="op">&lt;</span>env_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Activate environment with reticulate in R</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>reticulate<span class="sc">::</span><span class="fu">use_python</span>(<span class="st">"/usr/local/bin/python"</span>)&nbsp; &nbsp;</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>reticulate<span class="sc">::</span><span class="fu">use_condaenv</span>(<span class="st">"&lt;env name&gt;"</span>, <span class="st">"/home/jtimm/anaconda3/bin/conda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Deactivate an environment</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> activate <span class="co"># Option 1: activates base</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> deactivate test <span class="co"># Option 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Export the specifications of the current environment into a YAML file into the current directory</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env export <span class="op">&gt;</span> environment.yml <span class="co"># Option 1</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env export <span class="at">-f</span> environment.yml <span class="co"># Option 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: Conda workflow</p>
<ul>
<li><p>Create an environment that uses a specific python version</p>
<ul>
<li>Without a specified python version, the environment will use the same version as “base”</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create <span class="at">-n</span> anothertest python=3.9.7 <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>-n is the name flag and “anothertest” is the name of the environment</li>
<li>Uses Python 3.9.7</li>
<li>Without the -y flag, there’d be a prompt you’d have to answer “yes” to</li>
</ul></li>
<li><p>Activate the environment</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> activate anothertest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Install packages<br>
<img src="./_resources/Python,_General.resources/1-oBazVcjy1bA9An21CS_d-A.png" class="img-fluid"></p>
<ul>
<li><p>Installing packages one at time can lead to dependency conflicts.</p></li>
<li><p>Conda’s official documentation recommends to install all packages at the same time so that the dependency conflicts are resolved</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install <span class="st">"numpy&gt;=1.11"</span> nltk==3.6.2 jupyter <span class="at">-y</span> <span class="co"># install specific versions</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> install numpy nltk jupyter <span class="at">-y</span> <span class="co"># install all latest versions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>Do work and deactivate environment</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> deactivate anothertest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span> Raschka workflow</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create &amp; activate</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create&nbsp; <span class="at">--prefix</span> ~/code/myproj python=3.8</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> activate ~/code/myproj</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="co"># export env</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env export <span class="op">&gt;</span> myproj.yml</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create new env from yaml</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> env create <span class="at">--file</span> myproj.yml <span class="at">--prefix</span> ~/code/myproj2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="sec-py-gen-env-poet" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-env-poet">Poetry</h3>
<ul>
<li><p><a href="https://python-poetry.org/">Docs</a> (like renv)</p></li>
<li><p>Apparently buggy (<a href="https://www.bitecode.dev/p/why-not-tell-people-to-simply-use">article</a>)</p></li>
<li><p>pip’s dependency resolver is more flexible and won’t die on you if the package specifies bad metadata, while poetry’s strictness may mean you can’t install some packages at all.</p></li>
<li><p>Create project<br>
<a href="./_resources/Python,_General.resources/1-KLxvDRTkiYVy4VeovWJqSg.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="./_resources/Python,_General.resources/1-KLxvDRTkiYVy4VeovWJqSg.png" class="img-fluid" width="300"></a></p>
<div class="sourceCode" id="cb75"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="ex">poetry</span> new <span class="op">&lt;</span>project-dir-name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>automatically creates a directory for your project with a skeleton</li>
<li>“pyproject.toml” maintains dependencies for the project with the following sections:
<ul>
<li>tool.poetry provides an area to capture information about your project such as the name, version and author(s).</li>
<li>tool.poetry.dependencies lists all dependencies for your project.</li>
<li>tool.poetry.dev-dependencies lists dependencies your project needs for development that should not be present in any version deployed to a production environment.</li>
<li>build-system references the fact that Poetry has been used to manage the project.</li>
</ul></li>
</ul></li>
<li><p>Add library and create lock file: <code>poetry add &lt;library name&gt;</code></p>
<ul>
<li>When the first library is added, a “poetry.lock” file wil be generated</li>
</ul></li>
<li><p>Activate environment: <code>poetry shell</code></p>
<ul>
<li>Deactivate environment: <code>exit</code></li>
</ul></li>
<li><p>Run script: <code>poetry run python my_script.py</code></p></li>
<li><p>Package the project: <code>poetry build</code></p>
<ul>
<li>Creates tar.gz and wheel files (.whl) in “dist” dir</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: poetry workflow (+pyenv, virtualenv)</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a virtual environment called "my-new-project"</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co"># using Python 3.8.8</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pyenv</span> virtualenv 3.8.8 my-new-project</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Activate the virtual environment</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="ex">pyenv</span> activate my-new-project</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><span style="color: goldenrod">{{</span><a href="https://github.com/pyenv/pyenv" style="color: goldenrod">pyenv</a><span style="color: goldenrod">}}</span> - For managing the exact version of Python and activating the environment</p></li>
<li><p>Name your package the same name as the directory which is the same name as the virtual environment.</p>
<ul>
<li>Dashes for the latter two and underscores for the package</li>
</ul></li>
<li><p>Intitialize the project and add packages (similar to renv) <code>bash              poetry init     poetry add numpy</code></p></li>
<li><p>Reinstall dependencies</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># navigate to my project directory and run</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="ex">poetry</span> install</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Turn off virtualenv management</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># right after installing poetry, run:</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="ex">poetry</span> config virtualenvs.create false</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Default poetry behavior is that it will manage your virtual environments for you. This may not be desirable because:
<ul>
<li>Can’t just run a script from the command line. Instead, have to run <code>poetry run my-script</code>
<ul>
<li>Awkward when you want to dockerize your code</li>
</ul></li>
<li>Enforces a virtual environment management framework on everybody in a shared codebase</li>
<li>Your Makefile now needs to know about poetry</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-py-gen-deps" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-deps">Dependencies</h2>
<ul>
<li><p>Misc</p>
<ul>
<li>After mastering pip, {{pip-tools}} is recommended.</li>
</ul></li>
<li><p>Get a complete list of dependencies (e.g.&nbsp;dependencies of dependencies) with <span style="color: goldenrod">{{deptree}}</span></p>
<div class="sourceCode" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>deptree</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>Flask<span class="op">==</span><span class="fl">2.2.2</span>&nbsp; <span class="co"># flask</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>&nbsp; Werkzeug<span class="op">==</span><span class="fl">2.2.2</span>&nbsp; <span class="co"># Werkzeug&gt;=2.2.2</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; MarkupSafe<span class="op">==</span><span class="fl">2.1.1</span>&nbsp; <span class="co"># MarkupSafe&gt;=2.1.1</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>&nbsp; Jinja2<span class="op">==</span><span class="fl">3.1.2</span>&nbsp; <span class="co"># Jinja2&gt;=3.0</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; MarkupSafe<span class="op">==</span><span class="fl">2.1.1</span>&nbsp; <span class="co"># MarkupSafe&gt;=2.0</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>&nbsp; itsdangerous<span class="op">==</span><span class="fl">2.1.2</span>&nbsp; <span class="co"># itsdangerous&gt;=2.0</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>&nbsp; click<span class="op">==</span><span class="fl">8.1.3</span>&nbsp; <span class="co"># click&gt;=8.0</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a><span class="co"># deptree and pip trees</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Flask depends on Werkzeug which depends on MarkupSafe
<ul>
<li>Werkzeug and MarkupSafe qualify as transitive dependencies for this project</li>
</ul></li>
<li>Commented part on the right is the compatible range</li>
</ul></li>
<li><p>requirements.txt format</p>
<pre><code># comment
pandas==1.0.0
pyspark</code></pre></li>
<li><p>pip: write names of all the packages in your environment to a requirement.txt file</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> pip freeze <span class="op">&gt;</span> requirements.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>See pip section for issues with this method</li>
</ul></li>
<li><p><span style="color: goldenrod">{{</span><a href="https://pypi.org/project/pip-tools/" style="color: goldenrod">pip-tools</a><span style="color: goldenrod">}}</span> (<a href="https://www.youtube.com/watch?v=G8PApVvdkjQ&amp;ab_channel=Pybites">Video</a>)</p>
<ul>
<li><p>After learning pip, {{pip-tools}} is recommended.</p></li>
<li><p>Creates a <code>requirements.txt</code> with “pinned” dependencies (i.e.&nbsp;with versions) and shows how those packages depend on each other by naming the package in a comment.</p></li>
<li><p>Less extensive dependency management than something like poetry</p></li>
<li><p>Workflow</p>
<ul>
<li>Create and activation virtual environment</li>
<li>Install pip-tools in venv</li>
<li>Open requirements file in vim: <code>vi requirements.in</code></li>
<li>List 1 package per row without any pinning (i.e.&nbsp;versions), save, and exit vim</li>
<li>Compile requirements file: <code>pip-compile</code></li>
<li>requirements.txt file is generated with package pinning and dependencies in the comments</li>
<li>Install requirements: <code>pip install -r requirements.txt</code></li>
</ul></li>
</ul></li>
<li><p><span style="color: goldenrod">{{</span><a href="https://pipx.pypa.io/stable/" style="color: goldenrod">pipx</a><span style="color: goldenrod">}}</span> (<a href="https://www.youtube.com/watch?v=xvCShK1Bqxk">Video</a>)</p>
<ul>
<li><p>For dependencies that you use everywhere</p></li>
<li><p>A tool for installing Python CLI utilities that gives them their own hidden virtual environment for their dependencies</p></li>
<li><p>Adds the tool itself to your PATH - so you can install stuff without worrying about it breaking anything else</p></li>
<li><p>Install</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pipx</span> install datasette</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Update package and dependencies</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pipx</span> upgrade datasette</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>List packages</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pipx</span> list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><span style="color: goldenrod">{{</span><a href="https://pypi.org/project/pipreqs/" style="color: goldenrod">pipreqs</a><span style="color: goldenrod">}}</span></p>
<ul>
<li><p>Scans all the python files (.py) in your project, then generates the requirements.txt file based on the import statements in each python file of the project</p></li>
<li><p>Set-up: <code>pip install pipreqs</code></p></li>
<li><p>Generate requirements.txt file: <code>pipreqs /&lt;your_project_root_path&gt;/</code></p></li>
<li><p>Update requirements.txt:&nbsp; <code>pipreqs --force /&lt;your_project_root_path&gt;/</code>&nbsp;</p></li>
<li><p>Ignore the libraries of some python files from a specific subfolder</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pipreqs</span> /<span class="op">&lt;</span>your_project_root_path<span class="op">&gt;</span>/ <span class="at">--ignore</span>  /<span class="op">&lt;</span>your_project_root_path<span class="op">&gt;</span>/folder_to_ignore/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><span style="color: goldenrod">{{</span><a href="https://pip-compile-multi.readthedocs.io/en/latest/" style="color: goldenrod">pip-compile-multi</a><span style="color: goldenrod">}}</span></p>
<ul>
<li>Notes from:
<ul>
<li><a href="https://towardsdatascience.com/end-python-dependency-hell-with-pip-compile-multi-56eea0c55ffe">End Python Dependency Hell with pip-compile-multi</a></li>
</ul></li>
<li>Creates and nests multiple requirement files
<ul>
<li>e.g.&nbsp;Able to keep dev environment from production environment separate</li>
</ul></li>
<li>Autoresolution of cross-requirement file conflicts
<ul>
<li>Dependency DAG (how all requirement files are connected) must have exactly one “sink” node</li>
</ul></li>
<li>Organize your most ubiquitous dependencies into a single “core” set of dependencies that all other nodes require (a source node), and all of your development dependencies in a node that requires all others (directly or indirectly) require (a sink).
<ul>
<li>Simplifies and allows use of autoresolution functionality</li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>: DAG (directionality of the arrows is opposite compared to library docs)<br>
<a href="./_resources/Python,_General.resources/image.8.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="./_resources/Python,_General.resources/image.8.png" class="img-fluid" width="386"></a></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-loadsav" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-loadsav">Loading/Saving</h2>
<ul>
<li><p>Misc</p>
<ul>
<li><span style="color: goldenrod">{{pickle}}</span> needs custom class(es) to be defined in another module/file and then imported. Otherwise, <a href="https://stackoverflow.com/questions/45335524/custom-sklearn-pipeline-transformer-giving-pickle-picklingerror">PicklingError will be raised</a>.</li>
</ul></li>
</ul>
<section id="sec-py-gen-loadsav-file" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loadsav-file">File paths</h3>
<ul>
<li>Misc
<ul>
<li><span style="color: goldenrod">{{pathlib}}</span> is recommended</li>
</ul></li>
<li><span style="color: goldenrod">{{os}}</span>
<ul>
<li><p>Get current working directory: <code>os.getcwd()</code></p></li>
<li><p>List all files and directories in working directory: <code>os.listdir()</code></p></li>
<li><p>List all files and directories from a subdirectory: <code>os.listdir(os.getcwd()+'\\01_Main_Directory')</code></p></li>
<li><p>Using <code>os.walk()</code>: gathers paths, folders, and files</p>
<ul>
<li>Paths<br>
<img src="./_resources/Python,_General.resources/image.4.png" class="img-fluid"></li>
</ul>
<div class="sourceCode" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> os.getcwd()<span class="op">+</span><span class="st">'</span><span class="ch">\\</span><span class="st">01_Main_Directory'</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> folder_path, folders, files <span class="kw">in</span> os.walk(path):</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(folder_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Folders<br>
<img src="./_resources/Python,_General.resources/image.5.png" class="img-fluid"></p>
<ul>
<li>Similar code, just replace <code>print(folder_path)</code> with <code>print(folders)</code></li>
</ul></li>
<li><p>Files<br>
<img src="./_resources/Python,_General.resources/image.6.png" class="img-fluid"></p></li>
</ul></li>
<li><span style="color: goldenrod">{{glob}}</span>
<ul>
<li><p>Get a file path string</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> os.getcwd()<span class="op">+</span><span class="st">'</span><span class="ch">\\</span><span class="st">01_Main_Directory'</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> filepath <span class="kw">in</span> glob.glob(path):</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(filepath)</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co"># C:\Users\Suraj\Challenges\01_Main_Directory</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>List all files and subdirectories from a path</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> os.getcwd()<span class="op">+</span><span class="st">'</span><span class="ch">\\</span><span class="st">01_Main_Directory</span><span class="ch">\\</span><span class="st">*'</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> filepath <span class="kw">in</span> glob.glob(path):</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(filepath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Note the * wildcard</li>
</ul></li>
<li><p>List all files and subdirectories with a “1” in the name</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> os.getcwd()<span class="op">+</span><span class="st">'</span><span class="ch">\\</span><span class="st">01_Main_Directory</span><span class="ch">\\</span><span class="st">*1.*'</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> filepath <span class="kw">in</span> glob.glob(path):</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(filepath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Get a list of csv file paths from a directory: <code>all_files = glob.glob("C:/Users/path/to/dir/*.csv")</code></p>
<ul>
<li>Note that you don’t need a loop to save to an object</li>
</ul></li>
<li><p>List all files and subdirectories and files in those subdirectories</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> os.getcwd()<span class="op">+</span><span class="st">'</span><span class="ch">\\</span><span class="st">01_Main_Directory</span><span class="ch">\\</span><span class="st">**</span><span class="ch">\\</span><span class="st">*.txt'</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> filepath <span class="kw">in</span> glob.glob(path, recursive<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(filepath)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Output</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\ABCD_1.txt</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\ABCD_2.txt</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\ABCD_3.txt</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\ABCD_4.txt</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\ABCD_5.txt</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\Sub_Dictionary_1\File_1_in_SubDict_1.txt</span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\Sub_Dictionary_1\File_2_in_SubDict_1.txt</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\Sub_Dictionary_2\File_1_in_SubDict_2.txt</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>C:\Users\Suraj\Challenges\<span class="dv">0</span><span class="er">1_Main_Directory</span>\Sub_Dictionary_2\File_2_in_SubDict_2.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Components: “**” and “recursive=True”</li>
</ul></li>
</ul></li>
<li><span style="color: goldenrod">{{</span><a href="https://docs.python.org/3/library/pathlib.html" style="color: goldenrod">pathlib</a><span style="color: goldenrod">}}</span>
<ul>
<li><p>Provides a single Path class with a range of methods (instead of separate functions) that can be used to perform various operations on a path.</p></li>
<li><p>Create a path object for a directory</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> Path(<span class="st">'origin/data/for_arli'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Check if a folder or a file is available in a given path</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> path.exists():</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(<span class="ss">f"[</span><span class="sc">{</span>path<span class="sc">}</span><span class="ss">]</span><span class="sc">{</span>style<span class="op">=</span><span class="st">'color: #990000'</span><span class="sc">}</span><span class="ss"> exists."</span>)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> path.is_file():</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="ss">f"[</span><span class="sc">{</span>path<span class="sc">}</span><span class="ss">]</span><span class="sc">{</span>style<span class="op">=</span><span class="st">'color: #990000'</span><span class="sc">}</span><span class="ss"> is a file."</span>)</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">elif</span> path.is_dir():</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="ss">f"[</span><span class="sc">{</span>path<span class="sc">}</span><span class="ss">]</span><span class="sc">{</span>style<span class="op">=</span><span class="st">'color: #990000'</span><span class="sc">}</span><span class="ss"> is a directory."</span>)</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="ss">f"[</span><span class="sc">{</span>path<span class="sc">}</span><span class="ss">]</span><span class="sc">{</span>style<span class="op">=</span><span class="st">'color: #990000'</span><span class="sc">}</span><span class="ss"> does not exists"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Checks if the path ‘origin/data/for_arli’ exists
<ul>
<li>if it does, it will check whether it is a file or a directory.</li>
<li>If the path does not exist, it will print a raise an Error indicating that the path does not exist.</li>
</ul></li>
</ul></li>
<li><p>List all files/folders in a path</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> f <span class="kw">in</span> path.iterdir():</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Use it in combination with the previous <code>is_dir()</code> and <code>is_file()</code>&nbsp; methods to list either files or directories.</li>
</ul></li>
<li><p>Delete files/folders in a path</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> f <span class="kw">in</span> path.iterdir():</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; f.unlink()</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>path.rmdir()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>unlink</code> deletes each file in the path</li>
<li><code>rmdir</code> deletes the directory.
<ul>
<li>directory must be empty</li>
</ul></li>
</ul></li>
<li><p>Create a sequence of directories</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># existing directory: D:\scripts\myfolder</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> Path(<span class="st">"D:\scripts\myfolder\logs</span><span class="ch">\n</span><span class="st">ewfolder"</span>)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>p.mkdir(parents<span class="op">=</span><span class="va">True</span>, exist_ok<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Create path object with desired sequence of directories (e.g.&nbsp;logs\newfolder)</li>
<li><code>mkdir</code> with parents=True creates the sequence of directories
<ul>
<li>W/exist_ok=True no error with occur if the directory already exists</li>
</ul></li>
</ul></li>
<li><p>Rename directory: <code>path.rename('origin/data/new_name')</code></p></li>
<li><p>Concatenate a path with string</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> Path(<span class="st">"/origin/data/for_arli"</span>)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Join another path to the original path</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>new_path <span class="op">=</span> path.joinpath(<span class="st">"la"</span>)</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_path) <span class="co"># prints 'origin/data/for_arli/bla'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>It also handles the join between two Path objects</li>
</ul></li>
<li><p>Directory stats</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(path.stat()) <span class="co"># print statistics&nbsp;</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(path.owner()) <span class="co"># print owner</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>e.g.&nbsp;creation time, modification time, etc.</li>
</ul></li>
<li><p>Write to a file</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Open a file for writing</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> Path(<span class="st">'origin/data/for_arli/example.txt'</span>)</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> path.<span class="bu">open</span>(mode<span class="op">=</span><span class="st">'w'</span>) <span class="im">as</span> f:</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># Write to the file</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; f.write(<span class="st">'Hello, World!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>You do not need to create manually example.txt.</li>
</ul></li>
<li><p>Read a file</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> Path(<span class="st">'example.txt'</span>)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> path.<span class="bu">open</span>(mode<span class="op">=</span><span class="st">'r'</span>) <span class="im">as</span> f:</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># Read from the file</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; contents <span class="op">=</span> f.read()</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(contents) <span class="co"># Output: Hello World!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-loadsav-mods" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loadsav-mods">Models</h3>
<ul>
<li><p>Saving and Loading an estimator as a binary using <span style="color: goldenrod">{{</span><a href="https://joblib.readthedocs.io/en/latest/" style="color: goldenrod">joblib</a><span style="color: goldenrod">}}</span> (aside: pipelines are estimators)</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> joblib</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="co">#saving the pipeline into a binary file</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>joblib.dump(pipe, <span class="st">'wine_pipeline.bin'</span>)</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co">#loading the saved pipeline from a binary file</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>pipe <span class="op">=</span> joblib.load(<span class="st">'wine_pipeline.bin'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Saving and loading a trained model as a pickle file</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pickle</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="co"># open file connection</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>pickle_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">'model.pkl'</span>, <span class="st">'ab'</span>)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="co"># save the model</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>pickle.dump(model_obj, pickle_file)</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="co"># close file connection&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>pickle_file.close()</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Open conn and save</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>test_dict <span class="op">=</span> {<span class="st">"Hello"</span>: <span class="st">"World!"</span>}</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"test.pickle"</span>, <span class="st">"wb"</span>) <span class="im">as</span> outfile:</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a><span class="co"># "wb" argument opens the file in binary mode</span></span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>pickle.dump(test_dict, outfile)</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="co"># open file connection</span></span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>pickle_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">'model.pkl'</span>, <span class="st">'rb'</span>)</span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a><span class="co"># load saved model</span></span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> pickle.load(pickle_file)</span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a><span class="co"># open conn and load</span></span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Deserialization</span></span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"test.pickle"</span>, <span class="st">"rb"</span>) <span class="im">as</span> infile:</span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; test_dict_reconstructed <span class="op">=</span> pickle.load(infile)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Can serialize almost everything including classes and functions</li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-loadsav-envvar" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loadsav-envvar">Environment Variables</h3>
<ul>
<li><span style="color: goldenrod">{{os}}</span>
<ul>
<li><p>Check existence</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>env_var_exists <span class="op">=</span> <span class="st">'ENV'</span> <span class="kw">in</span> os.environ</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>env_var_exists <span class="op">=</span> os.environ.has_key(<span class="st">'ENV'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>List environment variables: <code>print(os.environ)</code></p></li>
<li><p>Loading</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Errors when not present</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>env_var <span class="op">=</span> os.environ[<span class="st">'ENV'</span>] <span class="co"># where ENV is the name of the environment variable</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Returns None when not present</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>env_var <span class="op">=</span> os.environ.get(<span class="st">'ENV'</span>, <span class="st">'DEFAULT_VALUE'</span>) <span class="co"># using default value is optional</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Set/Export or overwrite</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>os.environ[<span class="st">'ENV'</span>] <span class="op">=</span> <span class="st">'dev'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Load or create if not present</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; env_var <span class="op">=</span> os.environ[<span class="st">'ENV'</span>]</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">KeyError</span>:</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; os.environ[<span class="st">'ENV'</span>] <span class="op">=</span> <span class="st">'dev'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Delete</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'ENV'</span> <span class="kw">in</span> os.environ:</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="kw">del</span> os.environ[<span class="st">'ENV'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><span style="color: goldenrod">{{python-decouple}}</span>
<ul>
<li><p>Access environment variables from whatever environment it is running in.</p></li>
<li><p>Create a .env file in the project root directory: <code>touch .env</code></p></li>
<li><p>Open .env in nano text editor: <code>nano .env</code></p>
<ul>
<li>Nano text editor is pre-installed on macOS and most Linux distros</li>
<li>Check if installed/version: <code>nano --version</code></li>
<li>Basic usage <a href="https://linuxize.com/post/how-to-use-nano-text-editor/">tutorial</a></li>
</ul></li>
<li><p>Add environment variables to file</p>
<pre><code>USER=alex
KEY=hfy92kadHgkk29fahjsu3j922v9sjwaucahf</code></pre>
<ul>
<li>Save: Ctrl+o</li>
<li>Exit: Ctrl+x</li>
</ul></li>
<li><p>* Add .env to your .gitignore file *</p></li>
<li><p>Access</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> decouple <span class="im">import</span> config</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>API_USERNAME <span class="op">=</span> config(<span class="st">'USER'</span>)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>API_KEY <span class="op">=</span> config(<span class="st">'KEY'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><span style="color: goldenrod">{{</span><a href="https://pypi.org/project/python-dotenv/" style="color: goldenrod">python-dotenv</a><span style="color: goldenrod">}}</span>
<ul>
<li>Reads .env files</li>
<li>Probably more popular than {{python-decouple}}</li>
<li>Has a companion R package, <span style="color: #990000">{</span><a href="https://github.com/gaborcsardi/dotenv" style="color: #990000">dotenv</a><span style="color: #990000">}</span>, so .env files can be used in projects that use both R and Python.</li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-py-gen-funs" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-funs">Functions</h2>
<ul>
<li>Misc
<ul>
<li><p>Benchmarking a function</p>
<ul>
<li><p>Using IPython function</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>time dat[<span class="st">'col1001'</span>] <span class="op">=</span> some_function(dat[<span class="st">'col1'</span>], dat[<span class="st">'col2'</span>], dat[<span class="st">'col3'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>%%time</code> prints the <em>wall time for the entire cell</em> whereas <code>%time</code> gives you the time for first line only</li>
</ul></li>
<li><p>Using a decorator<br>
<a href="./_resources/Python,_General.resources/image.3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="./_resources/Python,_General.resources/image.3.png" class="img-fluid" width="434"></a></p></li>
</ul></li>
<li><p>Assigning functions based on arg type</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data(data):</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> <span class="bu">isinstance</span>(data, <span class="bu">dict</span>):</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; process_dict(data)&nbsp;</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">else</span>:</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; process_list(data)&nbsp;</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_dict(data: <span class="bu">dict</span>):</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(<span class="st">"Dict is processed"</span>)</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_list(data: <span class="bu">list</span>):</span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(<span class="st">"List is processed"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Assigns data to a particular function depending on whether it’s a dict or a list</li>
<li><code>isinstance</code> checks that the passed argument is of the proper type or a subclass</li>
</ul></li>
<li><p>Wrapping functions</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> functools <span class="im">import</span> partial</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>get_count_df <span class="op">=</span> partial(get_count, df<span class="op">=</span>df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Wraps function to make df the default value for df arg</li>
</ul></li>
</ul></li>
</ul>
<section id="sec-py-gen-funs-doc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-funs-doc">Documentation</h3>
<ul>
<li>Functions should at least include docstrings and type hinting</li>
<li><u>Docstrings</u>
<ul>
<li><p>Types: Google-style, Numpydoc, reStructured Text, EpyTex</p></li>
<li><p>Information to include</p>
<ul>
<li>Function description, arg description, return value description, Description of errors, Optional extra notes or examples of usage.</li>
</ul></li>
<li><p>Access functions docstring:</p>
<ul>
<li><p><code>print(func_name.__doc__)</code></p></li>
<li><p>For large docstrings</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> inspect</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(inspect.getdoc(func_name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Google-style</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> send_request(key: <span class="bu">str</span>, lat: <span class="bu">float</span> <span class="op">=</span> <span class="dv">0</span>, lon: <span class="bu">float</span> <span class="op">=</span> <span class="dv">0</span>):</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="st">"""Send a request to Climacell Weather API</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; to get weather info based on lat/lon.</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Climacell API provides realtime weather</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; information which can be accessed using</span></span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; their 'Realtime Endpoint'.</span></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Args:</span></span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; key (str): an API key with length of 32 chars.</span></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; lat (float, optional): value for latitude.</span></span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; &nbsp; Default=0</span></span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; lon (float, optional): value for longitude.</span></span>
<span id="cb113-14"><a href="#cb113-14" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; &nbsp; Default=0</span></span>
<span id="cb113-15"><a href="#cb113-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-16"><a href="#cb113-16" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Returns:</span></span>
<span id="cb113-17"><a href="#cb113-17" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; int: status code of the result&nbsp;</span></span>
<span id="cb113-18"><a href="#cb113-18" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; dict: Result of the call as a dict</span></span>
<span id="cb113-19"><a href="#cb113-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-20"><a href="#cb113-20" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Notes:</span></span>
<span id="cb113-21"><a href="#cb113-21" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; See https://www.climacell.co/weather-api/&nbsp;</span></span>
<span id="cb113-22"><a href="#cb113-22" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; for more info on Weather API. You can get</span></span>
<span id="cb113-23"><a href="#cb113-23" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; API key from there, too.</span></span>
<span id="cb113-24"><a href="#cb113-24" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; """</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>First sentence should contain the purpose of the function</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Numpydoc</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> send_request(key: <span class="bu">str</span>, lat: <span class="bu">float</span> <span class="op">=</span> <span class="dv">0</span>, lon: <span class="bu">float</span> <span class="op">=</span> <span class="dv">0</span>):</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="st">"""</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Send a request to Climacell Weather API</span></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; to get weather info based on lat/lon.</span></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Climacell API provides realtime weather</span></span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; information which can be accessed using</span></span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; their 'Realtime Endpoint'.</span></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Parameters</span></span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; ----------</span></span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; key (str): an API key with length of 32 chars.</span></span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; lat (float, optional): value for latitude.</span></span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; &nbsp; Default=0</span></span>
<span id="cb114-15"><a href="#cb114-15" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; lon (float, optional): value for longitude.</span></span>
<span id="cb114-16"><a href="#cb114-16" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; &nbsp; Default=0</span></span>
<span id="cb114-17"><a href="#cb114-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-18"><a href="#cb114-18" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Returns</span></span>
<span id="cb114-19"><a href="#cb114-19" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; -------</span></span>
<span id="cb114-20"><a href="#cb114-20" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; int: status code of the result&nbsp;</span></span>
<span id="cb114-21"><a href="#cb114-21" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; dict: Result of the call as a dict</span></span>
<span id="cb114-22"><a href="#cb114-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-23"><a href="#cb114-23" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; Notes</span></span>
<span id="cb114-24"><a href="#cb114-24" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; -----</span></span>
<span id="cb114-25"><a href="#cb114-25" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; See https://www.climacell.co/weather-api/&nbsp;</span></span>
<span id="cb114-26"><a href="#cb114-26" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; for more info on Weather API. You can get</span></span>
<span id="cb114-27"><a href="#cb114-27" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; API key from there, too.</span></span>
<span id="cb114-28"><a href="#cb114-28" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; """</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><u>Type Hinting</u>
<ul>
<li><p>This doesn’t check the type; it’s just metadata</p>
<ul>
<li>see isinstance (see below), NotImplementedError (see below), or <span style="color: goldenrod">{{typecheck}}</span> and {<span style="color: #990000">{mypy}</span> (see bkmks) for type checking that will throw errors</li>
</ul></li>
<li><p>Using type hints enables you to perform type checking. If you use an IDE like PyCharm or Visual Studio Code, you’ll get visual feedback if you’re using unexpected types:</p></li>
<li><p>Variables: <code>my_variable_name: tuple[int, ...]</code></p>
<ul>
<li>variable should be a tuple that contains only integers. The ellipsis says the total quantity is unimportant.</li>
</ul></li>
<li><p>Functions</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_count(threshold: <span class="bu">str</span>, column: <span class="bu">str</span>, df: pd.DataFrame) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> (df[column] <span class="op">&gt;</span> threshold).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“threshold”, “column” should be strings (str)</li>
<li>“df” should be a pandas dataframe (pd.DataFrame)</li>
<li>Output should be an integer (int)</li>
</ul></li>
<li><p>Function as an arg: <code>Callable[[Arg1Type, Arg2Type], ReturnType]</code></p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections.abc <span class="im">import</span> Callable</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> foo(bar: Callable[[<span class="bu">int</span>, <span class="bu">int</span>], <span class="bu">int</span>], a: <span class="bu">int</span>, b: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> bar(a, b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“bar” is a function arg for the function, “foo”</li>
<li>“bar” is supposed to take: 2 integer args ([int, int]) and return an integer (int)</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate(i: <span class="bu">int</span>, action: Callable[..., <span class="bu">int</span>], <span class="op">*</span>args: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> action(i, <span class="op">*</span>args)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“action” takes any number and type of arguments but must return an integer.</li>
<li>With *args: int, you also allow a variable number of optional arguments, as long as they’re integers.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Lambda</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>f: Callable[[<span class="bu">int</span>, <span class="bu">int</span>], <span class="bu">int</span>] <span class="op">=</span> <span class="kw">lambda</span> x, y: <span class="dv">3</span><span class="op">*</span>x <span class="op">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>May not work</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-funs-args" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-funs-args">Args and Operators</h3>
<ul>
<li><p>Misc</p>
<ul>
<li><p>** Args are not reset to default values after each call **</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>:<br>
<a href="./_resources/Python,_General.resources/image.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="./_resources/Python,_General.resources/image.1.png" class="img-fluid" width="335"></a></p>
<div class="sourceCode" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> func(list1<span class="op">=</span>[]):&nbsp; &nbsp; &nbsp; <span class="co"># here l1 is a default argument set to []</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; list1.append(<span class="st">"Temp"</span>)</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> list1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>“None” + conditional must be used to get the arg to reset back to the default value<br>
<a href="./_resources/Python,_General.resources/image.2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="./_resources/Python,_General.resources/image.2.png" class="img-fluid" width="217"></a></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> func(l1<span class="op">=</span><span class="va">None</span>):&nbsp; &nbsp; &nbsp;</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> l1 <span class="kw">is</span> <span class="va">None</span>:&nbsp;</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; l1 <span class="op">=</span> []</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; l1.append(<span class="st">"Temp"</span>)&nbsp;</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> l1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><u>*</u></p>
<ul>
<li>Unpacks Lists</li>
</ul>
<div class="sourceCode" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>num_list <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>num_list_2 <span class="op">=</span> [<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>]</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="op">*</span>num_list)</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 2 3 4 5</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>new_list <span class="op">=</span> [<span class="op">*</span>num_list, <span class="op">*</span>num_list_2] <span class="co"># merge multiple lists</span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [1,2,3,4,5,6,7,8,9,10]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>*args</u></p>
<ul>
<li>Functions that can accept a varying number of values</li>
</ul>
<div class="sourceCode" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> names_tuple(<span class="op">*</span>args):</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> args</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>names_tuple(<span class="st">'Michael'</span>, <span class="st">'John'</span>, <span class="st">'Nancy'</span>)</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ('Michael', 'John', 'Nancy')</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>names_tuple(<span class="st">'Jennifer'</span>, <span class="st">'Nancy'</span>)</span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ('Jennifer', 'Nancy')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>**</u></p>
<ul>
<li>Unpacks Dictionaries</li>
</ul>
<div class="sourceCode" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>num_dict <span class="op">=</span> {‘a’: <span class="dv">1</span>, ‘b’: <span class="dv">2</span>, ‘c’: <span class="dv">3</span>}</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>num_dict_2 <span class="op">=</span> {‘d’: <span class="dv">4</span>, ‘e’: <span class="dv">5</span>, ‘f’: <span class="dv">6</span>}</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="op">*</span>num_dict) <span class="co"># only keys printed</span></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="co"># a b c</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>new_dict <span class="op">=</span> {<span class="op">**</span>num_dict, <span class="op">**</span>num_dict_2} <span class="co"># merge dictionaries</span></span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a><span class="co"># {‘a’: 1, ‘b’: 2, ‘c’: 3, ‘d’: 4, ‘e’: 5, ‘f’: 6}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>**kwargs</u></p>
<ul>
<li>Functions that can accept a varying number of variable/value pairs (like a … in R)</li>
</ul>
<div class="sourceCode" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> names_dict(<span class="op">**</span>kwargs):</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> kwargs</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>names_dict(Jane <span class="op">=</span> <span class="st">'Doe'</span>)</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="co"># {'Jane': 'Doe'}</span></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>names_dict(Jane <span class="op">=</span> <span class="st">'Doe'</span>, John <span class="op">=</span> <span class="st">'Smith'</span>)</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="co"># {'Jane': 'Doe', 'John': 'Smith'}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>Function as an arg</u></p>
<div class="sourceCode" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> classic_boot(df, estimator, seed<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; df_boot <span class="op">=</span> df.sample(n<span class="op">=</span><span class="bu">len</span>(df), replace<span class="op">=</span><span class="va">True</span>, random_state<span class="op">=</span>seed)</span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; estimate <span class="op">=</span> estimator(df_boot)</span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> estimate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Bootstrap function with an “estimator” function (e.g.&nbsp;mean) as arg</li>
<li>Using a Callable</li>
</ul></li>
<li><p><u>Class as an arg</u></p>
<div class="sourceCode" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dataclasses <span class="im">import</span> dataclass</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person:</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>    name: <span class="bu">str</span></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>    age: <span class="bu">int</span></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>    address: <span class="bu">str</span></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>    phone: <span class="bu">str</span></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>    email: <span class="bu">str</span></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data(person: Person):</span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processing data for </span><span class="sc">{</span>person<span class="sc">.</span>name<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>person<span class="sc">.</span>age<span class="sc">}</span><span class="ss">, living at </span><span class="sc">{</span>person<span class="sc">.</span>address<span class="sc">}</span><span class="ss">. Contact info: </span><span class="sc">{</span>person<span class="sc">.</span>phone<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>person<span class="sc">.</span>email<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a>person <span class="op">=</span> Person(<span class="st">"Alice"</span>, <span class="dv">30</span>, <span class="st">"123 Main St"</span>, <span class="st">"555-1234"</span>, <span class="st">"alice@example.com"</span>)</span>
<span id="cb126-15"><a href="#cb126-15" aria-hidden="true" tabindex="-1"></a>process_data(person)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Makes function more readable when the function requires a bunch of args</li>
</ul></li>
<li><p><u>Class as an arg (safer alternative)</u></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> NamedTuple</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person(NamedTuple):</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    name: <span class="bu">str</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>    age: <span class="bu">int</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>    address: <span class="bu">str</span></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>    phone: <span class="bu">str</span></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>    email: <span class="bu">str</span></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data(person: Person):</span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processing data for </span><span class="sc">{</span>person<span class="sc">.</span>name<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>person<span class="sc">.</span>age<span class="sc">}</span><span class="ss">, living at </span><span class="sc">{</span>person<span class="sc">.</span>address<span class="sc">}</span><span class="ss">. Contact info: </span><span class="sc">{</span>person<span class="sc">.</span>phone<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>person<span class="sc">.</span>email<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-13"><a href="#cb127-13" aria-hidden="true" tabindex="-1"></a>person <span class="op">=</span> Person(<span class="st">"Alice"</span>, <span class="dv">30</span>, <span class="st">"123 Main St"</span>, <span class="st">"555-1234"</span>, <span class="st">"alice@example.com"</span>)</span>
<span id="cb127-14"><a href="#cb127-14" aria-hidden="true" tabindex="-1"></a>process_data(person)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Using <code>NamedTuple</code> means that the attributes cannot be overridden</p>
<ul>
<li>e.g.&nbsp;Executing <code>person.name = "Bob"</code> will result in an error because tuples can’t be modified.</li>
</ul></li>
</ul></li>
<li><p><u>Make an arg optional</u></p>
<div class="sourceCode" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>lass Address:</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, street, city, state, zipcode, street2<span class="op">=</span><span class="st">''</span>):</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>.street <span class="op">=</span> street</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>.street2 <span class="op">=</span> street2</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>.city <span class="op">=</span> city</span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>.state <span class="op">=</span> state</span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>.zipcode <span class="op">=</span> zipcode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“street2” has default value of an empty string, so it’s optional</li>
</ul></li>
</ul>
</section>
<section id="best-practices" class="level3">
<h3 class="anchored" data-anchor-id="best-practices">Best Practices</h3>
<ul>
<li>Don’t mutate dataframes inside functions. Create new objects instead.
<ul>
<li><p>Bad: Mutates df<br>
<a href="_resources/Python,_General.resources/func-bp-mutating-df-1.webp" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="From Article"><img src="_resources/Python,_General.resources/func-bp-mutating-df-1.webp" class="img-fluid" width="532" alt="From Article"></a></p>
<ul>
<li>The value of <span class="var-text">df</span> has been assigned to variable <span class="var-text">in_df[df]</span> when it was passed to <code>modify_df</code> as an argument.</li>
<li>Both the original <span class="var-text">df</span> and the <span class="var-text">in_df</span> inside the function point to the same memory location, even if they go by different variable names. During the modification of its attributes, the location of the mutable object remains unchanged.</li>
<li>Since the original instance has been modified, it’s redundant to return the DataFrame and assign it to the variable.</li>
<li>Note: This situation is not the case for immutable objects like Strings.</li>
</ul></li>
<li><p>Good: Utilizes a deep copy of the df before mutating</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_length(word: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(word)</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> prepare_data(df: pd.DataFrame) <span class="op">-&gt;</span> pd.DataFrame:</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.concat([</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>        df.copy(deep<span class="op">=</span><span class="va">True</span>),  <span class="co"># deep copy</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>        df.name.<span class="bu">apply</span>(compute_length).rename(<span class="st">"name_len"</span>),</span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>        ...</span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>    ], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-funs-lam" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-funs-lam">Lambda</h3>
<ul>
<li><p>Useful if you just have 1 expression that you need to execute.</p></li>
<li><p>Best Practices</p>
<ul>
<li><code>lambda</code> is an anonymous function, hence it is not a good idea to store it in a variable for future use</li>
<li>Don’t use lambdas for single functions (e.g.&nbsp;sqrt). Make sure it’s an expression.
<ul>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bad</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>sqrt_list <span class="op">=</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: math.sqrt(x), mylist))</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="co"># good</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>sqrt_list <span class="op">=</span> <span class="bu">list</span>(<span class="bu">map</span>(math.sqrt, mylist))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Affects performance</li>
</ul></li>
</ul></li>
<li>Don’t use for complex expressions that require more than 1 line (meh)
<ul>
<li><p>Per <a href="https://peps.python.org/pep-0008/#maximum-line-length">PEP8 guidelines</a>, Limit all lines to a maximum of 79 characters</p></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bad (118 characters)</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"FinalStatus"</span>] <span class="op">=</span> df[<span class="st">"Status"</span>].<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="st">'Completed'</span> <span class="cf">if</span> x <span class="op">==</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="st">'Delivered'</span> <span class="kw">or</span> x <span class="op">==</span> <span class="st">'Shipped'</span> <span class="cf">else</span> <span class="st">'Not Completed'</span>)</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="co"># instead</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"FinalStatus"</span>] <span class="op">=</span> <span class="st">''</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>df.loc[(df[<span class="st">"Status"</span>] <span class="op">==</span> <span class="st">'Delivered'</span>) <span class="op">|</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; (df[<span class="st">"Status"</span>] <span class="op">==</span> <span class="st">'Shipped'</span>),</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="st">'FinalStatus'</span>] <span class="op">=</span> <span class="st">'Completed'</span></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a>df.loc[(df[<span class="st">"Status"</span>] <span class="op">==</span> <span class="st">'Not Delivered'</span>) <span class="op">|</span></span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; (df[<span class="st">"Status"</span>] <span class="op">==</span> <span class="st">'Not Shipped'</span>),</span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="st">'FinalStatus'</span>] <span class="op">=</span> <span class="st">'Not Completed'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: 1 arg</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># py</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="kw">lambda</span> x: np.sin(x <span class="op">/</span> period <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> np.pi)</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co"># r</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="op">~</span>sin(.x <span class="op">/</span> period <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> pi)</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="co"># r</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>\(x) {sin(x <span class="op">/</span> period <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> pi)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: 2 args</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>Greater <span class="op">=</span> <span class="kw">lambda</span> x, y : x <span class="cf">if</span>(x <span class="op">&gt;</span> y) <span class="cf">else</span> y</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>Greater(<span class="fl">0.002</span>, <span class="fl">0.5897</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>Lambda-Filter</u></p>
<ul>
<li><p>Faster than a comprehension</p>
<ul>
<li>see <a href="../qmd/python-general.html#sec-py-gen-loops-comp" style="color: green">Loops &gt;&gt; Comprehensions</a></li>
</ul></li>
<li><p>Format: <code>filter(function, data_object)</code></p>
<ul>
<li>Returns a filter object, which needs to be converted into data structure such as list or set</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Basic</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>yourlist <span class="op">=</span> <span class="bu">list</span>(np.arange(<span class="dv">2</span>,<span class="dv">50</span>,<span class="dv">3</span>))</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(<span class="bu">filter</span>(<span class="kw">lambda</span> x:x<span class="op">**</span><span class="dv">2</span><span class="op">&lt;</span><span class="dv">100</span>, yourlist))</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Output&nbsp;</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: Filter w/logical</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime <span class="im">as</span> dt</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create a list of 10,000 dates</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>datlist <span class="op">=</span> pd.date_range(dt.datetime.today(), periods<span class="op">=</span><span class="dv">10000</span>).tolist()&nbsp;</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the dates to strings via list comprehension</span></span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>datstrlist <span class="op">=</span> [d.strftime(<span class="st">"Day </span><span class="sc">%d</span><span class="st"> in %B of year %Y is a %A"</span>) <span class="cf">for</span> d <span class="kw">in</span> datlist]</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>datstrlist[:<span class="dv">4</span>]</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>[<span class="st">'Day 21 in October of year 2021 is a Thursday'</span>, <span class="st">'Day 22 in October of year 2021 is a Friday'</span>, <span class="st">'Day 23 in October of year 2021 is a Saturday'</span>, <span class="st">'Day 24 in October of year 2021 is a Sunday'</span>]</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>strLamb <span class="op">=</span> <span class="bu">filter</span>(<span class="kw">lambda</span> d: ((d.endswith(<span class="st">"urday"</span>) <span class="kw">or</span> d.endswith(<span class="st">"unday"</span>)) <span class="kw">and</span> <span class="st">"Oc"</span> <span class="kw">in</span> d), datstrlist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Searches for Saturdays and Sundays in the month of October of all years in list of strings</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Nested Lists</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>group1 <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">43</span>,<span class="dv">23</span>,<span class="dv">42</span>,<span class="dv">8</span>,<span class="dv">3</span>,<span class="dv">7</span>]</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>group2 <span class="op">=</span> [[<span class="dv">3</span>, <span class="dv">34</span>, <span class="dv">23</span>, <span class="dv">32</span>, <span class="dv">42</span>], [<span class="dv">6</span>, <span class="dv">11</span>, <span class="dv">9</span>], [<span class="dv">1</span>, <span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">8</span>]]</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>[<span class="bu">list</span>(<span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="kw">in</span> group1, sublist)) <span class="cf">for</span> sublist <span class="kw">in</span> group2]</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> [[<span class="dv">3</span>, <span class="dv">23</span>, <span class="dv">42</span>], [], [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">2</span>, <span class="dv">8</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Probably useful for json</li>
<li>for-loop attached to the end of the list-filter combo</li>
<li>Each sublist of group 2 is fed into the lambda-filter and compared to the group 1 list</li>
</ul></li>
</ul></li>
<li><p>Iterating over each element of a list</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: <code>map</code></p>
<div class="sourceCode" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x<span class="op">**</span><span class="dv">2</span><span class="op">+</span>x<span class="op">**</span><span class="dv">3</span>, yourlist))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>map</code> returns a map object that needs to be converted</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: 2 Lists</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="op">=</span> <span class="bu">list</span>(np.arange(<span class="dv">4</span>,<span class="dv">52</span>,<span class="dv">3</span>))</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>yourlist <span class="op">=</span> <span class="bu">list</span>(np.arange(<span class="dv">2</span>,<span class="dv">50</span>,<span class="dv">3</span>))</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x,y: x<span class="op">**</span><span class="dv">2</span><span class="op">+</span>y<span class="op">**</span><span class="dv">2</span>, yourlist, mylist))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Like a pmap</li>
</ul></li>
</ul></li>
<li><p>Nested lambdas</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: <code>map</code></p>
<div class="sourceCode" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x<span class="op">*</span><span class="dv">2</span>, <span class="bu">filter</span>(<span class="kw">lambda</span> x: x<span class="op">%</span><span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, arr)))</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> [<span class="dv">4</span>,<span class="dv">8</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Work inside out (locate where the data object, arr, appears)</li>
<li>“arr” is filtered by the first lambda function for even numbers then iterated by map to be squared by the second lambda function</li>
</ul></li>
</ul></li>
<li><p>Iterate over rows of a column in a df</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: Using formula over rows</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>grade[<span class="st">'evaluate'</span>]<span class="op">=</span>grade[<span class="st">'MathScore'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">round</span>((x<span class="op">**</span>x)<span class="op">/</span><span class="dv">2</span>,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“grade” is the df; “MathScore” is a numeric column; “evaluate” is the new column in the df</li>
<li>Formula applied to each value of “MathScore” to generate each value of evaluate</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Conditional over rows</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>grade[<span class="st">'group'</span>]<span class="op">=</span>grade[<span class="st">'MathScore'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">'Excellent'</span> <span class="cf">if</span> x<span class="op">&gt;=</span><span class="fl">3.0</span> <span class="cf">else</span> <span class="st">'Average'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>“grade” is the df; “MathScore” is a numeric column; “group” is the new column in the df</li>
<li>Conditional applied to each value of “MathScore” to generate each value of “group”</li>
</ul></li>
<li><p>Using <span style="color: goldenrod">{{swifter}}</span> for parallelization</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> swifter</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'e'</span>] <span class="op">=</span> df.swifter.<span class="bu">apply</span>(<span class="kw">lambda</span> x: infer(x[<span class="st">'a'</span>], x[<span class="st">'b'</span>], x[<span class="st">'c'</span>], x[<span class="st">'d'</span>]), axis <span class="op">=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>In a Pivot Table (like a crosstab)</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span></p>
<ul>
<li>grades_df
<ul>
<li>2 names (“name”)</li>
<li>6 scores (“score”)</li>
<li>Only 2 letter grades associated with these scores (“letter grade”)</li>
</ul></li>
<li>Task: drop lowest score for each letter grade, then calculate the average score for each letter grade</li>
</ul>
<div class="sourceCode" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>grades_df.pivot_table(index<span class="op">=</span><span class="st">'name'</span>,</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columns<span class="op">=</span><span class="st">'letter grade'</span>,</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; values<span class="op">=</span><span class="st">'score'</span>,</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aggfunc <span class="op">=</span> <span class="kw">lambda</span> series : (<span class="bu">sorted</span>(<span class="bu">list</span>(series))[<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> <span class="bu">sorted</span>(<span class="bu">list</span>(series))[<span class="op">-</span><span class="dv">2</span>]) <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a>letter grade&nbsp; &nbsp; A&nbsp; &nbsp; B</span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a>name</span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a>Arif&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="fl">96.5</span>&nbsp; <span class="fl">87.0</span></span>
<span id="cb143-9"><a href="#cb143-9" aria-hidden="true" tabindex="-1"></a>Kayla&nbsp; &nbsp; &nbsp; &nbsp; <span class="fl">95.5</span>&nbsp; <span class="fl">84.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>index: each row will be a “name”</li>
<li>columns: each column will be a “letter grade”</li>
<li>values: value in the cells will be from the “score” column according to each combination columns in the index and columns args</li>
<li>aggfunc: uses a lambda to compute the aggregated values
<ul>
<li>“series” is used a the variable&nbsp; in the lambda function</li>
<li>sorts series (ascending), takes the top two values (using negative list indexing), and averages them</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-funs-scop" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-funs-scop">Scope</h3>
<ul>
<li>Populated objects within functions persist <em>if</em> you instantiate the object in the argument<br>
<a href="./_resources/Python,_General.resources/FCDnQ_wWQAEI-qf (2).jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="./_resources/Python,_General.resources/FCDnQ_wWQAEI-qf (2).jpg" class="img-fluid" width="262"></a>
<ul>
<li>“all_numbers” retained it’s previous value when the 2nd call to the function was made</li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-funs-clos" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-funs-clos">Closures</h3>
<ul>
<li><p>Inner functions that can access values in the outer function, even after the outer function has finished its execution</p></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="co"># closure way</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> balanceOwed(roomN,rate,nights):</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="kw">def</span> increaseByMeals(extra):</span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; amountOwned<span class="op">=</span>rate<span class="op">*</span>nights<span class="op">+</span>extra</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="ss">f"Dear Guest of Room [</span><span class="sc">{</span>roomN<span class="sc">}</span><span class="ss">]</span><span class="sc">{</span>style<span class="op">=</span><span class="st">'color: #990000'</span><span class="sc">}</span><span class="ss">, you have"</span>,&nbsp;</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"a due balance:"</span>, <span class="st">"$</span><span class="sc">{:.2f}</span><span class="st">"</span>.<span class="bu">format</span>(amountOwned))</span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">return</span> amountOwned</span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> increaseByMeals</span>
<span id="cb144-10"><a href="#cb144-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-11"><a href="#cb144-11" aria-hidden="true" tabindex="-1"></a>ba <span class="op">=</span> balanceOwned(<span class="dv">201</span>,<span class="dv">400</span>,<span class="dv">3</span>)</span>
<span id="cb144-12"><a href="#cb144-12" aria-hidden="true" tabindex="-1"></a>ba(<span class="dv">200</span>)</span>
<span id="cb144-13"><a href="#cb144-13" aria-hidden="true" tabindex="-1"></a>ba(<span class="dv">150</span>)</span>
<span id="cb144-14"><a href="#cb144-14" aria-hidden="true" tabindex="-1"></a>ba(<span class="dv">180</span>)</span>
<span id="cb144-15"><a href="#cb144-15" aria-hidden="true" tabindex="-1"></a>ba(<span class="dv">190</span>)</span>
<span id="cb144-16"><a href="#cb144-16" aria-hidden="true" tabindex="-1"></a>Dear Guest of Room <span class="dv">201</span>, you have a due balance: $<span class="fl">1400.00</span></span>
<span id="cb144-17"><a href="#cb144-17" aria-hidden="true" tabindex="-1"></a>Dear Guest of Room <span class="dv">201</span>, you have a due balance: $<span class="fl">1350.00</span></span>
<span id="cb144-18"><a href="#cb144-18" aria-hidden="true" tabindex="-1"></a>Dear Guest of Room <span class="dv">201</span>, you have a due balance: $<span class="fl">1380.00</span></span>
<span id="cb144-19"><a href="#cb144-19" aria-hidden="true" tabindex="-1"></a>Dear Guest of Room <span class="dv">201</span>, you have a due balance: $<span class="fl">1390.00</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Tedious way: For each value of “extra” (e.g.&nbsp;meals), the function needs to be called even if the other values of the arguments don’t change.</li>
<li>Closure way:
<ul>
<li><em>increaseByMeals()</em> is a closure function, because it remembers the values of the outer function <em>balanceOwed()</em>, even after the execution of the latter</li>
<li><em>balanceOwed()</em> is called with its three arguments only once and then after its execution, we call it four times with the meal expenses (“extra”).</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-py-gen-mods" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-mods">Modules</h2>
<ul>
<li><p>.py files are called “modules.”</p></li>
<li><p>A directory with .py files in which one of the files is an “__init__.py” is called a package.</p></li>
<li><p>Misc</p>
<ul>
<li>Resource: <a href="https://www.bitecode.dev/p/making-your-python-life-easier-by">Make your Python life easier by learning how imports find things</a></li>
<li><code>sys.path</code> contains the list of paths where Python is looking for things to import. Your virtual environment and the directory containing your entry point are automatically added to <code>sys.path</code><em>.</em>
<ul>
<li><code>sys.path</code>&nbsp;is a list. Which means you can&nbsp;<code>.append()</code>. Any directory you add there will have its content importable. It’s a useful hack, but use it as a last resort.</li>
</ul></li>
<li>When using -m flag to run a script, if you pass a package instead of a module, the package must contain a “__main__.py” file for it to work. This __main__.py module will run.</li>
<li>If you have scripts in your projects, don’t run them directly. Run them using “-m”, and you can assume everything starts from the root.
<ul>
<li><p><span class="ribbon-highlight">Example</span>:</p>
<pre><code>top_dir
├── foo
│   ├── bar.py
│   ├── __init__.py
│   └── blabla.py
└── blabla.py</code></pre>
<ul>
<li>Running <code>python foo/bar.py</code>, “top_dir” is the current working directory, but “foo” is added to the <code>sys.path</code>.</li>
<li>Running <code>python -m foo.bar</code>, “top_dir” is the current working directory and added to <code>sys.path</code>.
<ul>
<li>Imports can all start from the root of the project and opened file paths as well.</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Usage<br>
<a href="./_resources/Python,_General.resources/image.10.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="./_resources/Python,_General.resources/image.10.png" class="img-fluid" width="299"></a></p></li>
<li><p><u>Project Structure</u></p>
<pre><code>├── main.py
├── packages
│&nbsp; └── __init__.py
│&nbsp; └── module_1.py
│&nbsp; └── module_2.py
│&nbsp; └── module_3.py
└── └── module_4.py</code></pre>
<ul>
<li><p>“__init__.py” contains only 1 line which declares all the functions (or classes?) that are in the modules</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>__all__ <span class="op">=</span> [<span class="st">"func1"</span>, <span class="st">"func2"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>If the module files contained classes with multiple functions, I think you’d just declare the classes and not every function in that class.
<ul>
<li>If using classes, each module should only have 1 class.</li>
</ul></li>
</ul></li>
<li><p>Scripts need to include “_main_” in order to used in other scripts</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test_function.py</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function1():&nbsp;</span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(<span class="st">"Hello world"</span>)&nbsp;</span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>function1()</span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the __main__ script</span></span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">'__main__'</span>:&nbsp; &nbsp;</span>
<span id="cb148-8"><a href="#cb148-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># execute only if run as a script</span></span>
<span id="cb148-9"><a href="#cb148-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; function1()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Says if this file is being run non-interactively (i.e.&nbsp;as a script), run this chunk</li>
<li>Add <code>else:</code> chunk, then that chunk will be run only if the file is imported as a module</li>
<li>Allows you to allow or prevent parts of code from being run when the modules are imported</li>
<li>Importing a module <em>without</em> _main_ in a jupyter notebook results in this<img src="./_resources/Python,_General.resources/image.png" class="img-fluid"></li>
</ul></li>
</ul></li>
<li><p><u>Loading</u></p>
<ul>
<li><p>DO NOT USE <code>from &lt;library&gt; import *</code></p>
<ul>
<li><p>This will import anything and everything from that library and causes several problems:</p>
<ul>
<li><p>You don’t know what is in that package, so you have no idea what you just imported, or even if what you want is in there.</p></li>
<li><p>You just filled your local namespace with an unknown quantity of mysterious names, and you don’t know what they will shadow.</p></li>
<li><p>Your editor will have a hard time helping you since it doesn’t know what you imported.</p></li>
<li><p>Your colleague will hate you because they have no idea what variables come from where.</p></li>
</ul></li>
<li><p>Exception: In the shell, it’s handy. Sometimes, you want to import all things in __init__.py and you have “__all__” defined (see above)</p></li>
</ul></li>
<li><p>From the working directory, it’s like importing from a library: <code>from file1 import function1</code></p></li>
<li><p>From a subdirectory, <code>from subdirectory.file1 import function1</code></p></li>
<li><p>From a directory outside the project, add the module to sys.path before importing it</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>sys.path.append(<span class="st">'/User/moduleDirectory'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>When a module is imported, it first searches for built-in modules, then the paths listed in <code>sys.path</code></p></li>
<li><p>This appends the new path to the end of the sys.path</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>sys.path.insert(<span class="dv">1</span>, <span class="st">'/User/moduleDirectory'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Puts this path at the front of the sys.path directory list.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>sys.path.remove(<span class="st">'/User/NewDirectory'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>*delete path from sys.path after you finish*</li>
<li>Python will also search this path for future projects unless they are removed</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-cond" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-cond">Conditionals</h2>
<ul>
<li><p><u>If-Else</u></p>
<ul>
<li><p>Syntax</p>
<pre><code>if &lt;expression&gt;:
&nbsp; &nbsp; do something
else:
&nbsp; &nbsp; do something else</code></pre></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb153"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>regenerate <span class="op">=</span> <span class="va">False</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> regenerate:</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>    concepts_list <span class="op">=</span> df2Graph(df, model<span class="op">=</span><span class="st">'zephyr:latest'</span>)</span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>    dfg1 <span class="op">=</span> graph2Df(concepts_list)</span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> os.path.exists(outputdirectory):</span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a>        os.makedirs(outputdirectory)</span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>    dfg1.to_csv(outputdirectory<span class="op">/</span><span class="st">"graph.csv"</span>, sep<span class="op">=</span><span class="st">"|"</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>    df.to_csv(outputdirectory<span class="op">/</span><span class="st">"chunks.csv"</span>, sep<span class="op">=</span><span class="st">"|"</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb153-11"><a href="#cb153-11" aria-hidden="true" tabindex="-1"></a>    dfg1 <span class="op">=</span> pd.read_csv(outputdirectory<span class="op">/</span><span class="st">"graph.csv"</span>, sep<span class="op">=</span><span class="st">"|"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><u>Try-Except</u></p>
<ul>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb154"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; env_var <span class="op">=</span> os.environ[<span class="st">'ENV'</span>]</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">KeyError</span>:</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># Do something</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>If “ENV” is not a present a KeyError is thrown. Then, <code>except</code> section executed.</li>
</ul></li>
</ul></li>
<li><p><u>Match</u> (&gt; Python 3.10) (switch function)</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="cf">match</span> <span class="bu">object</span>:</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; case <span class="op">&lt;</span>pattern_1<span class="op">&gt;</span>:</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="op">&lt;</span>action_1<span class="op">&gt;</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; case <span class="op">&lt;</span>pattern_2<span class="op">&gt;</span>:</span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="op">&lt;</span>action_2<span class="op">&gt;</span></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; case <span class="op">&lt;</span>pattern_3<span class="op">&gt;</span>:</span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="op">&lt;</span>action_3<span class="op">&gt;</span></span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; case _:</span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="op">&lt;</span>action_wildcard<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>“object” is just a variable name; could be anything</p></li>
<li><p>“case_” is the value used when none of the other cases are a match</p></li>
<li><p><span class="ribbon-highlight">Example</span>: function input inside user function</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> http_error(status):</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; match status:</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; case <span class="dv">200</span>:</span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">return</span> <span class="st">'OK'</span></span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; case <span class="dv">400</span>:</span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">return</span> <span class="st">'Bad request'</span></span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; case <span class="dv">401</span> <span class="op">|</span> <span class="dv">403</span> <span class="op">|</span> <span class="dv">404</span>:</span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">return</span> <span class="st">'Not allowed'</span></span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; case _:</span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">return</span> <span class="st">'Something is wrong'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: dict input inside a function</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_service_level(user_data: <span class="bu">dict</span>):</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; match user_data:</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; case {<span class="st">'subscription'</span>: _, <span class="st">'msg_type'</span>: <span class="st">'info'</span>}:</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'Service level = 0'</span>)</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; case {<span class="st">'subscription'</span>: <span class="st">'free'</span>, <span class="st">'msg_type'</span>: <span class="st">'error'</span>}:</span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'Service level = 1'</span>)</span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; case {<span class="st">'subscription'</span>: <span class="st">'premium'</span>, <span class="st">'msg_type'</span>: <span class="st">'error'</span>}:</span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'Service level = 2'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: inside a class</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ServiceLevel:</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, subscription, msg_type):</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>.subscription <span class="op">=</span> subscription</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="va">self</span>.msg_type <span class="op">=</span> msg_type</span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="kw">def</span> get_service_level(user_data):</span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; match user_data:</span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case ServiceLevel(subscription<span class="op">=</span>_, msg_type<span class="op">=</span><span class="st">'info'</span>):</span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'Level = 0'</span>)</span>
<span id="cb158-10"><a href="#cb158-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case ServiceLevel(subscription<span class="op">=</span><span class="st">'free'</span>, msg_type<span class="op">=</span><span class="st">'error'</span>):</span>
<span id="cb158-11"><a href="#cb158-11" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'Level = 1'</span>)</span>
<span id="cb158-12"><a href="#cb158-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case ServiceLevel(subscription<span class="op">=</span><span class="st">'premium'</span>, msg_type<span class="op">=</span><span class="st">'error'</span>):</span>
<span id="cb158-13"><a href="#cb158-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'Level = 2'</span>)</span>
<span id="cb158-14"><a href="#cb158-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case _:</span>
<span id="cb158-15"><a href="#cb158-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'Provide valid parameters'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Note that inside the function, the change from “:” to “=”&nbsp; and “()” following the class name in the “case” portion of the match</li>
</ul></li>
</ul></li>
<li><p><u>Assert</u></p>
<ul>
<li>Used to confirm a condition</li>
</ul>
<pre><code>Incorrect: assert condition, message&nbsp;

Correct method:&nbsp;
if not condition:&nbsp;
&nbsp; &nbsp; raise AssertionError</code></pre>
<ul>
<li><code>assert</code> is useful for debugging code because it lets you test if a condition in your code returns True, if not, the program will raise an AssertionError.</li>
<li>** Do not use in production, because when code is executed with the -O (optimize) flag, the assert statements are removed from the bytecode. **</li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-loops" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-loops">Loops</h2>
<ul>
<li>Misc
<ul>
<li><p>List Comprehensions vs Generators in terms of memory usage<br>
<a href="_resources/Python,_General.resources/loops-listcomp-vs-gen-1.webp" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="_resources/Python,_General.resources/loops-listcomp-vs-gen-1.webp" class="img-fluid" width="432"></a></p></li>
<li><p><span style="color: goldenrod">{{</span><a href="https://tqdm.github.io/" style="color: goldenrod">tqdm</a><span style="color: goldenrod">}}</span> - progress bar for loops</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tqdm <span class="im">import</span> tqdm</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> tqdm(<span class="bu">range</span>(<span class="dv">10000</span>))</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>break</code> terminates the loop containing it</p>
<ul>
<li>If in a nested loop, it will terminate the inner-most loop containing it</li>
</ul></li>
<li><p><code>continue</code> is used to skip the remaining code inside a loop for the current iteration only; forces the start of the next iteration of the loop</p></li>
<li><p><code>pass</code> does nothing</p>
<ul>
<li>used when a statement or a condition is required to be present in the program but we do not want any command or code to execute</li>
</ul></li>
</ul></li>
</ul>
<section id="sec-py-gen-loops-iter" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loops-iter">Iterators</h3>
<ul>
<li><p>Remembers values</p></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb161"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>D <span class="op">=</span> {<span class="st">"123"</span>:<span class="st">"Y"</span>,<span class="st">"111"</span>:<span class="st">"PT"</span>,<span class="st">"313"</span>:<span class="st">"Y"</span>,<span class="st">"112"</span>:<span class="st">"Y"</span>,<span class="st">"201"</span>:<span class="st">"PT"</span>}</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>ff <span class="op">=</span> <span class="bu">filter</span>(<span class="kw">lambda</span> e:e[<span class="dv">1</span>]<span class="op">==</span><span class="st">"Y"</span>, D.items())</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(ff))</span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> (<span class="st">'123'</span>, <span class="st">'Y'</span>)</span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">next</span>(ff))</span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> (<span class="st">'313'</span>, <span class="st">'Y'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>apply</code></p>
<ul>
<li><p><span class="arg-text">axis</span></p>
<ul>
<li><p>0 or ‘index’: apply function to each column.</p></li>
<li><p>1 or ‘columns’: apply function to each row.</p></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Function applied to rows of a column of a dataframe (i.e.&nbsp;cells)</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> df2Graph(dataframe: pd.DataFrame, model<span class="op">=</span><span class="va">None</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># dataframe.reset_index(inplace=True)</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>  results <span class="op">=</span> dataframe.<span class="bu">apply</span>(</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> row: graphPrompt(row.text, {<span class="st">"chunk_id"</span>: row.chunk_id}, model), axis<span class="op">=</span><span class="dv">1</span></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="var-text">text</span> and <span class="var-text">chunk_id</span> are column names of the dataframe</li>
<li><span class="arg-text">row</span> is the row of the dataframe since <span class="arg-text">axis=1</span>, and from that row, the columns <span class="var-text">text</span> and <span class="var-text">chunk_id</span> are subsetted in the arguments of user-defined function.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Formula applied to rows of a column of a dataframe (i.e.&nbsp;cells)</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>grade[<span class="st">'evaluate'</span>]<span class="op">=</span>grade[<span class="st">'MathScore'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">round</span>((x<span class="op">**</span>x)<span class="op">/</span><span class="dv">2</span>,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="var-text">grade</span> is the df; <span class="var-text">MathScore</span> is a numeric column; <span class="var-text">evaluate</span> is the new column in the df</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-loops-gen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loops-gen">Generators</h3>
<ul>
<li><p>Generators are iterators, a kind of iterable you can only iterate over once. (normal iterators like lists, strings, etc. can be repeatedly iterated over)</p></li>
<li><p>Generators do not store all the values in memory, they generate the values on the fly</p>
<ul>
<li><code>yield</code> - Pauses the function saving all its states and later continues from there on successive calls.
<ul>
<li>Allows you to consume one element at a time and work with it without requiring you to have every element in memory.</li>
<li>Produces a generator</li>
</ul></li>
</ul></li>
<li><p>Misc</p>
<ul>
<li><span style="color: goldenrod">{{itertools}}</span> <code>islice</code> can slice a generator.</li>
<li>Also see <a href="../qmd/apis.html#sec-apis-reqlib" style="color: green">APIs &gt;&gt; {{requests}}</a> for an example</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Using a comprehension&nbsp;</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>mygenerator <span class="op">=</span> (x<span class="op">*</span>x <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>))</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> mygenerator:</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>...&nbsp; &nbsp; <span class="bu">print</span>(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Produce a list and ( ) produce a generator&nbsp;</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Using a function</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_generator():</span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; mylist <span class="op">=</span> <span class="bu">range</span>(<span class="dv">3</span>)</span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">for</span> i <span class="kw">in</span> mylist:</span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">yield</span> i<span class="op">*</span>i</span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> mygenerator:</span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(i)</span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The first time the for calls the generator object created from your function, it will run the code in your function from the beginning until it hits yield, then it’ll return the first value of the loop.</li>
<li>Then, each subsequent call will run another iteration of the loop you have written in the function and return the next value.</li>
<li>This will continue until the generator is considered empty, which happens when the function runs without hitting yield.
<ul>
<li>That can be because the loop has come to an end, or because you no longer satisfy an “if/else”</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Sending values to <code>(yield)</code></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> grep(pattern):</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> <span class="st">"Looking for </span><span class="sc">%s</span><span class="st">"</span> <span class="op">%</span> pattern</span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; line <span class="op">=</span> (<span class="cf">yield</span>)</span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> pattern <span class="kw">in</span> line:</span>
<span id="cb166-6"><a href="#cb166-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span> line,</span>
<span id="cb166-7"><a href="#cb166-7" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> grep(<span class="st">"python"</span>)&nbsp; <span class="co"># instantiate with "python" pattern to search for</span></span>
<span id="cb166-8"><a href="#cb166-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-9"><a href="#cb166-9" aria-hidden="true" tabindex="-1"></a>g.<span class="bu">next</span>() <span class="co"># Prime it</span></span>
<span id="cb166-10"><a href="#cb166-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> Looking <span class="cf">for</span> python</span>
<span id="cb166-11"><a href="#cb166-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-12"><a href="#cb166-12" aria-hidden="true" tabindex="-1"></a>g.send(<span class="st">"A series of tubes"</span>) <span class="co"># "python" not present so returns nothing</span></span>
<span id="cb166-13"><a href="#cb166-13" aria-hidden="true" tabindex="-1"></a>g.send(<span class="st">"python generators rock!"</span>) <span class="co"># "python" present so returns line</span></span>
<span id="cb166-14"><a href="#cb166-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> python generators rock<span class="op">!</span></span>
<span id="cb166-15"><a href="#cb166-15" aria-hidden="true" tabindex="-1"></a>g.close() <span class="co"># closes coroutine</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>(yield) receives the input of the .send method and creates a generator object which is assigned to “line”.</li>
<li>All coroutines must be “primed” by first calling .next() (or send(None))
<ul>
<li>This advances execution to the location of the first yield expression</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Sending values to (yield)</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writer():</span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="st">"""A coroutine that writes data *sent* to it to fd, socket, etc."""</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; w <span class="op">=</span> (<span class="cf">yield</span>)</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(<span class="st">'&gt;&gt; '</span>, w)</span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writer_wrapper(coro):</span>
<span id="cb167-7"><a href="#cb167-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># </span><span class="al">TBD</span></span>
<span id="cb167-8"><a href="#cb167-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">pass</span></span>
<span id="cb167-9"><a href="#cb167-9" aria-hidden="true" tabindex="-1"></a>w <span class="op">=</span> writer()</span>
<span id="cb167-10"><a href="#cb167-10" aria-hidden="true" tabindex="-1"></a>wrap <span class="op">=</span> writer_wrapper(w)</span>
<span id="cb167-11"><a href="#cb167-11" aria-hidden="true" tabindex="-1"></a>wrap.send(<span class="va">None</span>)&nbsp; <span class="co"># "prime" the coroutine</span></span>
<span id="cb167-12"><a href="#cb167-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>):</span>
<span id="cb167-13"><a href="#cb167-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; wrap.send(i)</span>
<span id="cb167-14"><a href="#cb167-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span>&nbsp; <span class="dv">0</span></span>
<span id="cb167-15"><a href="#cb167-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span>&nbsp; <span class="dv">1</span></span>
<span id="cb167-16"><a href="#cb167-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span>&nbsp; <span class="dv">2</span></span>
<span id="cb167-17"><a href="#cb167-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span>&nbsp; <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>A more complex framework if you want to break the workflow into multiple functions</li>
</ul></li>
</ul>
<section id="sec-py-gen-loops-gen-yf" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-py-gen-loops-gen-yf">Using <code>yield from</code></h4>
<ul>
<li><p>Allows for two-way usage (reading/sending) of generators</p></li>
<li><p><span class="ribbon-highlight">Example</span> (reading from a generator)</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> reader():</span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="st">"""A generator that fakes a read from a file, socket, etc."""</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>):</span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">yield</span> <span class="st">'&lt;&lt; </span><span class="sc">%s</span><span class="st">'</span> <span class="op">%</span> i</span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="co"># with yield</span></span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> reader_wrapper(g):</span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># Manually iterate over data produced by reader</span></span>
<span id="cb168-9"><a href="#cb168-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">for</span> v <span class="kw">in</span> g:</span>
<span id="cb168-10"><a href="#cb168-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">yield</span> v</span>
<span id="cb168-11"><a href="#cb168-11" aria-hidden="true" tabindex="-1"></a><span class="co"># OR with yield from</span></span>
<span id="cb168-12"><a href="#cb168-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> reader_wrapper(g):</span>
<span id="cb168-13"><a href="#cb168-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">yield</span> <span class="cf">from</span> g</span>
<span id="cb168-14"><a href="#cb168-14" aria-hidden="true" tabindex="-1"></a>wrap <span class="op">=</span> reader_wrapper(reader())</span>
<span id="cb168-15"><a href="#cb168-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> wrap:</span>
<span id="cb168-16"><a href="#cb168-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Basic; only eliminates 1 line of code</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span> (sending to a generator)</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># with (yield)</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writer_wrapper(coro):</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; coro.send(<span class="va">None</span>)&nbsp; <span class="co"># prime the coro</span></span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">try</span>:</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x <span class="op">=</span> (<span class="cf">yield</span>)&nbsp; <span class="co"># Capture the value that's sent</span></span>
<span id="cb169-7"><a href="#cb169-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; coro.send(x)&nbsp; <span class="co"># and pass it to the writer</span></span>
<span id="cb169-8"><a href="#cb169-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">except</span> <span class="pp">StopIteration</span>:</span>
<span id="cb169-9"><a href="#cb169-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">pass</span></span>
<span id="cb169-10"><a href="#cb169-10" aria-hidden="true" tabindex="-1"></a><span class="co"># OR with yield from</span></span>
<span id="cb169-11"><a href="#cb169-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writer_wrapper(coro):</span>
<span id="cb169-12"><a href="#cb169-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">yield</span> <span class="cf">from</span> coro</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Need to see example 4 for the writer() code and the use case</li>
<li>Shows the other advantage of using “yield from”: it automatically includes the code to stop prime and stop the loop.</li>
</ul></li>
<li><p>Reusable generator<br>
<a href="./_resources/Python,_General.resources/FGoz2zDWYAQywgq.jpeg" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="./_resources/Python,_General.resources/FGoz2zDWYAQywgq.jpeg" class="img-fluid" width="237"></a></p>
<ul>
<li>reading example using “yield from”</li>
</ul></li>
<li><p>Slicing a generator</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> itertools <span class="im">import</span> islice</span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> gen():</span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">yield</span> <span class="cf">from</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">11</span>)</span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> gen()</span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>myslice <span class="op">=</span> islice(g, <span class="dv">2</span>)</span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> <span class="bu">list</span>(myslice)</span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb170-8"><a href="#cb170-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> [i <span class="cf">for</span> i <span class="kw">in</span> g]</span>
<span id="cb170-9"><a href="#cb170-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
</section>
<section id="sec-py-gen-loops-for" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loops-for">For</h3>
<p><a href="./_resources/Python,_General.resources/image.11.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="./_resources/Python,_General.resources/image.11.png" class="img-fluid" width="428"></a></p>
<ul>
<li><p><strong>Syntax</strong> - <code>for &lt;sequence&gt;: &lt;loop body&gt;</code></p></li>
<li><p><u>Numeric Range</u></p>
<div class="sourceCode" id="cb171"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="op">=</span> <span class="dv">1</span> to <span class="dv">10</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="op">&lt;</span>loop body<span class="op">&gt;</span></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="co"># from 0 to 519</span></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">520</span>)</span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="op">&lt;</span>loop body<span class="op">&gt;</span></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx <span class="kw">in</span> np.arange(<span class="dv">0</span>, <span class="dv">100000</span>):</span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a>&nbsp; res <span class="op">+=</span> df.loc[idx, <span class="st">'int'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>np.arange()</code> ran 8000 times faster than the same chunk using <code>range()</code></li>
</ul></li>
<li><p><u>List</u></p>
<div class="sourceCode" id="cb172"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>even_numbers <span class="op">=</span> []</span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> item <span class="kw">in</span> numbers:</span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> item <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; even_numbers.append(item)</span>
<span id="cb172-6"><a href="#cb172-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(even_numbers)</span>
<span id="cb172-7"><a href="#cb172-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-8"><a href="#cb172-8" aria-hidden="true" tabindex="-1"></a><span class="co"># results: [2, 4, 6, 8]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>List: index and value</u></p>
<div class="sourceCode" id="cb173"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, element <span class="kw">in</span> <span class="bu">enumerate</span>(numbers):</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> element <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>:</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; numbers[index] <span class="op">=</span> element <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">else</span>:</span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">continue</span></span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)</span>
<span id="cb173-8"><a href="#cb173-8" aria-hidden="true" tabindex="-1"></a><span class="co"># results: [2, 2, 6, 4, 10, 6, 14, 8, 18]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>enumerate</code> also gets the index of the respective element at the same time</li>
<li><span class="arg-text">start = 3</span> says start loop at index 3</li>
</ul></li>
<li><p><u>With three expressions</u></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (<span class="cf">for</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">10</span><span class="op">;</span> i<span class="op">+=</span><span class="dv">1</span>)</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="op">&lt;</span>loop body<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>Collection-Based</u></p>
<ul>
<li>If the collection is a dict, then this just iterates over the keys</li>
</ul>
<div class="sourceCode" id="cb175"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="op">&lt;</span>collection<span class="op">&gt;</span>:</span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="op">&lt;</span>loop body<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>Iterate over a sliding window</u><br>
<a href="./_resources/Python,_General.resources/FFhFvD6XwAIaslG.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="./_resources/Python,_General.resources/FFhFvD6XwAIaslG.png" class="img-fluid" width="542"></a></p></li>
<li><p><u>Over dictionary keys and values of a dict</u></p>
<div class="sourceCode" id="cb176"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> a,b <span class="kw">in</span> transaction_data.items():</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="bu">print</span>(a,’<span class="op">~</span>’,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The .items method includes both key and value, so it iterates over the pairs.</li>
</ul></li>
<li><p><u>Over nested dictionaries</u></p>
<div class="sourceCode" id="cb177"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, v <span class="kw">in</span> transaction_data_n.items():</span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> <span class="bu">type</span>(v) <span class="kw">is</span> <span class="bu">dict</span>:</span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">for</span> nk, nv <span class="kw">in</span> v.items():&nbsp;</span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(nk,’ →’, nv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>If the item of the dict is itself a dict then another loop iterates through its items.</li>
<li><span class="var-text">nk</span> and <span class="var-text">nv</span> stand for nested key and nested value</li>
</ul></li>
<li><p><u>Selecting a specific item in a nested dictionary</u></p>
<div class="sourceCode" id="cb178"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, v <span class="kw">in</span> transaction_data_n.items():</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">if</span> <span class="bu">type</span>(v) <span class="kw">is</span> <span class="bu">dict</span> <span class="kw">and</span> k <span class="op">==</span> <span class="st">'transaction_2'</span>:</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="cf">for</span> sk, sv <span class="kw">in</span> v.items():</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="bu">print</span>(sk,<span class="st">'--&gt;'</span>, sv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Only transaction_2’ s items are printed</li>
</ul></li>
<li><p><u>Rows of a data.frame</u></p>
<div class="sourceCode" id="cb179"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> df.itertuples():</span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a>&nbsp; res <span class="op">+=</span> <span class="bu">getattr</span>(row, <span class="st">'int'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>itertuples()</code>&nbsp; is 30x faster than <code>iterrows()</code></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-loops-zip" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loops-zip">zip</h3>
<ul>
<li><p><u>Combine lists into 1 list of tuples</u></p>
<div class="sourceCode" id="cb180"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>acc_values <span class="op">=</span> [<span class="dv">1</span>, <span class="fl">0.04</span>, <span class="fl">0.9</span>]</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>acc_names <span class="op">=</span> [<span class="st">"RMSE"</span>, <span class="st">"MAPE"</span>, <span class="st">"R-sq"</span>]</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a>acc_list <span class="op">=</span> <span class="bu">list</span>(<span class="bu">zip</span>(acc_names, acc_values))</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>acc_list</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a>[(<span class="st">'RMSE'</span>, <span class="dv">1</span>), (<span class="st">'MAPE'</span>, <span class="fl">0.04</span>), (<span class="st">'R-sq'</span>, <span class="fl">0.9</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><code>zip</code> does take lists of different lengths but will create shortest length list with corresponding elements</p></li>
<li><p>Combine lists of unequal lengths but <em>keep</em> the non-paired elements</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> itertools <span class="im">import</span> zip_longest</span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>acc_names3 <span class="op">=</span> [<span class="st">"RMSE"</span>, <span class="st">"MAPE"</span>, <span class="st">"R-sq"</span>, <span class="st">"MSE"</span>]</span>
<span id="cb181-3"><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a>acc_values3 <span class="op">=</span> [rmse, mape, rsq]&nbsp;</span>
<span id="cb181-4"><a href="#cb181-4" aria-hidden="true" tabindex="-1"></a>acc_list3 <span class="op">=</span> <span class="bu">list</span>(zip_longest(acc_names3, acc_values3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><u>Unzip list of tuples into separate lists</u></p>
<div class="sourceCode" id="cb182"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>names, values <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>acc_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Asterisk is the “unzipping operator”</li>
</ul></li>
<li><p><u>Unpack dict into a list of separate tuples for key:value pairs</u></p>
<div class="sourceCode" id="cb183"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>acc_tuples <span class="op">=</span> <span class="bu">list</span>(<span class="bu">zip</span>(acc_dict.keys(), acc_dict.values()))</span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>acc_tuples</span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>[(<span class="st">'RMSE'</span>, <span class="dv">1</span>), (<span class="st">'MAPE'</span>, <span class="fl">0.04</span>), (<span class="st">'R-sq'</span>, <span class="fl">0.9</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="sec-py-gen-loops-comp" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-py-gen-loops-comp">Comprehensions</h3>
<ul>
<li>Misc
<ul>
<li>‘for — in’ construct within comprehensions is faster than the traditional for-loops
<ul>
<li>not faster than (all?) lambda-filters (see functions &gt;&gt; lambda)</li>
</ul></li>
<li>Returns lists or dicts (just change the bracket types)</li>
</ul></li>
<li><u>Dicts</u>
<ul>
<li><p><strong>Syntax</strong>: <code>mydict = {key:val for key, val in zip(keys_list, vals_list)}</code></p></li>
<li><p>Combine key:value lists into a dictionary</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>acc_dict <span class="op">=</span> {k:v <span class="cf">for</span> k,v <span class="kw">in</span> <span class="bu">zip</span>(acc_names, acc_values)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Return value and output of expression</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>mydict <span class="op">=</span> {v: v<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> v <span class="kw">in</span> numberslist}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>If numberslist =[1,2,3], then mydict = {1:1, 2:4, 3:9}</p></li>
</ul></li>
<li><u>Lists</u>
<ul>
<li><p><strong>Syntax</strong>: <code>newlist = [expression for item in iterable if condition == True]</code></p></li>
<li><p>With expression</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> numberslist]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>if numberslist =[1,2,3], then mylist = [1,4,9]</li>
</ul></li>
<li><p>Set values in a list to uppercase</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>newlist <span class="op">=</span> [x.upper() <span class="cf">for</span> x <span class="kw">in</span> fruits]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>With conditional expression (if — else)</p>
<ul>
<li>Append to the comprehension to filter the dictionary or list</li>
<li><strong>Syntax</strong>: mylist = [expressionA <em>if</em> (condition2==True) <em>else</em> expressionB <em>for</em> item <em>in</em> list <em>if</em> (condition1==True)]</li>
<li><span class="ribbon-highlight">Example</span>: <code>newlist = [x if x != "banana" else "orange" for x in fruits]</code>
<ul>
<li>Return “orange” instead of “banana”</li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>: <code>new_list = [(x**2) if (x&gt;90) else (x**3) for x in old_list if (x%2==0)]</code>
<ul>
<li>Says
<ul>
<li>Square an argument if it exceeds 90, else cube it&nbsp;</li>
<li>Return all the exponentiated results only if the argument was an even number</li>
</ul></li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>: <code>c = [d for d in datstrlist if ((d.endswith("urday") or d.endswith("unday")) and "Oc" in d)]</code>
<ul>
<li>String filter than looks for strings with saturdays and sundays in october</li>
<li>*Slower than a lamda-filter* (See <a href="../qmd/python-general.html#sec-py-gen-fun-lam" style="color: green">Functions &gt;&gt; lambda</a>)</li>
</ul></li>
</ul></li>
</ul></li>
<li><u>Nested</u>
<ul>
<li><p><strong>Syntax</strong>: <code>myset = {{expression(itemA, itemB) for itemA in setA} for itemB in setB}</code></p></li>
<li><p><span class="ribbon-highlight">Example</span>: <code>{j for i in range(2, int(N**0.5)+1) for j in range(i**2, N, i)}</code></p>
<ul>
<li>N = 100000</li>
<li>Creates a set of all the integers from 2 to 100,000.</li>
<li>Paces through all the integers i up to the square root of N</li>
<li>Discards from the set of 100,000 those numbers j which are equal or larger than the square of i</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: From <a href="https://towardsdatascience.com/conformal-prediction-for-machine-learning-classification-from-the-ground-up-a12fcf6860d0">link</a></p>
<div class="sourceCode" id="cb188"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to get set labels</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_prediction_set_labels(prediction_set, class_labels):</span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get set of class labels for each instance in prediction sets</span></span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a>    prediction_set_labels <span class="op">=</span> [</span>
<span id="cb188-5"><a href="#cb188-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">set</span>([class_labels[i] <span class="cf">for</span> i, x <span class="kw">in</span> <span class="bu">enumerate</span>(prediction_set) <span class="cf">if</span> x]) <span class="cf">for</span> prediction_set <span class="kw">in</span> </span>
<span id="cb188-6"><a href="#cb188-6" aria-hidden="true" tabindex="-1"></a>        prediction_sets]</span>
<span id="cb188-7"><a href="#cb188-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> prediction_set_labels</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Returns a list where each object in the list is a set object (e.g.&nbsp;{green}, {green, orange})</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-py-gen-debug" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-debug">Debugging</h2>
<ul>
<li>Misc</li>
<li>Terms
<ul>
<li><span style="color: #009499"><strong>Exception Errors</strong></span> - Raised when the syntax is correct but the program results in an error.</li>
<li><span style="color: #009499"><strong>Syntax Errors</strong></span> - Occur when the interpreter detects invalid syntax (relatively easier to fix)
<ul>
<li>e.g.&nbsp;unmatched parenthesis</li>
</ul></li>
<li><span style="color: #009499"><strong>Traceback</strong></span> - A report that helps us understand the reason for an exception.
<ul>
<li>Contains function calls made in the code along with their line numbers</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-py-gen-errhand" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-py-gen-errhand">Error Handling</h2>
<ul>
<li><p><code>try</code> + <code>except</code></p>
<ul>
<li>Says try the main code snippet, but if an exception (error) occurs, run the secondary code snippet, the workaround.</li>
</ul>
<div class="sourceCode" id="cb189"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pct_difference_error_handling(n1, n2):</span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">'''Function that takes two numbers and return the percentual difference</span></span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; between n1 and n2, being n1 the reference number'''</span></span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="co"># Try the main code</span></span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="cf">try</span>:</span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; pct_diff <span class="op">=</span> (n1<span class="op">-</span>n2)<span class="op">/</span>n1</span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> <span class="ss">f'The difference between </span><span class="sc">{</span>n1<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>n2<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>n1<span class="op">-</span>n2<span class="sc">}</span><span class="ss">, which is </span><span class="sc">{</span>pct_diff<span class="op">*</span><span class="dv">100</span><span class="sc">}</span><span class="ss">% of </span><span class="sc">{</span>n1<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb189-9"><a href="#cb189-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-10"><a href="#cb189-10" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="co"># If you find an error, use this code instead</span></span>
<span id="cb189-11"><a href="#cb189-11" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="cf">except</span>:</span>
<span id="cb189-12"><a href="#cb189-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; pct_diff <span class="op">=</span> (<span class="bu">int</span>(n1)<span class="op">-</span><span class="bu">int</span>(n2))<span class="op">/</span><span class="bu">int</span>(n1)</span>
<span id="cb189-13"><a href="#cb189-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="cf">return</span> <span class="ss">f'The difference between </span><span class="sc">{</span>n1<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>n2<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span><span class="bu">int</span>(n1)<span class="op">-</span><span class="bu">int</span>(n2){style<span class="op">=</span><span class="st">'color: #990000'</span>}[}]{style<span class="op">=</span><span class="st">'color: #990000'</span>}<span class="sc">,</span> which <span class="kw">is</span> {pct_diff<span class="op">*</span><span class="dv">100</span>}<span class="op">%</span> of {n1}<span class="st">'</span></span>
<span id="cb189-14"><a href="#cb189-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-15"><a href="#cb189-15" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp; # Optional</span></span>
<span id="cb189-16"><a href="#cb189-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&nbsp;</span> <span class="cf">finally</span><span class="sc">:</span></span>
<span id="cb189-17"><a href="#cb189-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&nbsp;</span> <span class="sc">&nbsp;</span> <span class="bu">print</span>(<span class="st">"Code ended"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Assumes the error will be the user enters a string instead of a numeric. If errors, converts string to numeric and calcs.</li>
<li><code>finally:</code> - This argument will always run, regardless if the try block raises an error or not. So it could be a completion message or a summary, for example.</li>
</ul></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/python-classes.html" class="pagination-link" aria-label="Classes">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Classes</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/python-jupyter.html" class="pagination-link" aria-label="Jupyter">
        <span class="nav-page-text">Jupyter</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../LICENSE.html">
<p>Creative Commons Attribution-NonCommercial 4.0 International License</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>