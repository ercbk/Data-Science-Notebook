<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>General â€“ Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/eda-multilevel-longitudinal.html" rel="next">
<link href="../qmd/eda-geospatial.html" rel="prev">
<link href="../images/ds-favicon-32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-a58ac44440c301c3e7bbe48af8474340.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-aa6c4ee1537efe28e45928786913d2e5.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5J13QCM7YC"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-5J13QCM7YC', { 'anonymize_ip': true});
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/eda-geospatial.html">EDA</a></li><li class="breadcrumb-item"><a href="../qmd/eda-general.html">General</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://ericbook.netlify.app/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house"></i></a>
    <a href="https://ercbk.github.io/Domain-Knowledge-Notebook/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-lightbulb"></i></a>
    <a href="https://ercbk.github.io/Statistical-Rethinking-Notebook/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-book"></i></a>
    <a href="https://github.com/ercbk/Data-Science-Notebook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Algorithms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-learn-to-rank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learn-to-Rank</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-marketing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Marketing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Product</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-recommendation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommendation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anomaly Detection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Apache</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spark</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">APIs</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Association</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-copulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Copulas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-priors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Priors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-troubleshooting-hmc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting HMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/big-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Big Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/business-plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Business Plots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/causal-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-windows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Windows</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cloud-services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Services</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/confidence-and-prediction-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confidence &amp; Prediction Intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cross-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Validation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">CSS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recipes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-bigquery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BigQuery</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-dbt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DuckDB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-feature-stores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Stores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-lakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lakes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-normalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-nosql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NoSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-postgres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Postgres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-relational.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-warehouses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Warehouses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/decision-intelligence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Intelligence</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false">
 <span class="menu-text">Diagnostics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-model-agnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Agnostic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-probabilistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">Deep Learning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-audio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Audio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graph</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Image</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Training</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false">
 <span class="menu-text">Docker</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false">
 <span class="menu-text">Econometrics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-discrete-choice-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Choice Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-fixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-psa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity Score Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-general.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-multilevel-longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel, Longitudinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false">
 <span class="menu-text">Experiments</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-a_b-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Designs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-rct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RCT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-stepped-wedge-cluster-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stepped Wedge Cluster Design</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/extreme-value-theory-(evt).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Extreme Value Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Engineering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embeddings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-splines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Splines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-tokenization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tokenization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Reduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Selection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false">
 <span class="menu-text">Forecasting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-hierarchical_grouped.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical/Grouped</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonlinear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-statistical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/generalized-additive-models-(gam).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalized Additive Models</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false">
 <span class="menu-text">Geospatial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-point-patterns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Point Patterns</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preprocessing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-remote-sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Remote Sensing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-spatial-weights.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spatial Weights</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false">
 <span class="menu-text">Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-github-actions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Github Actions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/glossary-ds-terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary: DS terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gnu-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GNU Make</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false">
 <span class="menu-text">Google Analytics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HTML</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false">
 <span class="menu-text">IDEs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-vscode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VS Code</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/information-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/inkscape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inkscape</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false">
 <span class="menu-text">Job</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-management-leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management / Leadership</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-on-the-job.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On the job</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-organizational-and-team-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizational and Team Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false">
 <span class="menu-text">Javascript</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js-observable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Observable</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JSON</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/kubernetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kubernetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LaTeX</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false">
 <span class="menu-text">LLMs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-agent-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent Chains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Apps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-context-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Context Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-fine-tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine Tuning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-mcp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Context Protocol (MCP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-rag.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RAG</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/loss-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loss Functions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false">
 <span class="menu-text">Mathematics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-linear-algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probability</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/missingness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missingness</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false">
 <span class="menu-text">Mixed Effects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-bmlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BMLR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-glmm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLMM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-residual-covar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Residual Covariance Structures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MLOps</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false">
 <span class="menu-text">Model Building</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-brms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">brms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-h2o-automl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2O</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-modeltime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeltime</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-rstanarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sklearn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false">
 <span class="menu-text">Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-knowledge-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false">
 <span class="menu-text">NLP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-sentiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentiment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-summarization-extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarization and Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-topic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-transformers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transformers</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/optimization-equation-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Package Development</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false">
 <span class="menu-text">Post-Hoc Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-ab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-emmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">emmeans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Privacy/Security</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false">
 <span class="menu-text">Production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-ml-monitoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">ML Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tools</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-analyses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas, Recipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-reticulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reticulate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/quarto-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-base-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-data-table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyverse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regex</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false">
 <span class="menu-text">Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-discrete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-interactions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multinomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-ordinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-regularized.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regularized</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Renv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scraping</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false">
 <span class="menu-text">Shiny</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-hosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hosting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mobile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI Examples</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/simulation-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation, Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreadsheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/stochastic-processes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stochastic Processes</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false">
 <span class="menu-text">Surveys</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-38" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-census-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Census Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-sampling-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyeval</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuning</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-39" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-gtable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gtable</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-diagrams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagrams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false">
 <span class="menu-text">Web</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-40" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-servers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Server</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-eda-gen-" id="toc-sec-eda-gen-" class="nav-link active" data-scroll-target="#sec-eda-gen-">Misc</a></li>
  <li><a href="#sec-eda-gen-bascln" id="toc-sec-eda-gen-bascln" class="nav-link" data-scroll-target="#sec-eda-gen-bascln">Basic Cleaning</a></li>
  <li><a href="#sec-eda-gen-pkgs" id="toc-sec-eda-gen-pkgs" class="nav-link" data-scroll-target="#sec-eda-gen-pkgs">Packages</a></li>
  <li><a href="#sec-eda-gen-miss" id="toc-sec-eda-gen-miss" class="nav-link" data-scroll-target="#sec-eda-gen-miss">Missingness</a></li>
  <li><a href="#sec-eda-gen-out" id="toc-sec-eda-gen-out" class="nav-link" data-scroll-target="#sec-eda-gen-out">Outliers</a></li>
  <li><a href="#sec-eda-gen-grpcal" id="toc-sec-eda-gen-grpcal" class="nav-link" data-scroll-target="#sec-eda-gen-grpcal">Group Calculations</a></li>
  <li><a href="#sec-eda-gen-cont" id="toc-sec-eda-gen-cont" class="nav-link" data-scroll-target="#sec-eda-gen-cont">Continuous Variables</a></li>
  <li><a href="#sec-eda-gen-cat" id="toc-sec-eda-gen-cat" class="nav-link" data-scroll-target="#sec-eda-gen-cat">Categorical/Discrete Variables</a></li>
  <li><a href="#sec-eda-gen-corr" id="toc-sec-eda-gen-corr" class="nav-link" data-scroll-target="#sec-eda-gen-corr">Correlation/Association</a>
  <ul>
  <li><a href="#sec-eda-gen-corr-misc" id="toc-sec-eda-gen-corr-misc" class="nav-link" data-scroll-target="#sec-eda-gen-corr-misc">Misc</a></li>
  <li><a href="#sec-eda-gen-corr-pair" id="toc-sec-eda-gen-corr-pair" class="nav-link" data-scroll-target="#sec-eda-gen-corr-pair">Pairwise Plots</a></li>
  <li><a href="#sec-eda-gen-corr-linear" id="toc-sec-eda-gen-corr-linear" class="nav-link" data-scroll-target="#sec-eda-gen-corr-linear">Linear</a></li>
  <li><a href="#sec-eda-gen-corr-multicol" id="toc-sec-eda-gen-corr-multicol" class="nav-link" data-scroll-target="#sec-eda-gen-corr-multicol">Multicollinearity</a></li>
  <li><a href="#sec-eda-gen-corr-nonlin" id="toc-sec-eda-gen-corr-nonlin" class="nav-link" data-scroll-target="#sec-eda-gen-corr-nonlin">Nonlinear</a></li>
  <li><a href="#sec-eda-gen-corr-cat" id="toc-sec-eda-gen-corr-cat" class="nav-link" data-scroll-target="#sec-eda-gen-corr-cat">Categorical</a></li>
  <li><a href="#sec-eda-gen-corr-ord" id="toc-sec-eda-gen-corr-ord" class="nav-link" data-scroll-target="#sec-eda-gen-corr-ord">Ordinal</a></li>
  </ul></li>
  <li><a href="#sec-eda-gen-contout" id="toc-sec-eda-gen-contout" class="nav-link" data-scroll-target="#sec-eda-gen-contout">Continuous Predictor vs Outcome</a>
  <ul>
  <li><a href="#sec-eda-gen-contout-misc" id="toc-sec-eda-gen-contout-misc" class="nav-link" data-scroll-target="#sec-eda-gen-contout-misc">Misc</a></li>
  <li><a href="#sec-eda-gen-contout-cont" id="toc-sec-eda-gen-contout-cont" class="nav-link" data-scroll-target="#sec-eda-gen-contout-cont">Continuous Outcome</a></li>
  <li><a href="#sec-eda-gen-contout-cat" id="toc-sec-eda-gen-contout-cat" class="nav-link" data-scroll-target="#sec-eda-gen-contout-cat">Categorical Outcome</a></li>
  </ul></li>
  <li><a href="#sec-eda-gen-catout" id="toc-sec-eda-gen-catout" class="nav-link" data-scroll-target="#sec-eda-gen-catout">Categorical Predictor vs Outcome</a>
  <ul>
  <li><a href="#sec-eda-gen-catout-cont" id="toc-sec-eda-gen-catout-cont" class="nav-link" data-scroll-target="#sec-eda-gen-catout-cont">Continuous Outcome</a></li>
  <li><a href="#sec-eda-gen-catout-cat" id="toc-sec-eda-gen-catout-cat" class="nav-link" data-scroll-target="#sec-eda-gen-catout-cat">Categorical Outcome</a></li>
  </ul></li>
  <li><a href="#sec-eda-gen-inter" id="toc-sec-eda-gen-inter" class="nav-link" data-scroll-target="#sec-eda-gen-inter">Interactions</a>
  <ul>
  <li><a href="#sec-eda-gen-inter-misc" id="toc-sec-eda-gen-inter-misc" class="nav-link" data-scroll-target="#sec-eda-gen-inter-misc">Misc</a></li>
  <li><a href="#sec-eda-gen-inter-cont" id="toc-sec-eda-gen-inter-cont" class="nav-link" data-scroll-target="#sec-eda-gen-inter-cont">Continuous Outcome</a></li>
  <li><a href="#sec-eda-gen-inter-cat" id="toc-sec-eda-gen-inter-cat" class="nav-link" data-scroll-target="#sec-eda-gen-inter-cat">Categorical Outcome</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/eda-geospatial.html">EDA</a></li><li class="breadcrumb-item"><a href="../qmd/eda-general.html">General</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-eda-gen" class="quarto-section-identifier">General</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-eda-gen-" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-">Misc</h2>
<ul>
<li>First contact with an unfamiliar database
<ol type="1">
<li>select * from limit 50</li>
<li>Look for keys/fields to connect tables</li>
<li>Make running list of Qâ€™s, try to answer them by poking around first</li>
<li>Find team/code responsible for DB and ask for time to review questions â€“ communication can be a superpower here!</li>
</ol></li>
<li>Use domain knowledge to assess peculier relationships
<ul>
<li>Example: Is there a nonlinear relationship between Driver hours and Incentive Level<br>
<a href="./_resources/EDA.resources/0-FmfHLkDICNkqaV1u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="./_resources/EDA.resources/0-FmfHLkDICNkqaV1u.png" width="432" height="189"></a>
<ul>
<li>Common sense says if we raise payment bonuses, we should see more drivers want to work more hours.</li>
<li>Reason behind the relationship shown in this chart is omitted variables: weather and holiday.
<ul>
<li>Incentives stop having an effect on drivers because they hate going out in shitty weather and want to stay home with their family on the holidays.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-bascln" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-bascln">Basic Cleaning</h2>
<ul>
<li>Tidy column names</li>
<li>Shrink long column names to something reasonable enough for an axis label</li>
<li>Make sure continuous variables arenâ€™t initially coded as categoricals and vice versa</li>
<li>Make note of columns with several values per cell and will&nbsp;need to be separated into multiple columns (e.g.&nbsp;addresses)</li>
<li>Find duplicate rows
<ul>
<li>See
<ul>
<li><a href="../qmd/r-snippets.html#sec-r-snippets-cleaning" style="color: green">R, Snippets &gt;&gt; Cleaning</a></li>
<li><a href="../qmd/sql.html#duplicated-rows" style="color: green">SQL &gt;&gt; Processing Expressions &gt;&gt; Duplicates</a></li>
<li><a href="../qmd/python-pandas.html#sec-py-pandas-ops-distinct" style="color: green">Python, Pandas &gt;&gt; Distinct</a></li>
</ul></li>
<li>These can cause data leakage if the same row is in the test and train sets.</li>
</ul></li>
<li>Make a note to remove columns that the target is a function of
<ul>
<li>e.g.&nbsp;Donâ€™t use monthly salary to predict yearly salary</li>
</ul></li>
<li>Remove columns that occur after the target event
<ul>
<li>e.g.&nbsp;Using info occurring in or after a trial to predict something pre-trial
<ul>
<li>You wonâ€™t have this info beforehand when you make your prediction</li>
</ul></li>
</ul></li>
<li>Ordinal categorical
<ul>
<li><p>Reorder by a number in the text (parse_number)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">income_category =</span> <span class="fu">fct_reorder</span>(income_category, <span class="fu">parse_number</span>(income_category)),</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="co"># manually fix category that is still out of order</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="co"># moves "Less thatn $40K" to first place in the levels</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">income_category =</span> <span class="fu">fct_relevel</span>(income_category, <span class="st">"Less than $40K"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-pkgs" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-pkgs">Packages</h2>
<ul>
<li>Comparisons
<ul>
<li><a href="https://cosimameyer.com/post/exploratory-data-analysis-in-r/">Exploratory Data Analysis in R</a> (also includes basic usage code)<br>
<a href="_resources/EDA.resources/pkg-overview-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="_resources/EDA.resources/pkg-overview-1.png" class="img-fluid" width="332"></a></li>
</ul></li>
<li>Fast Plotting
<ul>
<li>Base R <code>coplot</code> can be used for quick plots of all combinations of categorical and continuous variables for up to 4 variables
<ul>
<li>See <a href="../qmd/eda-general.html#sec-eda-gen-contout-cont" style="color: green">Continuous Predictor vs Outcome &gt;&gt; Continuous Outcome</a></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://indrajeetpatil.github.io/ggstatsplot/" style="color: #990000">ggstatsplot</a><span style="color: #990000">}</span> - Difference in means tests (parametric, nonparametric), two sample tests, robust options
<ul>
<li>See <a href="../qmd/eda-general.html#sec-eda-gen-catout-cont" style="color: green">Categorical Predictor vs Outcome &gt;&gt; Continuous Outcome</a></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://docs.r4photobiology.info/ggpmisc/" style="color: #990000">ggpmisc</a><span style="color: #990000">}</span> - Nice correlation, line fitting functions, mean difference tests (only parametric currently)
<ul>
<li>See <a href="../qmd/eda-general.html#pairwise-plots" style="color: green">Correlation/Association &gt;&gt; Pairwise</a></li>
<li>See <a href="../qmd/eda-general.html#sec-eda-gen-contout-cont" style="color: green">Continuous Predictor vs Outcome &gt;&gt; Continuous Outcome</a>, <a href="../qmd/eda-general.html#sec-eda-gen-contout-cat" style="color: green">Categorical Outcome</a></li>
<li>See <a href="../qmd/eda-general.html#sec-eda-gen-catout-cont" style="color: green">Categorical Predictor vs Outcome &gt;&gt; Continuous Outcome</a></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://grantmcdermott.com/tinyplot/" style="color: #990000">tinyplot</a><span style="color: #990000">}</span> - Fast group by and facetting via formula
<ul>
<li>See <a href="../qmd/eda-general.html#sec-eda-gen-contout-cont" style="color: green">Continuous Predictor vs Outcome &gt;&gt; Continuous Outcome</a></li>
<li>See <a href="../qmd/eda-general.html#sec-eda-gen-catout-cont" style="color: green">Categorical Predictor vs Outcome &gt;&gt; Continuous Outcome</a></li>
<li>See <a href="../qmd/geospatial-spatial-weights.html#sec-geo-swgt-diag" style="color: green">Geospatial,, Spatial Weights &gt;&gt; Diagnostics</a> &gt;&gt; Connectedness &gt;&gt; Example</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://jbengler.github.io/tidyplots/" style="color: #990000">tidyplots</a><span style="color: #990000">}</span> (<a href="https://tidyplots.org/use-cases/">Gallery</a>) - Fast plots w/annotations, heatmaps, mean difference tests, beeswarm boxplots.
<ul>
<li><code>add(ggplot2::geom_text())</code> can be used to add any ggplot2 feature not included in the package
<ul>
<li>I also think that a <code>+</code> on the final tidyplots function and then adding a ggplot function will work. At least this works with <code>theme</code>. The <code>add</code> functionality may be if you want to add a ggplot function in between two tidyplot functions.</li>
</ul></li>
<li>See <a href="../qmd/geospatial-spatial-weights.html#sec-geo-swgt-diag" style="color: green">Geospatial, Spatial Weights &gt;&gt; Diagnostics</a> &gt;&gt; Connectedness &gt;&gt; Example 2</li>
</ul></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://docs.ropensci.org/skimr/" style="color: #990000">skimr</a><span style="color: #990000">}</span> - Overall summary, check completion percentage for vars with too many NAs</li>
<li><span style="color: #990000">{</span><a href="https://boxuancui.github.io/DataExplorer/" style="color: #990000">dataexplorer</a><span style="color: #990000">}</span>
<ul>
<li><p>Report</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_report</span>(airquality)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">create_report</span>(diamonds, <span class="at">y =</span> <span class="st">"price"</span>) <span class="co"># specify response variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Runs multiple functions to analyze dataset</li>
</ul></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://github.com/agstn/dataxray" style="color: #990000">dataxray</a><span style="color: #990000">}</span> - Table with interactive distributions, summary stats, missingness, proportions. (dancho <a href="https://www.r-bloggers.com/2023/01/cut-your-eda-time-into-5-minutes-with-exploratory-dataxray-analysis-edxa/">article/video</a>)</li>
<li><span style="color: #990000">{</span><a href="https://daya6489.github.io/SmartEDA/" style="color: #990000">smartEDA</a><span style="color: #990000">}</span> - Helps in getting the complete exploratory data analysis just by running the function instead of writing lengthy r code<br>
<a href="_resources/EDA.resources/smarteda-features-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="_resources/EDA.resources/smarteda-features-1.png" class="img-fluid" width="271"></a></li>
<li><span style="color: #990000">{</span><a href="https://trelliscope.org/" style="color: #990000">trelliscope</a><span style="color: #990000">}</span> - Quick, interactive, facetted pairwise plots, built with JS</li>
<li><span style="color: #990000">{</span><a href="https://github.com/Kanaries/GWalkR" style="color: #990000">GWalkR</a><span style="color: #990000">}</span> - Tableau style spreadsheet and chart builder</li>
<li><span style="color: #990000">{</span><a href="https://rolkra.github.io/explore/" style="color: #990000">explore</a><span style="color: #990000">}</span> - Interactive data exploration or automated report
<ul>
<li><code>explore</code> - If you want to explore a table, a variable or the relationship between a variable and a target (binary, categorical or numeric). The output of these functions is a plot (automatically checks if an attribute is categorical or numerical, chooses the best plot-type and handles outliers).</li>
<li><code>describe</code> - If you want to describe a dataset or a variable (number of na, unique values, â€¦) The output of these functions is a text.</li>
<li><code>explain</code> - To create a simple model that explains a target. <a href="https://rolkra.github.io/explore/reference/explain_tree.html"><code>explain_tree()</code></a> for a decision tree, <a href="https://rolkra.github.io/explore/reference/explain_forest.html"><code>explain_forest()</code></a> for a random forest and <a href="https://rolkra.github.io/explore/reference/explain_logreg.html"><code>explain_logreg()</code></a> for a logistic regression.</li>
<li><code>report</code> - To generate an automated report of all variables. A target can be defined (binary, categorical or numeric)</li>
<li><code>abtest</code> - To test if a difference is statistically significant</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://docs.ropensci.org/visdat/" style="color: #990000">visdat</a><span style="color: #990000">}</span> has decent visualization for group comparison, missingness, correlation, etc.</li>
<li><span style="color: #990000">{Hmisc::describe}</span>
<ul>
<li><p><span class="ribbon-highlight">Example</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>sparkline<span class="sc">::</span><span class="fu">sparkline</span>(<span class="dv">0</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>des <span class="ot">&lt;-</span> <span class="fu">describe</span>(d)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(des) <span class="co"># maybe for displaying in Viewer pane</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(des, <span class="st">'both'</span>) <span class="co"># maybe just a console df of the numbers</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">maketabs</span>(<span class="fu">print</span>(des, <span class="st">'both'</span>), <span class="at">wide=</span><span class="cn">TRUE</span>) <span class="co"># for Quarto</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>â€œbothâ€ says display â€œcontinuousâ€ and â€œcategoricalâ€</li>
<li>â€œcontinuousâ€<br>
<a href="./_resources/EDA.resources/Screenshot (1434).png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="./_resources/EDA.resources/Screenshot (1434).png" class="img-fluid" width="632"></a></li>
<li>â€œcategoricalâ€<br>
<a href="./_resources/EDA.resources/Screenshot (1433).png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="./_resources/EDA.resources/Screenshot (1433).png" class="img-fluid" width="532"></a></li>
<li>Columns (from Hmisc <a href="https://cran.r-project.org/web/packages/Hmisc/Hmisc.pdf">Ref Manual</a>)
<ul>
<li><span class="arg-text">Info</span> - Says how informative your discrete outcome variable is. Its how statistically efficient (i.e.&nbsp;informative quality given your sample size) as compared to if it was a continuous variable. (For more details, see <a href="https://stats.stackexchange.com/questions/655891/the-info-measure-of-hmiscdescribe">Stack Exchange</a>)
<ul>
<li>Helps you derive the sample size needed to have a reliable model or to achieve a certain statistical power for a certain comparison. (See first example)
<ul>
<li>If there is significant measurement error in Y, efficiency and effective sample size will be lower than what <span class="arg-text">Info</span> indicates.</li>
</ul></li>
<li>Formula<br>
<span class="math display">\[
\text{Info} = \frac{1 - \frac{1}{n^3}\sum_{i=1}^k n_i^3}{1-k^2}
\]</span></li>
<li>Range: [0,1]
<ul>
<li>0 says not informative and has the worst possible statistical efficiency (e.g.&nbsp;binary outcome variable with no events â€” straight zeros, homey)
<ul>
<li>The lowest information comes from a variable having only one distinct value following by a highly skewed binary variable.</li>
</ul></li>
<li>1 says as informative as a continuous variable with no ties in the data</li>
</ul></li>
<li><span class="ribbon-highlight">Examples</span>
<ul>
<li>A very imbalanced binary <span class="math inline">\(Y\)</span> may have <span class="arg-text">Info</span> of 0.2 indicating roughly speaking that you could achieve the same statistical efficiency and power from a continuous <span class="math inline">\(Y\)</span> with only 20% of the sample size</li>
<li>An ordinal <span class="math inline">\(Y\)</span> with 5 well-populated levels may have an <span class="arg-text">Info</span> of 0.98 which indicates that it almost has the same statistical information (especially for the purpose of studying associations with other variables) as a truly continuous <span class="math inline">\(Y\)</span> with no ties.</li>
<li>Binary Splits (<a href="https://bsky.app/profile/f2harrell.bsky.social/post/3l6uipm7uis2g">Harrell</a>):
<ul>
<li>Split at the median <span class="math inline">\(\rightarrow\)</span> a minimum of a 20% information loss</li>
<li>Split at 10<sup>th</sup> percentile <span class="math inline">\(\rightarrow\)</span> a minimum of a 70% information loss</li>
</ul></li>
</ul></li>
</ul></li>
<li><span class="arg-text">Mean</span> and <span class="arg-text">Sum</span> (Binary): The sum (number of 1â€™s) and mean (proportion of 1â€™s)</li>
<li><span class="arg-text">Gini</span> <span class="math inline">\(|\Delta|\)</span> is the Gini Mean Difference which is a robust substitute for standard deviation. (See <a href="../qmd/feature-engineering-general.html#sec-feat-eng-gen-cont-tran-stand" style="color: green">Feature Engineering, General &gt;&gt; Transformation &gt;&gt; Standardization</a>)</li>
</ul></li>
</ul></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://github.com/Ahmedbargheet/AssumpSure" style="color: #990000">AssumpSure</a><span style="color: #990000">}</span> - A user-friendly R Shiny application that helps researchers validate statistical assumptions and select appropriate tests before analysis, ensuring valid, transparent, and reproducible results.</li>
<li><a href="https://lux-api.readthedocs.io/en/latest/">Lux</a> - Jupyter notebook widget that provides visual data profiling via existing pandas functions which makes this extremely easy to use if you are already a pandas user. It also provides recommendations to guide your analysis with the intent function. However, Lux does not give much indication as to the quality of the dataset such as providing a count of missing values for example.</li>
<li><span style="color: goldenrod">{{</span><a href="https://pandas-profiling.ydata.ai/docs/master/index.html" style="color: goldenrod">pandas_profiling</a><span style="color: goldenrod">}}</span> - Produces a rich data profiling report with a single line of code and displays this in line in a Juypter notebook. The report provides most elements of data profiling including descriptive statistics and data quality metrics. Pandas-profiling also integrates with Lux.</li>
<li><span style="color: goldenrod">{{</span><a href="https://pypi.org/project/sweetviz/" style="color: goldenrod">sweetviz</a><span style="color: goldenrod">}}</span> - Provides a comprehensive and visually attractive dashboard covering the vast majority of data profiling analysis needed. This library also provides the ability to compare two versions of the same dataset which the other tools do not provide.</li>
<li><span style="color: goldenrod">{{</span><a href="https://docs.profiling.ydata.ai/latest/" style="color: goldenrod">ydata-profiling</a><span style="color: goldenrod">}}</span> - Data profiling, automates, and standardizes the generation of detailed reports, complete with statistics and visualizations</li>
</ul>
</section>
<section id="sec-eda-gen-miss" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-miss">Missingness</h2>
<ul>
<li><p>Also see</p>
<ul>
<li><a href="../qmd/missingness.html#sec-missing" style="color: green">Missingness</a></li>
<li><a href="model-building-tidymodels.html#sec-modbld-tidymod-recipe" style="color: green">Model Building, tidymodels &gt;&gt; Recipe</a> &gt;&gt; Imputation</li>
</ul></li>
<li><p>Packages</p>
<ul>
<li><span style="color: #990000">{</span><a href="http://naniar.njtierney.com/" style="color: #990000">naniar</a><span style="color: #990000">}</span> - Tidy ways to summarize, visualize, and manipulate missing data with minimal deviations from the workflows in ggplot2 and tidy data</li>
<li><span style="color: #990000">{</span><a href="https://nelson-gon.github.io/mde/" style="color: #990000">mde</a><span style="color: #990000">}</span> - Functions for percentage stats and various preprocessing (group) actions (e.g.&nbsp;dropping, recoding, etc.)</li>
<li><span style="color: #990000">{</span><a href="http://hbiostat.org/R/qreport/" style="color: #990000">qreport</a><span style="color: #990000">}</span> - Harrell package
<ul>
<li>A few of the charts arenâ€™t intuitive and donâ€™t have good documentation in terms of explaining how to interpret them.</li>
<li>Fits an ordinal logistic regression model to describe which types of subjects (based on variables with no NAs) tend to have more variables missing.</li>
<li>Hierarchically clusters variables that have similar observations missing</li>
<li>See naclus <a href="https://www.rdocumentation.org/packages/Hmisc/versions/4.7-0/topics/varclus">docs</a>, RMS <a href="https://hbiostat.org/rmsc/psmcase.html#descriptive-statistics">Ch.19.1</a>, R Workflow <a href="https://hbiostat.org/rflow/case.html#missing-data">Ch.2.7</a> (interprets the clustering), <a href="https://hbiostat.org/rflow/missing.html">Ch.6</a> (interpretes the ordinal regression) (possibly more use cases in that ebook)</li>
</ul></li>
</ul></li>
<li><p>Questions</p>
<ul>
<li>Which features contain missing values?</li>
<li>What proportion of records for each feature comprises missing data?</li>
<li>Is the missing data missing at random (MAR) or missing not at random (MNAR) (i.e.&nbsp;informative)?</li>
<li>Are the features with missing values correlated with other features?</li>
</ul></li>
<li><p>Missingness in variable combinations (<a href="https://bsky.app/profile/edhagen.net/post/3lcjrr42qxc2d">source</a>)<br>
<a href="_resources/EDA.resources/missing-upsetr-mar-1.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="_resources/EDA.resources/missing-upsetr-mar-1.jpg" class="img-fluid" width="432"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(UpSetR)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert random NA's into mtcars</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>mask <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> <span class="fu">sample</span>(<span class="fu">c</span>(T,F), <span class="dv">32</span><span class="sc">*</span><span class="dv">11</span>, <span class="at">replace =</span> T, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>)), </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">32</span>, </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">11</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>mtcars[mask] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot joint missingness</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">|&gt;</span> </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), \(x) <span class="fu">as.integer</span>(<span class="fu">is.na</span>(x)))) <span class="sc">|&gt;</span> </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">upset</span>(<span class="at">nsets=</span><span class="dv">10</span>, <span class="at">text.scale =</span> <span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>The main column chart indicates how many missing values are present for each combination of variables</li>
<li>Combinations
<ul>
<li><span class="var-text">mpg</span> has 3 missing values</li>
<li><span class="var-text">drat</span> and <span class="var-text">carb</span> have 1 missing value in the same row</li>
<li><span class="var-text">hp</span>, <span class="var-text">cyl</span>, and <span class="var-text">mpg</span> have 1 missing value in the same row</li>
</ul></li>
<li>The Set Size bar chart (left) indicates the number of combinations each variable is involved in.</li>
<li>This chart is also available in <span style="color: #990000">{</span><a href="https://naniar.njtierney.com/reference/gg_miss_upset.html" style="color: #990000">naniar::gg_miss_upset</a><span style="color: #990000">}</span></li>
</ul></li>
<li><p>Categoricals for binary classification<br>
<a href="./_resources/EDA.resources/Screenshot (244).png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="./_resources/EDA.resources/Screenshot (244).png" class="img-fluid" width="408"></a></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>train_raw <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">select</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; damaged, precipitation, visibility, engine_type,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; flight_impact, flight_phase, species_quantity</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>&nbsp; ) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">pivot_longer</span>(precipitation<span class="sc">:</span>species_quantity) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> value, <span class="at">fill =</span> damaged)) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(name), <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">fill =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The NAs (top row in each facet) arenâ€™t 50/50 between the two levels of the target. The target is imbalanced and the NAs seem to be predictive of â€œno damage,â€ so they arenâ€™t random.</li>
<li>Since these NAs look predictive, you can turn them into a category by using <code>step_unknown</code> in the preprocessing recipe.</li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-out" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-out">Outliers</h2>
<ul>
<li>Also see
<ul>
<li><a href="../qmd/outliers.html#sec-outliers" style="color: green">Outliers</a></li>
<li><a href="../qmd/anomaly-detection.html#sec-anomdet" style="color: green">Anomaly Detection</a></li>
<li><a href="../qmd/feature-engineering-general.html#sec-feat-eng-gen-cont-bin" style="color: green">Feature-Engineering, General &gt;&gt; Continuous &gt;&gt; Binning</a> - Depending on the modeling algorithm, binning can help with minimizing the influence of outliers and skewness. Beware of information loss due to too few bins. Some algorithms also donâ€™t perform well with variables with too few bins.</li>
</ul></li>
<li>Abnormalities due to likely data entry errors
<ul>
<li>Example: store == â€œopenâ€ and sales == 0 or store == â€œclosedâ€ and sales &gt; 0
<ul>
<li>Potential solâ€™n: replace 0â€™s (open) with mean sales and sales &gt;0 (closed) with 0s</li>
</ul></li>
</ul></li>
<li>Boxplots<br>
<a href="_resources/EDA.resources/outlier-boxplot-explainer-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="By Dancho"><img src="_resources/EDA.resources/outlier-boxplot-explainer-1.png" class="img-fluid" width="532" alt="By Dancho"></a></li>
<li>Extreme counts in charts when grouping by a cat var
<ul>
<li>Why is one categoryâ€™s count so low or so high?
<ul>
<li>May need subject matter expert</li>
</ul></li>
<li>What can be done to increase or decrease that categoryâ€™s count?</li>
</ul></li>
<li>For prediction, experiment with keeping or removing outliers while fitting baseline models</li>
<li>IQR
<ul>
<li>Observations above <span class="math inline">\(q_{0.75} + (1.5 \times \text{IQR})\)</span> are considered outliers</li>
<li>Observations below <span class="math inline">\(q_{0.25} - (1.5 \times \text{IQR})\)</span> are considered outliers</li>
<li>Where <span class="math inline">\(q_{0.25}\)</span> and <span class="math inline">\(q_{0.75}\)</span> correspond to first and third quartile respectively, and IQR is the difference between the third and first quartile</li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/rquest/index.html" style="color: #990000">rquest</a><span style="color: #990000">}</span> - Functions for CIs and hypothesis tests around quantiles including IQR</li>
</ul></li>
<li>Hampel Filter
<ul>
<li><p>Observations above <span class="math inline">\(\text{median} + (3 \times \text{MAD})\)</span> are considered outliers</p></li>
<li><p>Observations below <span class="math inline">\(\text{median} - (3 \times \text{MAD})\)</span> are considered outliers</p></li>
<li><p>Use <code>mad(vec, constant = 1)</code> for the MAD</p></li>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{performance}</span> (<a href="https://easystats.github.io/performance/articles/check_outliers.html#univariate-outliers">source</a>)</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(performance)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create some artificial outliers and an ID column</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(mtcars[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">42</span>, <span class="dv">55</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="at">car =</span> <span class="fu">row.names</span>(data), data)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">check_outliers</span>(data, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"zscore_robust"</span>, </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ID =</span> <span class="st">"car"</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>outliers</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 outliers detected: cases 33, 34.</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; - Based on the following method and threshold: zscore_robust (3.291).</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; - For variables: mpg, cyl, disp, hp.</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -----------------------------------------------------------------------------</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  </span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following observations were considered outliers for two or more</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   variables by at least one of the selected methods:</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Row car n_Zscore_robust</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  33  33               2</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  34  34               2</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -----------------------------------------------------------------------------</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Outliers per variable (zscore_robust): </span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $mpg</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Row car Distance_Zscore_robust</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 33  33  33                    3.7</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 34  34  34                    5.8</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $cyl</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Row car Distance_Zscore_robust</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 33  33  33                     12</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 34  34  34                     17</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Checked 4 variables independently</p></li>
<li><p><span style="color: #990000">{performance}</span> uses <span class="math inline">\(\pm\)</span> 3.29 MAD as a threshold</p></li>
<li><p>Visualize<br>
<a href="_resources/Outliers.resources/eda-hampel-ex-perf-vis-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="_resources/Outliers.resources/eda-hampel-ex-perf-vis-1.png" class="img-fluid" width="432"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(see)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(outliers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details></li>
</ul></li>
</ul></li>
<li>Multivariate
<ul>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{performance}</span> (<a href="https://easystats.github.io/performance/articles/check_outliers.html#multivariate-outliers">source</a>)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">check_outliers</span>(data, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"mcd"</span>, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>outliers</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 outliers detected: cases 33, 34.</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; - Based on the following method and threshold: mcd (20).</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; - For variables: mpg, cyl, disp, hp.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Checked 4 variables jointly using Minimum Covariance Determinant, a robust version of the Mahalanobis distance</li>
<li>To visualize (Same column chart as above): <code>plot(outliers)</code></li>
</ul></li>
<li><p>Other methods available in <span style="color: #990000">{performance}</span> (<a href="https://easystats.github.io/performance/reference/check_outliers.html#multivariate-methods">docs</a>)</p>
<ul>
<li>Robust Mahalanobis Distance: A robust version of Mahalanobis distance using an Orthogonalized Gnanadesikan-Kettenring pairwise estimator</li>
<li>Invariant Coordinate Selection (ICS): The method relies on a generalized diagonalization and on the selection of the invariant components associated with the largest eigenvalues. (See <a href="https://journal.r-project.org/archive/2018/RJ-2018-034/">paper</a> for details. Reminds me of a PCA procedure.)
<ul>
<li>Works best when thereâ€™s a small proportion of outliers lying in a low-dimensional subspace</li>
</ul></li>
<li>OPTICS: The Ordering Points To Identify the Clustering Structure (OPTICS) algorithm uses similar concepts to DBSCAN.</li>
<li>Local Outlier Factor: Based on a K nearest neighbors algorithm, LOF compares the local density of a point to the local densities of its neighbors instead of computing a distance from the center</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-grpcal" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-grpcal">Group Calculations</h2>
<ul>
<li><p>Also see <a href="../qmd/feature-engineering-general.html#sec-feat-eng-gen-dom" style="color: green">Feature Engineering, General &gt;&gt; Domain Specific</a></p></li>
<li><p>Descriptive Statistics</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{table1}</span> (<a href="https://blog.djnavarro.net/posts/2024-06-21_table1/">article</a>)<br>
<a href="_resources/EDA.resources/group-calc-table1-ex-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="_resources/EDA.resources/group-calc-table1-ex-1.png" class="img-fluid" width="632"></a></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(table1); <span class="fu">library</span>(palmerpenguins)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table1</span>(<span class="sc">~</span> island <span class="sc">+</span> bill_length_mm <span class="sc">|</span> species, penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="var-text">species</span> is the grouping variable with its categories along the top</li>
<li><span class="var-text">island</span> is discrete with cells for frequency counts and percentage-of-total</li>
<li><span class="var-text">bill_length_mm</span> is continuous with basic descriptive stats in the cells</li>
<li>Package is pretty versatile with styling, labelling, and options to use alternative stat functions.</li>
</ul></li>
</ul></li>
<li><p><u>Variance of Value by Group</u></p>
<ul>
<li>Example: how sales vary between store types over a year</li>
<li>important to standardize the value by group
<ul>
<li>group_by(group), mutate(sales = scale(sales))</li>
</ul></li>
<li>Which vary wildly and which are more stable</li>
</ul></li>
<li><p><u>Rates by Group</u></p>
<ul>
<li>Example: sales($) per customer
<ul>
<li>group_by(group), mutate(sales_per_cust = sum(sales)/sum(customers)</li>
</ul></li>
</ul></li>
<li><p><u>Avg by Group(s)</u></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(cat1, cat2, num) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(cat1, cat2) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summarize</span>(<span class="at">freq =</span> <span class="fu">n</span>(),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">avg_cont =</span> <span class="fu">mean</span>(num))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="sec-eda-gen-cont" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-cont">Continuous Variables</h2>
<ul>
<li><p>Also see</p>
<ul>
<li><p><a href="../qmd/distributions.html#sec-distr-fitdist" style="color: green">Distributions &gt;&gt; Fitting Distributions</a></p></li>
<li><p>Feature-Engineering, General &gt;&gt; Continuous &gt;&gt;</p>
<ul>
<li><p><a href="../qmd/feature-engineering-general.html#sec-feat-eng-gen-cont-bin" style="color: green">Binning</a> - Depending on the modeling algorithm, binning can help with minimizing the influence of outliers and skewness. Beware of information loss due to too few bins. Some algorithms also donâ€™t perform well with variables with too few bins.</p></li>
<li><p><a href="../qmd/feature-engineering-general.html#sec-feat-eng-gen-cont-tran-log" style="color: green">Transformations &gt;&gt; Logging</a> - Can help with skewed variables</p></li>
</ul></li>
</ul></li>
<li><p>Does the variable have a wide range. (i.e.&nbsp;values across multiple magnitudes: 101 and 102 and â€¦ etc.)</p>
<ul>
<li>If so, log the variable</li>
</ul></li>
<li><p><u>Check Shape of Distribution</u></p>
<ul>
<li><p>Looking at skew. Is it roughly&nbsp;normal?</p></li>
<li><p>Does filter(another_var &gt; certain_value) (see below) help it look more normal?</p></li>
<li><p>Is it multi-modal</p>
<ul>
<li>See <a href="../qmd/regression-other.html#sec-reg-other-multmod" style="color: green">Regression, Other &gt;&gt; Multi-Modal</a></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/multimode/index.html" style="color: #990000">multimode</a><span style="color: #990000">}</span> (<a href="https://www.jstatsoft.org/article/view/v097i09">Vignette</a>) - Different methods for testing and exploring (including the mode tree, mode forest and SiZer) the number of modes using nonparametric techniques
<ul>
<li>Test for more than one mode:
<ul>
<li><code>multimode::modetest(dat</code>) or <code>performance::check_multimodal</code> (which uses <span style="color: #990000">{multimode}</span>)</li>
<li>Performs Ameijeiras-Alonso excess mass test/dip statistic</li>
<li>H<sub>a</sub>: More than 1 mode</li>
</ul></li>
<li>Find location of modes: <code>multimode::locmodes(dat, mod0 = 2, display = TRUE)</code><br>
<a href="./_resources/Regression,_Other.resources/1-7pU7wdm3l50-oXcFbvthig.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="./_resources/Regression,_Other.resources/1-7pU7wdm3l50-oXcFbvthig.png" class="img-fluid" width="332"></a></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://sayani07.github.io/gghdr/" style="color: #990000">gghdr</a><span style="color: #990000">}</span> - Visualization of Highest Density Regions in ggplot2</li>
<li>Anti-Mode location might be a good place for a cutpoint
<ul>
<li><a href="../qmd/eda-general.html#sec-eda-gen-inter-cat" style="color: green">Interactions &gt;&gt; Categorical Outcome</a> &gt;&gt; Binary Outcome (pct_event) vs Discrete by Discrete (or binary in this case)</li>
</ul></li>
</ul></li>
<li><p>Is the variable highly skewed</p>
<ul>
<li>With Boxplot or Histogram<br>
<a href="_resources/EDA.resources/cont-boxplot-skew-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="By Dancho"><img src="_resources/EDA.resources/cont-boxplot-skew-1.png" class="img-fluid" width="532" alt="By Dancho"></a></li>
<li>Mode &gt; Median &gt; Mean <span class="math inline">\(\rightarrow\)</span> Negative Skewed</li>
<li>Mode &lt; Median &lt; Mean <span class="math inline">\(\rightarrow\)</span> Positive Skewed</li>
<li>Long Whiskers <span class="math inline">\(\rightarrow\)</span> Long-Tailed Distribution</li>
<li>Short Whiskers <span class="math inline">\(\rightarrow\)</span> Short-Tailed Distribution</li>
<li>If so, try:
<ul>
<li>Changing units (e.g min to hr),</li>
<li><code>filter(some_var &gt; some_value)</code></li>
<li>Some combination of the above make more normal?
<ul>
<li>Normality among predictors isnâ€™t necessary, but I think it improves fit or prediction somewhat</li>
</ul></li>
<li>Transformations
<ul>
<li>Log transformation is best for right-skewed data and multiplicative relationships (if the skew isnâ€™t too extreme)</li>
<li>Cube root transformation is useful when dealing with negative values</li>
</ul></li>
<li>See <a href="../qmd/regression-quantile.html#sec-reg-quant" style="color: green">Regresson, Quantile</a></li>
<li>See <a href="../qmd/mixed-effects-general.html#sec-me-gen-misc" style="color: green">Mixed Effects, General &gt;&gt; Misc</a> &gt;&gt; <span style="color: #990000">{skewlmm}</span></li>
</ul></li>
</ul></li>
<li><p>Density</p>
<ul>
<li><p><span class="lightbox">Example</span>: Bi-Modal</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Manual</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">geom_density</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><a href="_resources/EDA.resources/cont-shape-density-1.webp" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="_resources/EDA.resources/cont-shape-density-1.webp" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>emp_density <span class="ot">&lt;-</span> <span class="fu">density</span>(cont_var, <span class="at">n =</span> <span class="dv">10000</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>den_curve <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> emp_density<span class="sc">$</span>x, <span class="at">y =</span> emp_density<span class="sc">$</span>y)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> den_curve, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"density</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.11</span>),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, .<span class="dv">10</span>, <span class="at">by =</span> .<span class="dv">02</span>)) <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> colors) <span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><a href="_resources/EDA.resources/cont-shape-density-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="_resources/EDA.resources/cont-shape-density-2.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> cont_var), <span class="fu">aes</span>(<span class="at">x =</span> x)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_density</span>() <span class="sc">+</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">xlim</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div></li>
</ul></li>
<li><p>Histogram</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(var)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Histogram + Density + Rug (<a href="https://smin95.github.io/dataviz/slope-charts-point-plots-bland-altman-forests-rainclouds-histograms-part-2.html#histogram---sm_hist">source</a>)<br>
<a href="_resources/EDA.resources/cont-hist-dens-rug-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="_resources/EDA.resources/cont-hist-dens-rug-1.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">fill =</span> day)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  smplot2<span class="sc">::</span><span class="fu">sm_hist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>day is just grouping variable. The package can show these plots by a grouping variable with multiple categories (See source)</li>
</ul></li>
</ul></li>
<li><p><u>Q-Q plot to check fit against various distributions</u></p>
<ul>
<li><p>Also see <a href="../qmd/mathematics-probability.html#sec-math-prob-plot" style="color: green">Mathematics, Probability &gt;&gt; Plots</a> &gt;&gt; Q-Q Plots</p></li>
<li><p>Packages</p>
<ul>
<li><p><span style="color: #990000">{</span><a href="https://aloy.github.io/qqplotr/" style="color: #990000">qqplotr</a><span style="color: #990000">}</span> - Charts for both quantile-quantile (Q-Q) and probability-probability (P-P) points, lines, and confidence bands.</p>
<ul>
<li>The functions of this package also allow a detrend adjustment of the plots to help reduce visual bias when assessing the results</li>
<li>Functions
<ul>
<li><code>stat_qq_point</code> This is a modified version of <code>ggplot2::stat_qq</code> with some parameters adjustments and a new option to detrend the points.</li>
<li><code>stat_qq_line</code> Draws a reference line based on the data quantiles, as in <code>stats::qqline</code>.</li>
<li><code>stat_qq_band</code> Draws confidence bands based on three methods:
<ul>
<li><span class="arg-text">â€œpointwiseâ€</span> constructs simultaneous confidence bands based on the normal distribution;</li>
<li><span class="arg-text">â€œbootâ€</span> creates pointwise confidence bands based on a parametric boostrap;</li>
<li><span class="arg-text">â€œksâ€</span> constructs simultaneous confidence bands based on an inversion of the Kolmogorov-Smirnov test;</li>
<li><span class="arg-text">â€œtsâ€</span> constructs tail-sensitive confidence bands, as proposed by Aldor-Noiman et al.(2013).</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><span style="color: #990000">{ggplot}</span></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data)<span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">stat_qq</span>(<span class="fu">aes</span>(<span class="at">sample =</span> log_profit_rug_business))<span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">stat_qq_line</span>(<span class="fu">aes</span>(<span class="at">sample =</span> log_profit_rug_business))<span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'log(profit) Normal QQ'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>A plot of the sample (or observed) quantiles of the given data against the theoretical (or expected) quantiles.</li>
<li>See <a href="https://towardsdatascience.com/qq-plotting-your-way-to-data-enlightenment-a-hitchhikers-guide-to-the-galaxies-of-distribution-398352c9199">article</a> for the math and manual code</li>
<li><code>stat_qq, stat_qq_line</code> default distributions are Normal</li>
<li>ggplot::stat_qq <a href="https://ggplot2.tidyverse.org/reference/geom_qq.html#ref-examples">docs</a> have some good examples on how to use q-q plots to test your data against different distributions using <code>MASS::fitdistr</code> to get the distributional parameter estimates. Available distributions: â€œbetaâ€, â€œcauchyâ€, â€œchi-squaredâ€, â€œexponentialâ€, â€œgammaâ€, â€œgeometricâ€, â€œlog-normalâ€, â€œlognormalâ€, â€œlogisticâ€, â€œnegative binomialâ€, â€œnormalâ€, â€œPoissonâ€, â€œtâ€ and â€œweibullâ€</li>
</ul></li>
<li><p><span style="color: #990000">{dataexplorer}</span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">## View quantile-quantile plot of all continuous variables</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_qq</span>(diamonds)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="do">## View quantile-quantile plot of all continuous variables by feature `cut`</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_qq</span>(diamonds, <span class="at">by =</span> <span class="st">"cut"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>Various Distribution Shapes (<a href="https://bsky.app/profile/adrianolsz.bsky.social/post/3ldbcqvh5yc2w">source</a>)<br>
<a href="_resources/EDA.resources/cont-qq-facet-1.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="_resources/EDA.resources/cont-qq-facet-1.jpg" class="img-fluid" width="632"></a></p></li>
<li><p>Skewed Variables</p>
<p><a href="_resources/EDA.resources/cont-qq-skew-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="_resources/EDA.resources/cont-qq-skew-1.png" class="img-fluid" width="632"></a></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(n))</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">3</span>]] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fu">exp</span>(<span class="fu">rnorm</span>(n))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">bty =</span> <span class="st">"l"</span>, <span class="at">family =</span> <span class="st">"Roboto"</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(x[[<span class="dv">1</span>]], <span class="at">main =</span> <span class="st">"Normal"</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(x[[<span class="dv">2</span>]], <span class="at">main =</span> <span class="st">"Right-skewed"</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(x[[<span class="dv">3</span>]], <span class="at">main =</span> <span class="st">"Left-skewed"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(x, <span class="cf">function</span>(x){<span class="fu">plot</span>(<span class="fu">density</span>(x), <span class="at">main =</span> <span class="st">""</span>)})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Good fits</p>
<ul>
<li>normal distribution<br>
<a href="./_resources/EDA.resources/image.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="./_resources/EDA.resources/image.png" class="img-fluid" width="332"></a></li>
<li>Bad fits
<ul>
<li>Uniform data tested against a normal distibution<br>
<a href="./_resources/EDA.resources/image.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="./_resources/EDA.resources/image.1.png" class="img-fluid" width="332"></a></li>
<li>Uniform data tested against an exponential distribution<br>
<a href="./_resources/EDA.resources/image.2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="./_resources/EDA.resources/image.2.png" class="img-fluid" width="332"></a></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Is the mean/median above or below any important threshold?</u></p>
<ul>
<li><p>e.g.&nbsp;CDC considers a BMI &gt; 30 as obese. Health Insurance charges rise sharply at this threshold</p>
<ul>
<li>Is there an important threshold value?
<ul>
<li>1 value â€“&gt; split into a binary</li>
<li>Multiple values â€“&gt; Multinomial</li>
</ul></li>
<li>Examples
<ul>
<li>Binary
<ul>
<li>Whether a user spent more than $50 or didnâ€™t (See Charts &gt;&gt; Categorical Predictors vs Outcome)</li>
<li>If user had activity on the weekend or not</li>
</ul></li>
<li>Multinomial
<ul>
<li>Timestamp to morning/afternoon/ night,</li>
<li>Order values into buckets of $10â€“20, $20â€“30, $30+</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Empirical Cumulative Density function (ecdf)</u><br>
<a href="./_resources/EDA.resources/image.3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="./_resources/EDA.resources/image.3.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> numeric_var, <span class="at">color =</span> cat) <span class="sc">+</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">stat_ecdf</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Shows the percentage of sample (y-axis) that are below a numeric_var value (x-axis)</p></li>
<li><p><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/sfsmisc/sfsmisc.pdf" style="color: #990000">sfsmisc::ecdf.ksCI</a><span style="color: #990000">}</span> - plots the ecdf and 95% CIs (see <a href="http://hbiostat.org/bbr/nonpar.html#sec-nonpar-ecdf">Harrell</a> for details of the CI calculation)</p></li>
<li><p>Can view alongside a table of group means to see if the different percentiles differ from the story of just looking at the mean.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">group_by</span>(categorical_var) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">summarize</span>(<span class="fu">mean</span>(numeric_var))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-cat" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-cat">Categorical/Discrete Variables</h2>
<ul>
<li><p>Packages</p>
<ul>
<li><span style="color: #990000">{</span><a href="https://github.com/dcomtois/summarytools" style="color: #990000">summarytools</a><span style="color: #990000">}</span>
<ul>
<li><code>freq</code> - Frequency Tables featuring counts, proportions, cumulative statistics as well as missing data reporting</li>
<li><code>ctable</code> - Cross-Tabulations (joint frequencies) between pairs of discrete/categorical variables, featuring marginal sums as well as row, column or total proportions</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://vincentarelbundock.github.io/modelsummary/articles/datasummary.html" style="color: #990000">modelsummary::datasummary</a><span style="color: #990000">}</span> - Crosstabs, frequencies, correlations, balance (a.k.a. â€œtable 1â€), and more</li>
</ul></li>
<li><p>Count number of rows per category level</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>tbl <span class="sc">%&gt;%</span> <span class="fu">count</span>(cat_var, <span class="at">sort =</span> True)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Imbalance</p>
<ul>
<li>Looking for how skewed data might be (only a few categories have most of the obs)</li>
<li>If levels are imbalanced, consider: <code>initial_split(data, strata = imbalanced_var)</code></li>
<li>For categorical variables with levels with too few counts, consider lumping together
<ul>
<li>Levels with too few data will have large uncertainties about the effect and the bloated std.devs can cause some models to throw errors</li>
</ul></li>
</ul></li>
<li><p>Count Variables</p>
<ul>
<li>Check distribution
<ul>
<li>Square root transformation for moderate right skewness</li>
</ul></li>
</ul></li>
<li><p>Year variable</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">count</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(year)) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, n)) <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Looking for skew.</li>
<li>Is data older or&nbsp;more recent?</li>
</ul></li>
<li><p>Free Text</p>
<ul>
<li>Generate features from it text length, appearance/frequency of certain keywords, etc.</li>
<li>Tokenize
<ul>
<li>See below code for â€œFacetted bar by variable with counts of the valuesâ€ and the use of <code>separate_rows</code> to manually tokenize more useful when the columns donâ€™t have stopwords</li>
</ul></li>
</ul></li>
<li><p>Visualize value counts for multiple variables</p>
<ul>
<li><p>Facetted bar by variable with counts of the values<br>
<a href="./_resources/EDA.resources/Screenshot (1370).png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img src="./_resources/EDA.resources/Screenshot (1370).png" class="img-fluid" width="632"></a></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>categorical_variables <span class="ot">&lt;-</span> board_games <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="co"># select all cat vars</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">select</span>(game_id, name, family, category, artist, designer, mechanic) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="co"># "type" receives all colnames; "value" receives their values</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">gather</span>(type, value, <span class="sc">-</span>game_id, <span class="sc">-</span>name) <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="co"># Some values of vars are free text separated by commas; code makes each value into a separate row</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">separate_rows</span>(value, <span class="at">sep =</span> <span class="st">","</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">arrange</span>(game_id)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>categorical_counts <span class="ot">&lt;-</span> categorical_variables <span class="sc">%&gt;%</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">count</span>(type, value, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>categorical_counts <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="co"># type is gathered colnames of the variables</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">group_by</span>(type) <span class="sc">%&gt;%</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="co"># high cardinality variables, so only show top 10</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">top_n</span>(<span class="dv">10</span>, n) <span class="sc">%&gt;%</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">fct_reorder</span>(value, n)) <span class="sc">%&gt;%</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(value, n, <span class="at">fill =</span> type)) <span class="sc">+</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">facet_wrap</span>(<span class="sc">~</span> type, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Most common categories"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>â€œtypeâ€ has the names of the variables, â€œvalueâ€ has the levels of the variable</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-corr" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr">Correlation/Association</h2>
<section id="sec-eda-gen-corr-misc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr-misc">Misc</h3>
<ul>
<li><p>Also see</p>
<ul>
<li><a href="../qmd/association-general.html#sec-assoc-gen" style="color: green">Association, General</a></li>
<li>Notebook &gt;&gt; Statistical Inference &gt;&gt; Correlation</li>
<li><a href="../qmd/eda-general.html#sec-eda-gen-inter-cont" style="color: green">Interactions &gt;&gt; Continuous Outcome</a> &gt;&gt; Correlation Heatmaps</li>
</ul></li>
<li><p>For binary vs.&nbsp;binary, also see <a href="../qmd/association-general.html#sec-assoc-gen-disc" style="color: green">Association, General &gt;&gt; Discrete</a> &gt;&gt; Binary Similarity Measures and Cramerâ€™s V</p></li>
<li><p><span style="color: #990000">{greybox::association}</span> will run Pearson, Cramerâ€™s V, or a regression (mixed type) that returns the coefficient on variables in a df or matrix. (P-Values also included)</p></li>
</ul>
</section>
<section id="sec-eda-gen-corr-pair" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr-pair">Pairwise Plots</h3>
<ul>
<li><p>Packages</p>
<ul>
<li><span style="color: #990000">{</span><a href="https://ggobi.github.io/ggally/" style="color: #990000">GGally</a><span style="color: #990000">}</span> - Pairwise Plot Matrices</li>
<li><span style="color: #990000">{</span><a href="https://cbhurley.github.io/bullseye/" style="color: #990000">bullseye</a><span style="color: #990000">}</span> - Novel, adaptable approaches to visualizing multiple pairwise variable correlations and other scores</li>
</ul></li>
<li><p>Relationships (<a href="https://www.bmj.com/content/390/bmj-2024-082440">source</a>)<br>
<a href="_resources/EDA.resources/corr-rships-1.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="_resources/EDA.resources/corr-rships-1.jpg" class="img-fluid" width="532"></a></p>
<ul>
<li><code>rcs</code> is a restricted cubic spline and <code>fp</code> is a fractional polynomial (See <a href="../qmd/feature-engineering-splines.html#sec-feat-eng-spl-misc" style="color: green">Feature Engineering, Splines &gt;&gt; Misc</a> &gt;&gt; Packages &gt;&gt; <span style="color: #990000">{mfp2}</span>)</li>
<li>Fractional polynomials and splines have similar fits</li>
<li>Fitting a spline or fp to a linear relationship results in a slightly worse fit while <em>not</em> fitting a spline or fp to a nonlinear relationship results in a substantially worse fit.</li>
</ul></li>
<li><p>Outcome vs Predictor</p></li>
<li><p>Predictor vs Predictor</p>
<ul>
<li>Interactions</li>
<li>Multicollinearity</li>
</ul></li>
<li><p>Correlation/Association scores for linear relationships</p></li>
<li><p>Histograms for variations between categories</p></li>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{ggforce}</span></p>
<p><a href="_resources/EDA.resources/facet-matrix1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img src="_resources/EDA.resources/facet-matrix1.png" class="img-fluid" width="632"></a></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(palmerpenguins<span class="sc">::</span>penguins, </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> .panel_x, <span class="at">y =</span> .panel_y)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species), </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> species), </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  ggforce<span class="sc">::</span><span class="fu">geom_autodensity</span>(</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">color =</span> species, </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="fu">after_scale</span>(color)), </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">7</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>, </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  ggforce<span class="sc">::</span><span class="fu">facet_matrix</span>(<span class="fu">vars</span>(names), </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>                        <span class="at">layer.lower =</span> <span class="dv">2</span>, </span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>                        <span class="at">layer.diag =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{ggpmisc}</span> by group (<a href="https://docs.r4photobiology.info/ggpmisc/articles/model-based-annotations.html#stat_correlation">source</a>)<br>
<a href="_resources/EDA.resources/cont-cont-cat-ggpmisc-cor-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="_resources/EDA.resources/cont-cont-cat-ggpmisc-cor-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  ggpmisc<span class="sc">::</span><span class="fu">stat_correlation</span>(</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">use_label</span>(<span class="st">"R"</span>, <span class="st">"R.CI"</span>, <span class="st">"P"</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">small.r =</span> <span class="cn">TRUE</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">small.p =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> group)          </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<p>Styled Version Code</p>
</summary>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>strip <span class="ot">&lt;-</span> ggh4x<span class="sc">::</span><span class="fu">strip_themed</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">text_x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">background_x =</span> <span class="fu">elem_list_rect</span>(<span class="at">fill =</span> notebook_colors[<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">6</span>)])</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my.data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> group),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> notebook_colors[<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">6</span>)],</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  ggpmisc<span class="sc">::</span><span class="fu">stat_correlation</span>(</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">use_label</span>(<span class="st">"R"</span>, <span class="st">"R.CI"</span>, <span class="st">"P"</span>),</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">small.r =</span> <span class="cn">TRUE</span>,</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">small.p =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  ggh4x<span class="sc">::</span><span class="fu">facet_wrap2</span>(<span class="sc">~</span> group, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">strip =</span> strip) <span class="sc">+</span> </span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_notebook</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Pearson (default), Kendall or Spearman correlation available (uses <code>cor.test</code>)</li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-corr-linear" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr-linear">Linear</h3>
<ul>
<li><p><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/greybox/index.html" style="color: #990000">greybox::association</a><span style="color: #990000">}</span> - Along with standard continuous and categorical association measures, it measures the correlation between different types of variables by fitting a regression model (<code>cont ~ cat</code>) and using the R<sup>2</sup> as correlation value</p></li>
<li><p><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/corrplot/index.html" style="color: #990000">corrplot</a><span style="color: #990000">}</span> - Correlation matrices in various styles. Can include shapes to help recognize multicollinearity patterns.</p></li>
<li><p><span style="color: #990000">{</span><a href="https://easystats.github.io/correlation/" style="color: #990000">correlation</a><span style="color: #990000">}</span> - Multiple non-standard correlation measures that include partial correlations, Bayesian correlations, multilevel correlations, polychoric correlations, biweight, percentage bend or Sheperdâ€™s Pi, and distance measures.</p></li>
<li><p><span style="color: #990000">{</span><a href="https://business-science.github.io/correlationfunnel/" style="color: #990000">correlationfunnel</a><span style="color: #990000">}</span> - Danchoâ€™s package; bins numerics, then dummies all character and binned numerics, then runs a pearson correlation vs the outcome variable. Surprisingly itâ€™s useful to use Pearson correlations for binary variables as long as you have a mix of 1s and 0s in each variable. (Cross-Validated <a href="https://stats.stackexchange.com/a/103806">post</a>)</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>churn_df <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">binarize</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">correlate</span>(<span class="sc">&lt;</span>outcome_var<span class="sc">&gt;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">plot_correlation_funnel</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>correlate</code> returns a sorted? tibble in case you donâ€™t want the plot</li>
<li>The funnel plot is a way of combining and ranking all the correlation plots into a less eye-taxing visual.</li>
<li>Uses <code>stats::cor</code> for calculation so you can pass args to it and but changing the method (e.g.&nbsp;<code>method = c("pearson", "kendall", "spearman")</code> ) wonâ€™t matter, since pearson and spearman (and probably kendall) will be identical for binary variables.</li>
</ul></li>
<li><p><span style="color: #990000">{</span><a href="https://laresbernardo.github.io/lares/reference/corr_cross.html" style="color: #990000">lares::corr_cross</a><span style="color: #990000">}</span> - Very similar to <span style="color: #990000">{correlationfunnel}</span> except it does all the preprocessing in one function. Thereâ€™s also a <span class="arg-text">type = 2</span> plot option that helps understand the skewness or randomness of some correlations found. See <a href="https://datascienceplus.com/find-insights-with-ranked-cross-correlations/">article</a>.</p></li>
</ul>
</section>
<section id="sec-eda-gen-corr-multicol" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr-multicol">Multicollinearity</h3>
<ul>
<li><u>Misc</u>
<ul>
<li>Packages
<ul>
<li><span style="color: #990000">{</span><a href="https://friendly.github.io/VisCollin/" style="color: #990000">VisCollin</a><span style="color: #990000">}</span> - Methods to calculate and visualize diagnostics for multicollinearity among predictors in a linear or generalized linear model</li>
</ul></li>
<li>If multicollinearity is a present and
<ul>
<li>The interpretation of coefficients is the goal, see <a href="../qmd/feature-selection.html#sec-featsel-basic" style="color: green">Feature Selection &gt;&gt; Basic</a>
<ul>
<li>If using Bayesian regression, then a prior on that coefficient will help to reduce its posterior variance.
<ul>
<li>Also see <a href="https://ercbk.github.io/Statistical-Rethinking-Notebook/qmd/chapter-6.html" style="color: green">Statistical Rethinking Notebook, Chapter 6</a></li>
</ul></li>
</ul></li>
<li>If youâ€™re are only interested in predicting / explaining an outcome, and not the model coefficients or which are â€œsignificantâ€, collinearity can be largely ignored. The fitted values are unaffected by collinearity.
<ul>
<li>Although some diagnostic methods can be misleading (e.g.&nbsp;PDPs, Feature Importance, SHAP). See <a href="../qmd/diagnostics-model-agnostic.html#sec-diag-modagn" style="color: green">Diagnostics, Model Agnostic</a> for details and alternate options.</li>
</ul></li>
</ul></li>
<li><a href="https://notstatschat.rbind.io/2024/11/21/collinearity-again/">Collinearity four more times</a>
<ul>
<li>Lumley shows some interesting collinearity/confounding structures and how they affect coefficients and VIF.</li>
<li>Itâ€™d be interesting what the Variance Decomposition Proportions look like.</li>
</ul></li>
</ul></li>
<li><u>VIF</u>
<ul>
<li><p>Variance inflation factors measure the effect of multicollinearity on the standard errors of the estimated coefficients and are proportional to<br>
<span class="math display">\[
\text{VIF}_j = \frac{1}{1-R^2_{j \sim X/j}}
\]</span></p>
<ul>
<li>Where <span class="math inline">\(R^2_{j \sim X/j}\)</span> is from the predictor variable, <span class="math inline">\(j\)</span>, being regressed against the other predictors (not including <span class="math inline">\(j\)</span>)</li>
</ul></li>
<li><p><code>performance::check_collinearity(fit)</code> or <code>car::vif</code> or <code>greybox::determ</code> or <code>vif(fit)</code>)</p></li>
<li><p>Guideline: equal to 1 means no collinearity; between 5 to 10 typically an acceptable amount; &gt;10 is a problem</p></li>
<li><p><span class="ribbon-highlight">Example</span>: <a href="https://friendly.github.io/VisCollin/">source</a></p>
<ul>
<li><p><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/corrplot/index.html" style="color: #990000">corrplot</a><span style="color: #990000">}</span> - Check for multicollinearity pattern<br>
<a href="_resources/EDA.resources/cor-multi-vif-corrgram-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="_resources/EDA.resources/cor-multi-vif-corrgram-1.png" class="img-fluid" width="332"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(cars)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>R <span class="ot">&lt;-</span> cars <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cylinder<span class="sc">:</span>year) <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">drop_na</span>() <span class="sc">|&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>()</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>corrplot<span class="sc">::</span><span class="fu">corrplot.mixed</span>(R, </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">lower =</span> <span class="st">"square"</span>, </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">upper =</span> <span class="st">"ellipse"</span>, </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">tl.col =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>The message here seems to be that there are two clusters of predictors with high correlations: {<span class="var-text">cylinder</span>, <span class="var-text">engine</span>, <span class="var-text">horse</span>, and <span class="var-text">weight</span>}, and {<span class="var-text">accel</span>, <span class="var-text">year</span>}.</li>
</ul></li>
<li><p>Check the damage with VIF</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>cars.mod <span class="ot">&lt;-</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span> (mpg <span class="sc">~</span> cylinder <span class="sc">+</span> engine <span class="sc">+</span> horse <span class="sc">+</span> weight <span class="sc">+</span> accel <span class="sc">+</span> year,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">data=</span>cars)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">vif</span>(cars.mod)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cylinder   engine    horse   weight    accel     year </span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    10.63    19.64     9.40    10.73     2.63     1.24</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(car<span class="sc">::</span><span class="fu">vif</span>(cars.mod))</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cylinder   engine    horse   weight    accel     year </span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     3.26     4.43     3.07     3.28     1.62     1.12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The standard error of <span class="var-text">cylinder</span> (and therefore its CI) has been inflated by a factor of 3.26, and itâ€™s t-value divided by this number, compared with the case when all predictors are uncorrelated. <span class="var-text">engine</span>, <span class="var-text">horse</span>, and <span class="var-text">weight</span> suffer a similar fate.</li>
</ul></li>
</ul></li>
</ul></li>
<li><u>Condition Number</u>
<ul>
<li><p>Formula<br>
<span class="math display">\[
h(x) = \frac{\lambda_{\text{max}}}{\lambda_{\text{min}}}
\]</span></p>
<ul>
<li>Where <span class="math inline">\(\lambda_{\text{min}}\)</span> and <span class="math inline">\(\lambda_{\text{max}}\)</span> are the highest and lowest eigenvalues of <span class="math inline">\(X^t \; X\)</span> where <span class="math inline">\(X\)</span> is your model matrix.</li>
</ul></li>
<li><p>Guideline: <span class="math inline">\(h(x) \lt 100\)</span> is good and <span class="math inline">\(h(x) \gt 1000\)</span> means you have severe multicollinearity.</p></li>
<li><p>Related to the upper bound of VIF: <span class="math inline">\(\max(\text{VIF}) \le \frac{h(x)^2}{4}\)</span></p></li>
<li><p><code>kappa</code> is computes the Condition Number. It uses the 2-norm (default) of the model matrix but generates the condition number. Use a <code>lm</code> fit or a a matrix of predictors as input.</p></li>
</ul></li>
<li><u>Variance Decomposition Proportions</u>
<ul>
<li><p>Large VIFs indicate variables that are involved in some nearly collinear relations, but they donâ€™t indicate which other variable(s) each is involved with.</p></li>
<li><p>Requirements for interpreting a variance decomposition proportion (Belsley 1991):</p>
<ul>
<li>The condition index, <span class="math inline">\(\kappa_j\)</span>, must be large
<ul>
<li>High (Danger): Values <span class="math inline">\(\gt\)</span> 10</li>
<li>Medium (Warning): Values in between 5 and 10</li>
<li>Low (Okay): Values <span class="math inline">\(\lt\)</span> 5</li>
</ul></li>
<li>The variance proportion should be high (e.g.&nbsp;<span class="math inline">\(\ge 0.5\)</span>)</li>
</ul></li>
<li><p>Condition Indices<br>
<span class="math display">\[
\kappa_j = \sqrt{\frac{\lambda_1}{\lambda_j}}
\]</span></p>
<ul>
<li>For completely uncorrelated predictors, all <span class="math inline">\(\kappa_j = 1\)</span></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span> (<a href="https://friendly.github.io/VisCollin/#collinearity-diagnostics">source</a>)</p>
<ul>
<li><p>Variance Decomposition Proportions</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>cd <span class="ot">&lt;-</span> VisCollin<span class="sc">::</span><span class="fu">colldiag</span>(cars.mod, <span class="at">center =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cd, <span class="at">fuzz =</span> <span class="fl">0.5</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Condition</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Index    Variance Decomposition Proportions</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           cylinder engine horse weight accel year </span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   1.000  .        .      .     .      .     .   </span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   2.252  .        .      .     .      .    0.787</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   2.515  .        .      .     .      .     .   </span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   5.660  .        .      .     .      .     .   </span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   8.342  .        .     0.654 0.715   .     .   </span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  10.818 0.563    0.981   .     .      .     .</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Dimension 5 reflects the high correlation between <span class="var-text">horse</span> and <span class="var-text">weight</span></li>
<li>Dimension 6 reflects the high correlation between number of <span class="var-text">cylinder</span> and <span class="var-text">engine</span>.</li>
<li>Note that the high variance proportion for <span class="var-text">year</span> (0.787) on the second component creates no problem and should be ignored because (a) the condition index is low and (b) it shares nothing with other predictors</li>
</ul></li>
<li><p>Visualization<br>
<a href="_resources/EDA.resources/cor-mult-vif-tableplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img src="_resources/EDA.resources/cor-mult-vif-tableplot-1.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>VisCollin<span class="sc">::</span><span class="fu">tableplot</span>(cd, </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">title =</span> <span class="st">"Tableplot of cars data"</span>, </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">cond.max =</span> <span class="dv">30</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul></li>
<li><u>PCA</u>
<ul>
<li><p>Using the last couple dimensions (contrary to using the first few in typical PCA analysis) is useful for visualizing the relations among the predictors that lead to nearly collinear relations</p></li>
<li><p>The projections of the variable vectors on the dimension axes are proportional to their variance decomposition proportions (see previous section). The relative lengths of these variable vectors can be considered to indicate the extent to which each variable contributes to collinearity for these two near-singular dimensions.</p></li>
<li><p><span class="ribbon-highlight">Example</span>: (<a href="https://friendly.github.io/VisCollin/#collinearity-biplot">source</a>)<br>
<a href="_resources/EDA.resources/col-multi-pca-biplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="_resources/EDA.resources/col-multi-pca-biplot-1.png" class="img-fluid" width="326"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(cars, <span class="at">package =</span> <span class="st">"VisCollin"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>cars.X <span class="ot">&lt;-</span> cars <span class="sc">|&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">|&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mpg) <span class="sc">|&gt;</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">drop_na</span>()</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>cars.pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(cars.X, <span class="at">scale. =</span> <span class="cn">TRUE</span>) <span class="co"># 6 dimensions</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Make labels for dimensions include % of variance</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>pct <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span>(cars.pca<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> <span class="fu">sum</span>(cars.pca<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>lab <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"Dimension {1:6} ({round(pct, 2)}%)"</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Direction of eigenvectors is arbitrary. Reflect them</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>cars.pca<span class="sc">$</span>rotation <span class="ot">&lt;-</span> <span class="sc">-</span>cars.pca<span class="sc">$</span>rotation</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>op <span class="ot">&lt;-</span> <span class="fu">par</span>(<span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">xpd =</span> <span class="cn">NA</span> )</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="fu">biplot</span>(cars.pca,</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">choices=</span><span class="dv">6</span><span class="sc">:</span><span class="dv">5</span>,           <span class="co"># only the last two dimensions</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">scale=</span><span class="fl">0.5</span>,             <span class="co"># symmetric biplot scaling</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex=</span><span class="fu">c</span>(<span class="fl">0.6</span>, <span class="dv">1</span>),         <span class="co"># character sizes for points and vectors</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"black"</span>, <span class="st">"blue"</span>),</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">expand =</span> <span class="fl">1.7</span>,          <span class="co"># expand variable vectors for visibility</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> lab[<span class="dv">6</span>],</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">ylab =</span> lab[<span class="dv">5</span>],</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.7</span>, <span class="fl">0.5</span>),</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.8</span>, <span class="fl">0.5</span>)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(op)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Dimension 6 is largely determined by <span class="var-text">engine</span> size, with a substantial (negative) relation to <span class="var-text">cylinder</span>.</li>
<li>Dimension 5 has its strongest relations to <span class="var-text">weight</span> and <span class="var-text">horse</span>.</li>
<li>There is one observation, #20, that stands out as an outlier in predictor space, far from the centroid. It turns out that this vehicle, a Buick Estate wagon, is an early-year (1970) American behemoth, with an 8-cylinder, 455 cu. in, 225 horse-power engine, and able to go from 0 to 60 mph in 10 sec.&nbsp;(Its MPG is only slightly under-predicted from the regression model, however.)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-corr-nonlin" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr-nonlin">Nonlinear</h3>
<ul>
<li>Scatterplots for non-linear patterns,</li>
<li>Correlation metrics</li>
<li>Also see <a href="../qmd/generalized-additive-models-(gam).html#sec-gam-diag" style="color: green">General Additive Models &gt;&gt; Diagnostics</a> for a method of determining a nonlinear relationship for either continuous or categorical outcomes.</li>
</ul>
</section>
<section id="sec-eda-gen-corr-cat" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr-cat">Categorical</h3>
<ul>
<li>Packages
<ul>
<li><span style="color: #990000">{</span><a href="https://github.com/HUGLeipzig/kitesquare" style="color: #990000">kitesquare</a><span style="color: #990000">}</span> - A representation of observed and conditional quantities of a 2x2 contingency plot along with a representation of the <span class="math inline">\(\chi^2\)</span> test in a kite-square plot.
<ul>
<li>As with a lot of discrete visualizations, itâ€™s a bit convoluted and not intuitively interpreted, but itâ€™s interesting. May be useful for making a lot of 2x2 comparisons once you get the hang of interpreting it.</li>
</ul></li>
</ul></li>
<li>2-level x 2-level: Cramerâ€™s V</li>
<li>2-level or multi-level x multi-level
<ul>
<li>Chi-square or exact tests</li>
</ul></li>
<li>Levels vs Levels correlation
<ul>
<li>Multiple Correspondence Analysis (MCA) (See <a href="../qmd/association-general.html#sec-assoc-gen-disc" style="color: green">Association, General &gt;&gt; Discrete</a>)</li>
</ul></li>
<li>Binary outcome vs Numeric predictors
<ul>
<li><p>Using AUC</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numeric vars should be in a long tbl. Use pivot longer to make two columns (e.g. metric (var names) value (value))</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>numeric_gathered <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">group_by</span>(metric) <span class="sc">%&gt;%</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="co"># rain_tomorrow is the outcome; event_level says which factor level is the event your measuring</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">roc_auc</span>(rain_tomorrow, value, <span class="at">event_level =</span> <span class="st">"second"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(.estimate)) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">mutate</span>(<span class="at">metric =</span> <span class="fu">fct_reorder</span>(metric, .estimate)) <span class="sc">%&gt;%</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(.estimate, metric)) <span class="sc">+</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"AUC in positive direction"</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">title =</span> <span class="st">"How predictive is each linear predictor by itself?"</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">subtitle =</span> <span class="st">".5 is not predictive at all; &lt;.5 means negatively associated with rain, &gt;.5 means positively associated"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>0.5 is not predictive at all; &lt;0.5 means negatively associated with rain, &gt;0.5 means positively associated</li>
</ul></li>
<li><p>Also see <span style="color: #990000">{greybox::association}</span> in the <a href="../qmd/eda-general.html#linear" style="color: green">Linear</a> section which reverses the model formula and fits a linear regression to measure correlation</p></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-corr-ord" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-corr-ord">Ordinal</h3>
<ul>
<li>Also see <span style="color: #990000">{correlation}</span> the <a href="../qmd/eda-general.html#linear" style="color: green">Linear</a> section which has polychoric measures</li>
<li>Polychoric</li>
</ul>
</section>
</section>
<section id="sec-eda-gen-contout" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-contout">Continuous Predictor vs Outcome</h2>
<section id="sec-eda-gen-contout-misc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-contout-misc">Misc</h3>
<ul>
<li>If the numeric-numeric relation isnâ€™t linear, then the model will be misspecified: an influential variable may be overlooked or the assumption of linearity may produce a model that fails in important ways to represent the relationship.</li>
<li>Also see <a href="../qmd/generalized-additive-models-(gam).html#sec-gam-diag" style="color: green">General Additive Models &gt;&gt; Diagnostics</a> for a method of determining a nonlinear relationship for either continuous or categorical outcomes.</li>
</ul>
</section>
<section id="sec-eda-gen-contout-cont" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-contout-cont">Continuous Outcome</h3>
<ul>
<li><p><u>Continuous vs Continuous</u></p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: Test Spline Fit<br>
<a href="_resources/EDA.resources/cont-cont-ggpmisc-spline-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img src="_resources/EDA.resources/cont-cont-ggpmisc-spline-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(mgcv, ggpmisc)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>formula <span class="ot">&lt;-</span> y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">s</span>(x, <span class="at">m =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">0</span>), <span class="at">bs =</span> <span class="st">'tp'</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(Age, moose)) <span class="sc">+</span> </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> formula) <span class="sc">+</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_fit_tb</span>(<span class="at">method =</span> <span class="st">"gam"</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">formula =</span> formula,</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">method =</span> <span class="st">"REML"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<p>Styled Version Code</p>
</summary>
<div class="sourceCode" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(mgcv, ggpmisc)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>summary_theme <span class="ot">&lt;-</span> </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  gridExtra<span class="sc">::</span><span class="fu">ttheme_minimal</span>(</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">colhead =</span> <span class="fu">list</span>(<span class="at">bg_params =</span> <span class="fu">list</span>(<span class="at">fill =</span> notebook_colors[[<span class="dv">7</span>]]),</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fg_params =</span> <span class="fu">list</span>(<span class="at">col =</span> <span class="st">"white"</span>))</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>formula <span class="ot">&lt;-</span> y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">s</span>(x, <span class="at">m =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">0</span>), <span class="at">bs =</span> <span class="st">'tp'</span>)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(Age, moose)) <span class="sc">+</span> </span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> notebook_colors[[<span class="dv">9</span>]], </span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"gam"</span>, </span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> formula,</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> notebook_colors[[<span class="dv">7</span>]]) <span class="sc">+</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_fit_tb</span>(<span class="at">method =</span> <span class="st">"gam"</span>,</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">formula =</span> formula,</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">method =</span> <span class="st">"REML"</span>),</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">tb.params =</span> <span class="fu">c</span>(<span class="st">"s(Age)"</span> <span class="ot">=</span> <span class="dv">1</span>),</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>              <span class="at">table.theme =</span> summary_theme) <span class="sc">+</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_notebook</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>See <span style="color: #990000">{gridExtra}</span> <a href="https://cran.r-project.org/web/packages/gridExtra/vignettes/tableGrob.html">vignette</a> for details on styling</li>
<li>See <span style="color: #990000">{ggpp}</span> <a href="https://docs.r4photobiology.info/ggpp/reference/index.html#geoms">Reference &gt;&gt; Geoms</a> for pre-made theme options</li>
</ul>
</details>
<ul>
<li>See
<ul>
<li><a href="../qmd/generalized-additive-models-(gam).html#sec-gam-diag" style="color: green">Generalized Additive Models &gt;&gt; Diagnostics</a> &gt;&gt; Formal test for the necessity of a smooth for details on the test</li>
<li><span style="color: #990000">{ggpmisc}</span> <a href="https://docs.r4photobiology.info/ggpmisc/articles/model-based-annotations.html#stat_fit_tb">vignette</a> for details on <code>stat_fit_tb</code></li>
</ul></li>
<li>If the p-value is below 0.05, then itâ€™s suitable to use a spline transformation for that predictor variable.</li>
<li>The <span class="arg-text">formula</span> needs to use the <span style="color: #990000">{ggplot2}</span> mapped variables (x, y) and not the variable names in the data.</li>
</ul></li>
</ul></li>
<li><p><u>Continuous vs Continuous by Continuous</u><br>
<a href="_resources/EDA.resources/cont-cont-cont-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img src="_resources/EDA.resources/cont-cont-cont-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coplot</span>(lat <span class="sc">~</span> long <span class="sc">|</span> depth, <span class="at">data =</span> quakes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>coplot</code> is base R.
<ul>
<li>Examples from <a href="https://ivelasq.rbind.io/blog/not-so-basic-base-r-functions/#coplot">Six not-so-basic base R functions</a></li>
</ul></li>
<li>The six plots show the relationship of these two variables for different values of <span class="var-text">depth</span></li>
<li>The bar plot at the top indicates the range of <span class="var-text">depth</span> values for each of the plots</li>
<li>From lowest <span class="var-text">depth</span> to highest <span class="var-text">depth</span>, the default arrangement of the plots is from bottom row, left to right, and upwards
<ul>
<li>e.g.&nbsp;The 4<sup>th</sup> lowest <span class="var-text">depth</span> is on the top row, farthest to the left.</li>
</ul></li>
<li><span class="arg-text">rows = 1</span> would arrange all plots in 1 row.</li>
<li><span class="arg-text">overlap = 0</span> will remove overlap between bins</li>
</ul></li>
<li><p><u>Continuous vs Continuous by Continuous by Continuous</u><br>
<a href="_resources/EDA.resources/cont-cont-cont-cont-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img src="_resources/EDA.resources/cont-cont-cont-cont-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coplot</span>(lat <span class="sc">~</span> long <span class="sc">|</span> depth <span class="sc">*</span> mag, <span class="at">data =</span> quakes, <span class="at">number =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Shows the relationship with <span class="var-text">depth</span> from left to right and the relationship with <span class="var-text">magnitude</span> from top to bottom.</li>
<li><span class="arg-text">number = c(3, 4)</span> says you want 3 bins for <span class="var-text">depth</span> and 4 bins for <span class="var-text">mag</span></li>
<li>From lowest <span class="var-text">depth</span>, <span class="var-text">mag</span> to highest <span class="var-text">depth</span>, <span class="var-text">mag</span>, the arrangement of the plots is from bottom row, left to right, and upwards
<ul>
<li>e.g.&nbsp;The 2<sup>nd</sup> lowest <span class="var-text">depth</span> (columns) and 3rd lowest <span class="var-text">mag</span> (rows) is in the 3rd from bottom row and 2<sup>nd</sup> column.</li>
</ul></li>
</ul></li>
<li><p>Continuous vs Continuous by Categorical</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{tinyplot}</span> (<a href="https://grantmcdermott.com/tinyplot/#quickstart">source</a>)<br>
<a href="_resources/EDA.resources/cont-cont-cat-tinyplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img src="_resources/EDA.resources/cont-cont-cat-tinyplot-1.png" class="img-fluid" width="382"></a></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>tinyplot<span class="sc">::</span><span class="fu">plt</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  Sepal.Length <span class="sc">~</span> Petal.Length <span class="sc">|</span> Species, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> iris,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="st">"dark"</span>, </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">16</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid =</span> <span class="cn">TRUE</span>, </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">frame =</span> <span class="cn">FALSE</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{tinyplot}</span> facetted<br>
<a href="_resources/EDA.resources/cont-cont-cat-tinyplot-facet-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img src="_resources/EDA.resources/cont-cont-cat-tinyplot-facet-1.png" class="img-fluid" width="382"></a></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>tinyplot<span class="sc">::</span><span class="fu">plt</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  Sepal.Length <span class="sc">~</span> Petal.Length <span class="sc">|</span> Sepal.Length, </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> iris,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">facet =</span> <span class="sc">~</span>Species, </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">facet.args =</span> <span class="fu">list</span>(<span class="at">bg =</span> <span class="st">"grey90"</span>),</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"Faceted Species!"</span>,</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid =</span> <span class="cn">TRUE</span>, </span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">frame =</span> <span class="cn">FALSE</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><u>Continuous vs Continuous by Categorical by Categorical</u></p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{tinyplot}</span> facetted (<a href="https://grantmcdermott.com/tinyplot/#quickstart">source</a>)<br>
<a href="_resources/EDA.resources/cont-cont-cat-cat-tinyplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img src="_resources/EDA.resources/cont-cont-cat-cat-tinyplot-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plt</span>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  Sepal.Length <span class="sc">~</span> Petal.Length <span class="sc">|</span> Sepal.Length, </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> iris,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">facet =</span> <span class="sc">~</span>Species, </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">facet.args =</span> <span class="fu">list</span>(<span class="at">bg =</span> <span class="st">"grey90"</span>),</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"Faceted Species!"</span>,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid =</span> <span class="cn">TRUE</span>, </span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">frame =</span> <span class="cn">FALSE</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><span class="ribbon-highlight">Example</span>: continuous vs.&nbsp;continuous by categorical vs categorical interaction<br>
<a href="_resources/EDA.resources/cont-cont-cat-cat.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35"><img src="_resources/EDA.resources/cont-cont-cat-cat.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coplot</span>(flowers <span class="sc">~</span> weight<span class="sc">|</span>nitrogen <span class="sc">*</span> treat, <span class="at">data =</span> flowers,</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel =</span> <span class="cf">function</span>(x, y, ...) {</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">points</span>(x, y, ...)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">abline</span>(<span class="fu">lm</span>(y <span class="sc">~</span> x), <span class="at">col =</span> <span class="st">"blue"</span>)})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>From <a href="https://intro2r.com/simple-base-r-plots.html#coplots">An Introduction to R</a></li>
<li>Same arrangement scheme as the plots above
<ul>
<li>e.g.&nbsp;<span class="var-text">nitrogen = â€œmediumâ€</span> and <span class="var-text">treat = â€œtipâ€</span> is the cell at middle column, top row</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Scagnostics</u> (<a href="https://www.cs.uic.edu/~aanand/publications/INFOVIS05-scagnostics.pdf">paper</a>) - metrics to examine numeric vs numeric relationships</p>
<ul>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/scagnostics/index.html" style="color: #990000">scagnostics</a><span style="color: #990000">}</span></li>
<li>Scagnostics describe various measures of interest for pairs of variables, based on their appearance on a scatterplot. They are useful tool for discovering interesting or unusual scatterplots from a scatterplot matrix, without having to look at every individual plot</li>
<li>Metrics: Outlying, Skewed, Clumpy, Sparse, Striated, Convex, Skinny, Stringy, Monotonic
<ul>
<li>â€œStraightâ€ (paper) seems to have been swapped for â€œSparseâ€ (package)</li>
</ul></li>
<li>Potential use cases
<ul>
<li>Finding linear/nonlinear relationships</li>
<li>Clumping or clustered patterns could indicate an interaction with a categorical variable</li>
</ul></li>
<li>Score Guide<br>
<img src="./_resources/EDA.resources/Screenshot (974).png" class="img-fluid">
<ul>
<li>High value: Red</li>
<li>Low value: Blue</li>
<li>Couldnâ€™t find the ranges of these metrics in the paper or the package docs</li>
<li>Shows how scatterplot patterns correspond to metric values</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-contout-cat" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-contout-cat">Categorical Outcome</h3>
<ul>
<li><p>Also see <a href="../qmd/eda-general.html#sec-eda-gen-catout-cont" style="color: green">Categorical Predictor vs Outcome &gt;&gt; Continuous</a></p></li>
<li><p><u>Continuous vs Categorical</u></p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: Test Spline Fit<br>
<a href="_resources/EDA.resources/cont-cat-ggpmisc-spline-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36"><img src="_resources/EDA.resources/cont-cat-ggpmisc-spline-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(mgcv, ggpmisc)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>formula <span class="ot">&lt;-</span> y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">s</span>(x, <span class="at">m =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">0</span>), <span class="at">bs =</span> <span class="st">'tp'</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">fill =</span> <span class="fu">factor</span>(Survived))) <span class="sc">+</span> </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_fit_tb</span>(<span class="fu">aes</span>(<span class="at">y =</span> Survived),</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"gam"</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">formula =</span> formula,</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">method =</span> <span class="st">"REML"</span>,</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">family =</span> binomial),</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">label.x =</span> <span class="st">"right"</span>,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">label.y =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
<p>Styled Version Code</p>
</summary>
<div class="sourceCode" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>summary_theme <span class="ot">&lt;-</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  gridExtra<span class="sc">::</span><span class="fu">ttheme_minimal</span>(</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">colhead =</span> <span class="fu">list</span>(<span class="at">bg_params =</span> <span class="fu">list</span>(<span class="at">fill =</span> notebook_colors[[<span class="dv">8</span>]]),</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fg_params =</span> <span class="fu">list</span>(<span class="at">col =</span> <span class="st">"white"</span>))</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">fill =</span> <span class="fu">factor</span>(Survived))) <span class="sc">+</span> </span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> notebook_colors[<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">2</span>)],</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_fit_tb</span>(<span class="fu">aes</span>(<span class="at">y =</span> Survived),</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">"gam"</span>,</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">method.args =</span> <span class="fu">list</span>(<span class="at">formula =</span> formula,</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">method =</span> <span class="st">"REML"</span>,</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">family =</span> binomial),</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">tb.params =</span> <span class="fu">c</span>(<span class="st">"s(Age)"</span> <span class="ot">=</span> <span class="dv">1</span>),</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">table.theme =</span> summary_theme,</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>              <span class="at">label.x =</span> <span class="st">"right"</span>,</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>              <span class="at">label.y =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"density"</span>) <span class="sc">+</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Survived"</span>,</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">position =</span> <span class="st">"inside"</span>)) <span class="sc">+</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_notebook</span>(</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position.inside =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>)</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>See <span style="color: #990000">{gridExtra}</span> <a href="https://cran.r-project.org/web/packages/gridExtra/vignettes/tableGrob.html">vignette</a> for details on styling</li>
<li>See <span style="color: #990000">{ggpp}</span> <a href="https://docs.r4photobiology.info/ggpp/reference/index.html#geoms">Reference &gt;&gt; Geoms</a> for pre-made theme options</li>
</ul>
</details>
<ul>
<li><p>See</p>
<ul>
<li><a href="../qmd/generalized-additive-models-(gam).html#sec-gam-diag" style="color: green">Generalized Additive Models &gt;&gt; Diagnostics</a> &gt;&gt; Formal test for the necessity of a smooth for details on the test</li>
<li><span style="color: #990000">{ggpmisc}</span> <a href="https://docs.r4photobiology.info/ggpmisc/articles/model-based-annotations.html#stat_fit_tb">vignette</a> for details on <code>stat_fit_tb</code></li>
</ul></li>
<li><p>If the p-value is below 0.05, then itâ€™s suitable to use a spline transformation for that predictor variable.</p></li>
<li><p>The <span class="arg-text">formula</span> needs to use the <span style="color: #990000">{ggplot2}</span> mapped variables (x, y) and not the variable names in the data.</p></li>
<li><p>Within <code>stat_fit_tb</code>, the <span class="arg-text">y</span> (<span class="var-text">Survived</span>) mapping must be defined for the GAM formula, since it canâ€™t not defined in the density part of the chart</p></li>
<li><p>Could also do this with a boxplot, etc.</p></li>
</ul></li>
</ul></li>
<li><p><u>For binary outcome, look for</u> <u>variation between numeric variables and each outcome level</u><br>
<a href="./_resources/EDA.resources/Screenshot (347).png" class="lightbox" data-gallery="quarto-lightbox-gallery-37"><img src="./_resources/EDA.resources/Screenshot (347).png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># numeric vars should be in a long tbl.</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use pivot longer to make two columns (e.g. metric (var names) value (value)) with the binary outcome (e.g rain_tomorrow) as a separate column</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>numeric_gathered <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(value, <span class="at">fill =</span> rain_tomorrow)) <span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">facet_wrap</span>(<span class="sc">~</span> metric, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># + scale_x_log10()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Separation between the two densities would indicate predictive value.</p></li>
<li><p>If one of colored density is further to the right than the other then the interpretation would be:</p>
<ul>
<li>Higher values of metric result in a greater probability of &lt;outcome category of the right-most density&gt;</li>
</ul></li>
<li><p>Normalize the x-axis with <code>rank_percentile(value)</code><br>
<a href="./_resources/EDA.resources/Screenshot (349).png" class="lightbox" data-gallery="quarto-lightbox-gallery-38"><img src="./_resources/EDA.resources/Screenshot (349).png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>numeric_gathered <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">rank =</span> <span class="fu">percent_rank</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(rank, <span class="at">fill =</span> churned)) <span class="sc">+</span>&nbsp;</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span>&nbsp;</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="fu">facet_wrap</span>(<span class="sc">~</span> metric, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Not sure why youâ€™d do this unless there was a reason to compare the separation of densities (i.e.&nbsp;strength of association with outcome) between the predictors.</li>
</ul></li>
</ul></li>
<li><p><u>Estimated AUC for binary outcome ~ numeric predictor</u> (From DRobâ€™s SLICED Competition Lap 1 <a href="https://www.youtube.com/watch?v=42GyyDM3Uzg&amp;ab_channel=DavidRobinson">Video</a>)</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>numeric_gathered <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">mutate</span>(<span class="at">rainfall =</span> <span class="fu">log2</span>(rainfall <span class="sc">+</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">gather</span>(metric, </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>&nbsp;        value, </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>&nbsp;        min_temp, </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>&nbsp;        max_temp, </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>&nbsp;        rainfall, </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>&nbsp;        <span class="fu">contains</span>(<span class="st">"speed"</span>), </span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>&nbsp;        <span class="fu">contains</span>(<span class="st">"humidity"</span>), </span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>&nbsp;        <span class="fu">contains</span>(<span class="st">"pressure"</span>), </span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>&nbsp;        <span class="fu">contains</span>(<span class="st">"cloud"</span>),</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>&nbsp;        <span class="fu">contains</span>(<span class="st">"temp"</span>))</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>numeric_gathered <span class="sc">%&gt;%</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">group_by</span>(metric) <span class="sc">%&gt;%</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>&nbsp; yardstick<span class="sc">::</span><span class="fu">roc_auc</span>(rain_tomorrow, </span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>&nbsp;                    value, </span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>&nbsp;                    <span class="at">event_level =</span> <span class="st">"second"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(.estimate)) <span class="sc">%&gt;%</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">mutate</span>(<span class="at">metric =</span> <span class="fu">fct_reorder</span>(metric, .estimate)) <span class="sc">%&gt;%</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(.estimate, metric)) <span class="sc">+</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"AUC in positive direction"</span>,</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">title =</span> <span class="st">"How predictive is each linear predictor by itself?"</span>,</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">subtitle =</span> <span class="st">".5 is not predictive at all; &lt;.5 means negatively associated with rain, &gt;.5 means positively associated"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="var-text">rain_tomorrow</span> is a binary factor variable</li>
<li><span class="arg-text">second</span> says the event we want the probability for is the second level of the binary factor variable</li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-eda-gen-catout" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-catout">Categorical Predictor vs Outcome</h2>
<section id="sec-eda-gen-catout-cont" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-catout-cont">Continuous Outcome</h3>
<ul>
<li><p>Also see</p>
<ul>
<li><a href="../qmd/regression-linear.html#sec-reg-lin-contrasts" style="color: green">Regression, Linear &gt;&gt; Contrasts</a> &gt;&gt; Polynomial Contrasts
<ul>
<li>Tests for a nonlinear (polynomial) relationship between a <strong>ordinal</strong> predictor and continuous response</li>
</ul></li>
</ul></li>
<li><p><u>Density Plot by Categorical</u></p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{tinyplot}</span> (<a href="https://grantmcdermott.com/tinyplot/#quickstart">source</a>)<br>
<a href="_resources/EDA.resources/cat-cont-tinyplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39"><img src="_resources/EDA.resources/cat-cont-tinyplot-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plt</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> Petal.Length <span class="sc">|</span> Species,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> iris,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"density"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="st">"dark"</span>, <span class="at">fill =</span> <span class="st">"by"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid =</span> <span class="cn">TRUE</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"Distribution of petal lengths by species"</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><u>Boxplot by Categorical</u></p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: Order by continuous</p>
<ul>
<li><p><code>fct_reorder</code> says order cat_var by a num_var</p>
<ul>
<li>Make sure data is NOT grouped</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">cat_var =</span> <span class="fu">fct_reorder</span>(cat_var, numeric_outcome)) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(numeric_outcome, cat_var)) <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>If all the medians line up then no relationship. A slope or nonlinear shows relationship.</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Create â€œOtherâ€ Variable</p>
<ul>
<li><p><code>fct_lump</code> can be used to create an â€œotherâ€ group.</p>
<p><a href="./_resources/EDA.resources/Screenshot (331).png" class="lightbox" data-gallery="quarto-lightbox-gallery-40"><img src="./_resources/EDA.resources/Screenshot (331).png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">cat_var =</span> <span class="fu">fct_lump</span>(cat_var, <span class="dv">8</span>),</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">cat_var =</span> <span class="fu">fct_reorder</span>(cat_var, numeric_outcome)) <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(numeric_outcome, cat_var)) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Useful for cat_vars with too many levels which can muck-up a graph</li>
<li>Says to keep the top 8 levels with the highest counts and put rest in â€œotherâ€.
<ul>
<li>Also takes proportions. Negative values says keep lowest.</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Titanic5 Interpretation<br>
<a href="./_resources/EDA.resources/newplot.png" class="lightbox" data-gallery="quarto-lightbox-gallery-41"><img src="./_resources/EDA.resources/newplot.png" class="img-fluid" width="432"></a></p>
<ul>
<li>Y-Axis is the â€œClassâ€ categorical with 3 levels</li>
<li>For ticket price, only class 1 shows any variation</li>
<li>For Age, thereâ€™s a clear trend but also considerable overlap between classes</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Density Plot + One-Way ANOVA</u><br>
<a href="_resources/EDA.resources/cat-vs-cont-dens-1.webp" class="lightbox" data-gallery="quarto-lightbox-gallery-42"><img src="_resources/EDA.resources/cat-vs-cont-dens-1.webp" class="img-fluid" width="332"></a></p>
<ul>
<li>The ANOVA confirms that all mpg means stratified by country are different (pval &lt; 0.05) and the density plot visualizes that a difference in means is very likely due to the US and thereâ€™s also potentially a difference between Japan and Europe.</li>
</ul></li>
<li><p>Boxplot + ANOVA Tests + Multiple Comparison Correction</p>
<ul>
<li><p>Also see <a href="../qmd/post-hoc-analysis-anova.html#sec-phoc-anova" style="color: green">Post-Hoc, ANOVA</a></p></li>
<li><p><span class="ribbon-highlight">Example</span>: Tukeyâ€™s Test (<a href="https://docs.r4photobiology.info/ggpmisc/articles/model-based-annotations.html#stat_multcomp">source</a>)<br>
<a href="_resources/EDA.resources/cont-cat-ggpmisc-tukey-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-43"><img src="_resources/EDA.resources/cont-cat-ggpmisc-tukey-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(cyl), <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.33</span>) <span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  ggpmisc<span class="sc">::</span><span class="fu">stat_multcomp</span>(</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">label.y =</span> </span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">15</span>, </span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">by =</span> <span class="sc">-</span><span class="dv">3</span>, </span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">length.out =</span> <span class="dv">6</span>),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The Tukey test compares differences in means between each category
<ul>
<li>It uses the â€œHonest Significant Differenceâ€ as a distance measure, which is why thereâ€™s a â€œHSDâ€ subscript</li>
</ul></li>
<li><span class="arg-text">label.y</span> - Sets the locations on the y-axis where you want each of the horizontal p-value interval boxes
<ul>
<li>By default, theyâ€™re placed at the top of the chart, but sometimes that location can squish the boxes and whiskers and make interpretation more difficult.</li>
<li>Boxes can be removed and only the value the label used. See source.</li>
</ul></li>
<li><span class="arg-text">p.adjust.method</span> - Can be set to adjust p-values. Available ethods are: â€œsingle-stepâ€, â€œShafferâ€, â€œWestfallâ€, â€œfreeâ€, â€œholmâ€, â€œhochbergâ€, â€œhommelâ€, â€œbonferroniâ€, â€œBHâ€, â€œBYâ€, â€œfdrâ€, â€œnoneâ€.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Dunnettâ€™s Test<br>
<a href="_resources/EDA.resources/cont-cat-ggpmisc-dunnett-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-44"><img src="_resources/EDA.resources/cont-cat-ggpmisc-dunnett-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="fu">factor</span>(cyl), hwy)) <span class="sc">+</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.33</span>)  <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  ggpmisc<span class="sc">::</span><span class="fu">stat_multcomp</span>(</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">label.y =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">1</span>),</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">contrasts =</span> <span class="st">"Dunnet"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.75</span>) <span class="sc">+</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Dunnettâ€™s test compares differences in means between a reference category and all other categories</li>
<li>See Tukey example for more details.</li>
</ul></li>
</ul></li>
<li><p>Nonparametric group comparison<br>
<a href="_resources/EDA.resources/cat-cont-ggstatsplot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-45"><img src="_resources/EDA.resources/cat-cont-ggstatsplot-1.png" class="img-fluid"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse); <span class="fu">library</span>(ggstatsplot)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(Wage, <span class="at">package =</span> <span class="st">"ISLR"</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  Wage <span class="sc">|&gt;</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(education) <span class="sc">|&gt;</span> </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="dv">50</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbetweenstats</span>(</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat,</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> education,</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> wage,</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"nonparametric"</span>,</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">ggplot.component =</span> <span class="fu">list</span>(</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> notebook_colors[<span class="dv">4</span><span class="sc">:</span><span class="dv">8</span>]),</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_notebook</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Also see <a href="../qmd/post-hoc-analysis-general.html#sec-phoc-gen-fdim-npara" style="color: green">Post-Hoc, General &gt;&gt; Frequentist Difference-in-Means &gt;&gt; Non-Parametric</a></li>
<li><span class="var-text">Wage</span> is continuous, and <span class="var-text">Education</span> is multilevel categorical. So, the function performs a nonparametric One-Way ANOVA which is a Kruskal-Wallis test, and measures the effect size with <em>Rank</em> Epsilon Squared (<a href="https://indrajeetpatil.github.io/ggstatsplot/reference/ggbetweenstats.html#one-way-anova">Docs</a>)</li>
<li>Top:
<ul>
<li>Kruskal-Wallis rejects the Null which says there exists a difference in means among the categorical levels but <em>not</em> which ones.</li>
<li>Ranked Epsilon Squared says the effect of <span class="var-text">Education</span> on <span class="var-text">Wage</span> is large.</li>
</ul></li>
<li>Body
<ul>
<li>Dunnâ€™s Test is performed given that the Kruskal-Wallis test is significant. By default, only significant pairwise associations are shown (<span class="arg-text">pairwise.display = â€œsignificantâ€</span>)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-catout-cat" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-catout-cat">Categorical Outcome</h3>
<ul>
<li><p><u>Histograms of cat_vars split by response_var</u>&nbsp;</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">select</span>(cat_vars) <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">pivot_longer</span>(key, <span class="at">value =</span> cat_vars, response_var) <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(value)) <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_bar</span>(<span class="at">fill =</span> response_var) <span class="sc">+</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">facet_wrap</span>( <span class="sc">~</span>key, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Just looking for variation in the levels of the cat_var given response var. More variation = more likely to be a better predictor</li>
<li>Each facet will be a level of the response variable</li>
</ul></li>
<li><p><u>Error Bar Plot</u></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># outcome variable is a binary for whether or not it rained on that day</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>group_binary_prop <span class="ot">&lt;-</span> <span class="cf">function</span>(tbl) {</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; ret <span class="ot">&lt;-</span> tbl <span class="sc">%&gt;%</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># count of events for each category (successes)</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">summarize</span>(<span class="at">n_rain =</span> <span class="fu">sum</span>(rain_tomorrow <span class="sc">==</span> <span class="st">"Rained"</span>),</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># count of rows for each category (trials)</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># probability of event for each category</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">pct_rain =</span> n_rain <span class="sc">/</span> n,</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># jeffreys interval</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># bayesian CI for binomial proportions</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">low =</span> <span class="fu">qbeta</span>(.<span class="dv">025</span>, n_rain <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_rain <span class="sc">+</span> .<span class="dv">5</span>),</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">high =</span> <span class="fu">qbeta</span>(.<span class="dv">975</span>, n_rain <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_rain <span class="sc">+</span> .<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># proportion of all events for each category</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">pct =</span> n_rain <span class="sc">/</span> <span class="fu">sum</span>(n_rain))</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># this was the original but this would just be proportion of the total data for each caategory</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># mutate(pct = n / sum(n))</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; ret</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a><span class="co"># error bar plot</span></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a><span class="co"># cat vs probability of event w/CIs</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>train <span class="sc">%&gt;%</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># cat predictor</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">group_by</span>(<span class="at">location =</span> <span class="fu">fct_lump</span>(location, <span class="dv">50</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="co"># apply custom function</span></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">group_binary_prop</span>() <span class="sc">%&gt;%</span></span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">location =</span> <span class="fu">fct_reorder</span>(location, pct_rain)) <span class="sc">%&gt;%</span></span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(pct_rain, location)) <span class="sc">+</span></span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> pct)) <span class="sc">+</span></span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> low, <span class="at">xmax =</span> high), <span class="at">height =</span> .<span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">scale_size_continuous</span>(<span class="at">labels =</span> percent, <span class="at">guide =</span> <span class="st">"none"</span>, <span class="at">range =</span> <span class="fu">c</span>(.<span class="dv">5</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> percent) <span class="sc">+</span></span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Probability of raining tomorrow"</span>,</span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">title =</span> <span class="st">"What locations get the most/least rain?"</span>,</span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; <span class="at">subtitle =</span> <span class="st">"Including 95% confidence intervals. Size of points is proportional to frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Binary Outcome: Group by cat predictors and calculate proportion of event</li>
<li>This needs some tidyeval so it can generalize to other binary(?) outcome vars</li>
</ul></li>
<li><p><u>Simpler (uncommented) version</u></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>summarize_churn <span class="ot">&lt;-</span> <span class="cf">function</span>(tbl) {</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; tbl <span class="sc">%&gt;%</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">n_churned =</span> <span class="fu">sum</span>(churned <span class="sc">==</span> <span class="st">"yes"</span>),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">pct_churned =</span> n_churned<span class="sc">/</span>n,</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">low =</span> <span class="fu">qbeta</span>(.<span class="dv">025</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>),&nbsp;</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">high =</span> <span class="fu">qbeta</span>(.<span class="dv">975</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>plot_categorical <span class="ot">&lt;-</span> <span class="cf">function</span>(tbl, categorical, ...) {</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; tbl <span class="sc">%&gt;%</span>&nbsp; &nbsp; &nbsp; &nbsp;</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(pct_churned, cat_pred), ...) <span class="sc">+</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> low, <span class="at">xmax =</span> high), <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">color =</span> red) <span class="sc">+</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> percent) <span class="sc">+</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"% in category that churned"</span>)</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">group_by</span>(cat_var) <span class="sc">%&gt;%</span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">summarize_churn</span>() <span class="sc">%&gt;%</span></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">plot_categorical</span>(cat_var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><u>Binary Outcome vs Two Binned Continuous</u></p>
<p><a href="./_resources/EDA.resources/Screenshot (357).png" class="lightbox" data-gallery="quarto-lightbox-gallery-46"><img src="./_resources/EDA.resources/Screenshot (357).png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>summarize_churn <span class="ot">&lt;-</span> <span class="cf">function</span>(tbl) {</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; tbl <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">n_churned =</span> <span class="fu">sum</span>(churned <span class="sc">==</span> <span class="st">"yes"</span>),</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">pct_churned =</span> n_churned<span class="sc">/</span>n,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">low =</span> <span class="fu">qbeta</span>(.<span class="dv">025</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>),&nbsp;</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">high =</span> <span class="fu">qbeta</span>(.<span class="dv">975</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">avg_trans_amt =</span> total_trans_amt <span class="sc">/</span> total_trans_ct,</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">total_transactions =</span> <span class="fu">ifelse</span>(total_trans_ct <span class="sc">&gt;=</span> <span class="dv">50</span>,</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"&gt; 50 Transactions"</span>,</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"&lt; 50 Transactions"</span>),</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">avg_transaction =</span> <span class="fu">ifelse</span>(avg_trans_amt <span class="sc">&gt;=</span> <span class="dv">50</span>,</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"&gt; $50 Average"</span>,</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"&lt; $50 Average"</span>)</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; ) <span class="sc">%&gt;%</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">group_by</span>(total_transactions,avg_transaction) <span class="sc">%&gt;%</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">summarize_churn</span>() <span class="sc">%&gt;%</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(total_transactions, avg_transaction)) <span class="sc">+</span></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> pct_churned)) <span class="sc">+</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">percent</span>(pct_churned, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>, <span class="at">midpoint =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"How many transactions did the customer do?"</span>,</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="at">y =</span> <span class="st">"What was the average transaction size?"</span>,</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="at">fill =</span> <span class="st">"% churned"</span>,</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="at">title =</span> <span class="st">"Dividing customers into segments"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Segmentation chart</li>
<li>Each customerâ€™s spend is averaged and binned (&gt; or &lt; $50)</li>
<li>Each customerâ€™s transaction count is binned (&gt; or &lt; 50)</li>
<li>The df is grouped by both binned vars, so you get 4 subgroups
<ul>
<li>Proportions of each subgroup that falls into the event category of then binary variable (e.g.&nbsp;churn) are calculated</li>
<li>Low and high quantiles for churn counts are calculated (typical calc of CIs for the proportions of binary variables)
<ul>
<li>Used to add context of whether these are high proportions, low proportions, etc.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-eda-gen-inter" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-eda-gen-inter">Interactions</h2>
<section id="sec-eda-gen-inter-misc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-inter-misc">Misc</h3>
<ul>
<li><p>Y-Axis is the response, X-Axis is the explanatory variable of interest, and the Grouping Variable is the moderator</p></li>
<li><p>Interpretation</p>
<ul>
<li>Significant Interactions - The lines of the graph cross or sometimes if they converge (if thereâ€™s enough data/power)
<ul>
<li>This pattern is a visual indication that the effects of one IV change as the second IV is varied.</li>
<li>If either line has a non-linear pattern (e.g.&nbsp;U-Shaped), yet still cross, it may indicate a non-linear interaction</li>
</ul></li>
<li>Non-Significant Interactions - Lines that are close to parallel.</li>
</ul></li>
<li><p>Also see</p>
<ul>
<li><a href="regression-qmd#sec-reg-inter" style="color: green">Regression, Interactions</a> for details</li>
<li><a href="../qmd/diagnostics-model-agnostic.html#sec-diag-modagn-dalex-instlev-bd" style="color: green">Diagnostics, Model Agnostic &gt;&gt; DALEX &gt;&gt; Instance Level &gt;&gt; Break-Down</a> &gt;&gt; Example: Assume Interactions</li>
</ul></li>
<li><p>Typical Format: outcome_mean vs pred_var by pred_var</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span>&nbsp;</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">group_by</span>(pred1, pred2) <span class="sc">%&gt;%</span>&nbsp;</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">summarize</span>(<span class="at">out_mean =</span> <span class="fu">mean</span>(outcome)) <span class="sc">%&gt;%</span>&nbsp;</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> out_mean, <span class="at">x =</span> pred1, <span class="at">color =</span> pred2)<span class="sc">+</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>May also need a â€œgroup = pred2â€ in the aes function</li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-inter-cont" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-inter-cont">Continuous Outcome</h3>
<ul>
<li><p><u>Continuous vs Continuous, Scatter with Smoother by a Categorical</u><br>
<a href="./_resources/EDA.resources/image.4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-47"><img src="./_resources/EDA.resources/image.4.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(w, <span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y=</span>price, <span class="at">color=</span><span class="fu">factor</span>(class))) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">scale_y_continuous</span>(<span class="at">trans=</span><span class="st">'sqrt'</span>) <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">guides</span>(<span class="at">color=</span><span class="fu">guide_legend</span>(<span class="at">title=</span><span class="st">'Class'</span>)) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">hlabs</span>(age, price)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Continuous outcome has been transformed so that the lower values can be more visible</li>
<li>â€œClassâ€ == 1 â¨¯ Age shows some variation but the other two classes do not seem to show much. Lookng at the scatter of red dots, Iâ€™m skeptical that variation being shown by the curve.
<ul>
<li>Although the decent separation of the â€œClassâ€ groups may be what indicates an informative interaction</li>
</ul></li>
</ul></li>
<li><p><u>Continuous vs Binary by Binary</u><br>
<a href="./_resources/EDA.resources/Screenshot (499).png" class="lightbox" data-gallery="quarto-lightbox-gallery-48"><img src="./_resources/EDA.resources/Screenshot (499).png" class="img-fluid" width="332"></a></p>
<ul>
<li>Significant interaction effect (crossing)
<ul>
<li>Variable A had no significant effect on participants in Condition B1 but caused a decline from A1 to A2 for those in Condition B2</li>
</ul></li>
</ul></li>
<li><p>Continuous vs Continuous by Categorical</p>
<p><a href="_resources/EDA.resources/inter-cont-cont-cat-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img src="_resources/EDA.resources/inter-cont-cont-cat-1.png" class="img-fluid" width="632"></a></p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>plot_manufacturer <span class="ot">&lt;-</span> <span class="cf">function</span>(group) {</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">## check if input is valid</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>group <span class="sc">%in%</span> mpg<span class="sc">$</span>manufacturer) <span class="fu">stop</span>(<span class="st">"Manufacturer not listed in the data set."</span>)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> displ)) <span class="sc">+</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>    <span class="do">## filter for manufacturer of interest</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">filter</span>(mpg, manufacturer <span class="sc">%in%</span> group), </span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"#007cb1"</span>, <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>    <span class="do">## add shaded points for other data</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">filter</span>(mpg, <span class="sc">!</span>manufacturer <span class="sc">%in%</span> group), </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"grey45"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">8</span><span class="sc">*</span><span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>    <span class="do">## add title automatically based on subset choice</span></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Highway gallons"</span>, <span class="at">y =</span> <span class="st">"Displacement"</span>, </span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> group, <span class="at">color =</span> <span class="cn">NULL</span>)</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">unique</span>(mpg<span class="sc">$</span>manufacturer)</span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(groups, <span class="sc">~</span><span class="fu">plot_manufacturer</span>(<span class="at">group =</span> .x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>The grouping variable is the facet variable but also highlights the dots with color</p></li>
<li><p>Highlighting plus using all the data in each chart helps add context with the other groups when you want to compare groups but in a low data situation.</p></li>
</ul></li>
<li><p>Continuous vs Continuous by Ordinal</p>
<p><img src="_resources/EDA.resources/scatter-ordinal-trend-1.png" class="img-fluid"></p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>plot_scatter_lm <span class="ot">&lt;-</span> <span class="cf">function</span>(data, var1, var2, <span class="at">pointsize =</span> <span class="dv">2</span>, <span class="at">transparency =</span> .<span class="dv">5</span>, <span class="at">color =</span> <span class="st">""</span>) {</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">## check if inputs are valid</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.data.frame</span>(data)) <span class="fu">stop</span>(<span class="st">"data needs to be a data frame."</span>)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(<span class="fu">pull</span>(data[var1]))) <span class="fu">stop</span>(<span class="st">"Column var1 needs to be of type numeric, passed as string."</span>)</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(<span class="fu">pull</span>(data[var2]))) <span class="fu">stop</span>(<span class="st">"Column var2 needs to be of type numeric, passed as string."</span>)</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(pointsize)) <span class="fu">stop</span>(<span class="st">"pointsize needs to be of type numeric."</span>)</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(transparency)) <span class="fu">stop</span>(<span class="st">"transparency needs to be of type numeric."</span>)</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (color <span class="sc">!=</span> <span class="st">""</span>) { <span class="cf">if</span> (<span class="sc">!</span>color <span class="sc">%in%</span> <span class="fu">names</span>(data)) <span class="fu">stop</span>(<span class="st">"Column color needs to be a column of data, passed as string."</span>) }</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  g <span class="ot">&lt;-</span> </span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">!!</span><span class="fu">sym</span>(var1), <span class="at">y =</span> <span class="sc">!!</span><span class="fu">sym</span>(var2))) <span class="sc">+</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="sc">!!</span><span class="fu">sym</span>(color)), <span class="at">size =</span> pointsize, <span class="at">alpha =</span> transparency) <span class="sc">+</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="sc">!!</span><span class="fu">sym</span>(color), <span class="at">color =</span> <span class="fu">after_scale</span>(prismatic<span class="sc">::</span><span class="fu">clr_darken</span>(color, .<span class="dv">3</span>))), </span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Roboto Condensed"</span>, <span class="at">base_size =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (color <span class="sc">!=</span> <span class="st">""</span>) { </span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.numeric</span>(<span class="fu">pull</span>(data[color]))) {</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>      g <span class="ot">&lt;-</span> g <span class="sc">+</span> <span class="fu">scale_color_viridis_c</span>(<span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">end =</span> .<span class="dv">85</span>) <span class="sc">+</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_colorbar</span>(</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>          <span class="at">barwidth =</span> <span class="fu">unit</span>(<span class="dv">12</span>, <span class="st">"lines"</span>), <span class="at">barheight =</span> <span class="fu">unit</span>(.<span class="dv">6</span>, <span class="st">"lines"</span>), <span class="at">title.position =</span> <span class="st">"top"</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>      g <span class="ot">&lt;-</span> g <span class="sc">+</span> <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>)</span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(g)</span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a><span class="fu">map2</span>(</span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"displ"</span>, <span class="st">"displ"</span>, <span class="st">"hwy"</span>), </span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"hwy"</span>, <span class="st">"cty"</span>, <span class="st">"cty"</span>),</span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span><span class="fu">plot_scatter_lm</span>(</span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mpg, <span class="at">var1 =</span> .x, <span class="at">var2 =</span> .y, </span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"cyl"</span>, <span class="at">pointsize =</span> <span class="fl">3.5</span></span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>A continuous color scale is used for the ordinal variable</p></li>
<li><p>Trend shows relationship follows the ordinal variable values for the most part which might indicate that this interaction would be predictive</p>
<ul>
<li>Interesting values might be at dots where the colors are swapped â€” defying the order of the ordinal variable</li>
</ul></li>
</ul></li>
<li><p>Continuous vs Continuous by Categorical by Categorical</p>
<p><a href="_resources/EDA.resources/inter-cont-cont-cat-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-50"><img src="_resources/EDA.resources/inter-cont-cont-cat-2.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>plot_manufacturer_marginal <span class="ot">&lt;-</span> <span class="cf">function</span>(group, <span class="at">save =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">## check if input is valid</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>group <span class="sc">%in%</span> mpg<span class="sc">$</span>manufacturer) <span class="fu">stop</span>(<span class="st">"Manufacturer not listed in the data set."</span>)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.logical</span>(save)) <span class="fu">stop</span>(<span class="st">"save should be either TRUE or FALSE."</span>)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## filter data</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> <span class="fu">filter</span>(mpg, manufacturer <span class="sc">%in%</span> group)</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>  <span class="do">## set limits</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>  lims_x <span class="ot">&lt;-</span> <span class="fu">range</span>(mpg<span class="sc">$</span>hwy) </span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>  lims_y <span class="ot">&lt;-</span> <span class="fu">range</span>(mpg<span class="sc">$</span>displ)</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>  <span class="do">## define colors</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>  pal <span class="ot">&lt;-</span> RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="fu">n_distinct</span>(mpg<span class="sc">$</span>class), <span class="at">name =</span> <span class="st">"Dark2"</span>)</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(pal) <span class="ot">&lt;-</span> <span class="fu">unique</span>(mpg<span class="sc">$</span>class)</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>  <span class="do">## scatter plot</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>  main <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> displ, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> lims_x, <span class="at">breaks =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">8</span><span class="sc">*</span><span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> lims_y) <span class="sc">+</span></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> pal, <span class="at">name =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Highway miles per gallon"</span>, <span class="at">y =</span> <span class="st">"Displacement"</span>) <span class="sc">+</span></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>  <span class="do">## boxplots</span></span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>  right <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> manufacturer, <span class="at">y =</span> displ)) <span class="sc">+</span></span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">linewidth =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"grey45"</span>) <span class="sc">+</span></span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> lims_y, <span class="at">guide =</span> <span class="st">"none"</span>, <span class="at">name =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="st">"none"</span>, <span class="at">name =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>()</span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a>  top <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> hwy, <span class="at">y =</span> manufacturer)) <span class="sc">+</span></span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">linewidth =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"grey45"</span>) <span class="sc">+</span></span>
<span id="cb60-36"><a href="#cb60-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> lims_x, <span class="at">guide =</span> <span class="st">"none"</span>, <span class="at">name =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb60-37"><a href="#cb60-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_discrete</span>(<span class="at">guide =</span> <span class="st">"none"</span>, <span class="at">name =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb60-38"><a href="#cb60-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>()</span>
<span id="cb60-39"><a href="#cb60-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-40"><a href="#cb60-40" aria-hidden="true" tabindex="-1"></a>  <span class="do">## combine plots</span></span>
<span id="cb60-41"><a href="#cb60-41" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> top <span class="sc">+</span> <span class="fu">plot_spacer</span>() <span class="sc">+</span> main <span class="sc">+</span> right <span class="sc">+</span> </span>
<span id="cb60-42"><a href="#cb60-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_annotation</span>(<span class="at">title =</span> group) <span class="sc">+</span> </span>
<span id="cb60-43"><a href="#cb60-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_layout</span>(<span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, .<span class="dv">05</span>), <span class="at">heights =</span> <span class="fu">c</span>(.<span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb60-44"><a href="#cb60-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-45"><a href="#cb60-45" aria-hidden="true" tabindex="-1"></a>  <span class="do">## save multi-panel plot</span></span>
<span id="cb60-46"><a href="#cb60-46" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">isTRUE</span>(save)) {</span>
<span id="cb60-47"><a href="#cb60-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggsave</span>(p, <span class="at">filename =</span> <span class="fu">paste0</span>(group, <span class="st">".pdf"</span>), </span>
<span id="cb60-48"><a href="#cb60-48" aria-hidden="true" tabindex="-1"></a>           <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">device =</span> cairo_pdf)</span>
<span id="cb60-49"><a href="#cb60-49" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb60-50"><a href="#cb60-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-51"><a href="#cb60-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)</span>
<span id="cb60-52"><a href="#cb60-52" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb60-53"><a href="#cb60-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-54"><a href="#cb60-54" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_manufacturer_marginal</span>(<span class="st">"Dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span style="color: #990000">{ggside}</span> should be able to add these marginal plots with fewer lines of code.</li>
<li>This is one of a set of facetted charts by the categorical, â€œmanufacturerâ€</li>
<li>Dots are grouped by categorical, â€œclassâ€</li>
<li>Top boxplot shows a minivan as an outlier in terms of hwy mpg.</li>
<li>Box plots and the scatter plot are combined using {patchwork}</li>
</ul></li>
<li><p><u>Correlation Heatmaps</u></p>
<ul>
<li>Filter data by different levels of a categorical, then note how correlations between numeric predictors and the numeric outcome change</li>
<li>Example: PM 2.5 pollution (outcome) vs complete dataset and filtered for Wind Direction = NE
<ul>
<li>Complete<br>
<a href="./_resources/EDA.resources/1-AdMrKIjcDnVHl3PXLfmVWg.png" class="lightbox" data-gallery="quarto-lightbox-gallery-51"><img src="./_resources/EDA.resources/1-AdMrKIjcDnVHl3PXLfmVWg.png" class="img-fluid" width="432"></a></li>
<li>Wind Direction = NE<br>
<a href="./_resources/EDA.resources/1-qk97V3pj37kpo1-NyF3cEA.png" class="lightbox" data-gallery="quarto-lightbox-gallery-52"><img src="./_resources/EDA.resources/1-qk97V3pj37kpo1-NyF3cEA.png" class="img-fluid" width="432"></a></li>
<li>Interpretation
<ul>
<li>Temperatureâ€™s correlation (potentially its predictive strength) would <em>lessen</em> if would be interacted with Wind Direction. So we do <strong>NOT</strong> want to interact wind direction and temperature
<ul>
<li>Article didnâ€™t show whether it increases with other directions</li>
</ul></li>
<li>Wind Strengthâ€™s (cws) correlation with the outcome would <em>increase</em> if interacted with Wind Direction. So we do want to interacted wind direction and wind strength
<ul>
<li>For ML, I think youâ€™d dummy the wind direction, then multiply windspeed times each of the dummies.</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Boxplot by Discrete (Binned) Continuous</u></p>
<ul>
<li><code>pmin</code> can be similarily used as fct_lump (see below) but for discrete integer variables
<ul>
<li><p>If the distribution of the discrete numeric is skewed to the right, then pmin will bin all integers larger than some number</p>
<ul>
<li>Most of the distribution are small integers and the rest will be binned into a sort of â€œotherâ€ category (e.g.&nbsp;14)</li>
</ul></li>
<li><p>If the distribution is skewed to the left, <code>pmax</code> can be used similarily.<br>
<a href="./_resources/EDA.resources/Screenshot (332).png" class="lightbox" data-gallery="quarto-lightbox-gallery-53"><img src="./_resources/EDA.resources/Screenshot (332).png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;<span class="fu">mutate</span>(<span class="at">integer_var =</span> <span class="fu">pmin</span>(integer_var, <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;<span class="fu">ggplot</span>(<span class="fu">aes</span>(int_var, numeric_outcome, <span class="at">group =</span> int_var)) <span class="sc">+</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;<span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>If all the medians line up then no relationship. A slope or nonlinear pattern shows relationship.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-eda-gen-inter-cat" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-eda-gen-inter-cat">Categorical Outcome</h3>
<ul>
<li><p><u>Numeric vs Numeric by Cat Outcome</u></p>
<ul>
<li><p><strong>Scatter</strong> with 45 degree line</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(num_predictor1, num_predictor2, <span class="at">color =</span> cat_outcome_var)) <span class="sc">+</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;<span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;<span class="fu">geom_abline</span>(<span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Look for groupings or other patterns wrt to cat var.</li>
<li>Cat-var colored points above line skew more towards the higher y-var than x-var and vice versa for below the 45 degree line.</li>
<li>Line also shows how linearly correlated the two num vars are.</li>
<li>If clustering present, could indicate a good interaction pair with the numeric : cat_var</li>
</ul></li>
<li><p><strong>Scatter</strong> with linear smooth (or loess)<br>
<a href="./_resources/EDA.resources/Screenshot (351).png" class="lightbox" data-gallery="quarto-lightbox-gallery-54"><img src="./_resources/EDA.resources/Screenshot (351).png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(num_predictor1, num_predictor2)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;<span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;<span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> cat_outcome_var), <span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Produces a lm line for each outcome var category</li>
<li>Looking for differing trends for ranges of values on the x-axis. A pattern for one line that is substantially different from the other line</li>
<li>Example: At around 28, the blue line trend rises while the red line continues to slope downwards, and they actually cross to where at some threshold of x, the relationship is the opposite. So an interaction is likely present</li>
</ul></li>
</ul></li>
<li><p><u>Binary Outcome (pct_event) vs Discrete by Discrete</u> (or binary in this case)<br>
<a href="./_resources/EDA.resources/Screenshot (354).png" class="lightbox" data-gallery="quarto-lightbox-gallery-55"><img src="./_resources/EDA.resources/Screenshot (354).png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">avg_trans_amt =</span> total_trans_amt <span class="sc">/</span> total_trans_ct) <span class="sc">%?%</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">group_by</span>(<span class="at">total_trans_ct =</span> <span class="fu">cut</span>(total_trans_ct, <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">80</span>, <span class="cn">Inf</span>)),</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">avg_trans_amt =</span> <span class="fu">ifelse</span>(avg_trans_amt <span class="sc">&gt;=</span> <span class="dv">50</span>, <span class="st">"&gt; $50"</span>, <span class="st">"&lt; $50"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># use to figure out best cut point(s) that keeps the ribbon width small-ish on all lines</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># avg_trans_amt = cut(avg_trans_amt, c(0, 50, 100, 130, Inf)) %&gt;%&nbsp; &nbsp;</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">n_churned =</span> <span class="fu">sum</span>(churned <span class="sc">==</span> <span class="st">"yes"</span>),</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">pct_churned =</span> n_churned<span class="sc">/</span>n,</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">low =</span> <span class="fu">qbeta</span>(.<span class="dv">025</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>),&nbsp;</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">high =</span> <span class="fu">qbeta</span>(.<span class="dv">975</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(total_trans_ct, pct_churned, <span class="at">color =</span> avg_trans_amt) <span class="sc">+</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> low, <span class="at">ymax =</span> high))&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Interpretation:
<ul>
<li>Clear alternating trend from about 0 to 40 on the x-axis says thereâ€™s probably an interaction (at least with the binned versions of these variables) between total_trans_ct and avg_trans_amt.
<ul>
<li>i.e.&nbsp;The relationship between transaction count and churned (binary outcome) (pct_churned) depends on the average transaction amount</li>
</ul></li>
</ul></li>
<li>Example: The cut points for avg_trans_amt were chosen from its distribution
<ul>
<li>The distribution was bi-modal and the 3 cutpoints were the 1st mode, point that splits both modal distributions, and the 2nd mode.</li>
<li><span style="color: #990000">{Upsetr}</span> might be useful to examine bimodal structure and determine cutpoints based on categorical predictor values and not just outcome values</li>
<li><span style="color: #990000">{gghdr}</span> - viz for multi-modal distribtutions</li>
<li>Also see <a href="regression-other.html#sec-reg-other-multmod" style="color: green">Regression, Other &gt;&gt; Mult-Modal</a></li>
</ul></li>
<li>Example of likely no interaction<br>
<a href="./_resources/EDA.resources/Screenshot (358).png" class="lightbox" data-gallery="quarto-lightbox-gallery-56"><img src="./_resources/EDA.resources/Screenshot (358).png" class="img-fluid" width="432"></a>
<ul>
<li>Blue and red lines move in unison. Same trend directions.
<ul>
<li>There is separation, so the mean value of percent churn is different. Also, the slopes are different, so the rates of increase and decrease would be different. Iâ€™m not convinced. Iâ€™d like to see if an interaction term wouldnâ€™t be significant</li>
<li>kaggle sliced s01e07 dataset - percent churn (y-axis), revolving balance bucketed (x-axis), color = total_transactions dicotomized. <a href="https://www.youtube.com/watch?v=oCGmh3NIJ7I">DRob video</a> for the code.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Binary Outcome (pct_event) vs Categorical by Categorical</u></p>
<ul>
<li><p>Sliding Window Continuous vs Binary Outcome (Proportion of Event) by Categorical<br>
<a href="./_resources/EDA.resources/image.5.png" class="lightbox" data-gallery="quarto-lightbox-gallery-57"><img src="./_resources/EDA.resources/image.5.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(z, <span class="fu">aes</span>(<span class="at">x=</span>price, <span class="at">y=</span><span class="st">`</span><span class="at">Moving Proportion</span><span class="st">`</span>, <span class="at">col=</span><span class="fu">factor</span>(class))) <span class="sc">+</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">guides</span>(<span class="at">color=</span><span class="fu">guide_legend</span>(<span class="at">title=</span><span class="st">'Class'</span>)) <span class="sc">+</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">xlab</span>(<span class="fu">hlab</span>(price)) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">'Survival'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>â€œMoving Proportionâ€ is the mean of the binary outcome (probability of an event) over a sliding window of â€œTotal Priceâ€</li>
<li>â€œTotal Priceâ€ should be sorted in ascending order and grouped by â€œClassâ€ before the sliding window is applied</li>
<li>Harrell uses a default window of 15 observations on either side of the target point, but says the results can be noisy. Recommends passing the results through a smoother
<ul>
<li>So, might want to add a <code>geom_smooth</code> to the code chunk</li>
<li>I might like to see the data points to see how many points at the ends of lines there are. Smoothed lines can be misleading on the boundaries.</li>
</ul></li>
</ul></li>
<li><p>Sliding Window Continuous vs Binary Outcome (Proportion of Event) by 2 Categoricals<br>
<a href="./_resources/EDA.resources/image.6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-58"><img src="./_resources/EDA.resources/image.6.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y=</span><span class="st">`</span><span class="at">Moving Proportion</span><span class="st">`</span>, <span class="at">col=</span><span class="fu">factor</span>(class))) <span class="sc">+</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">facet_wrap</span>(<span class="sc">~</span> sex) <span class="sc">+</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">xlab</span>(<span class="fu">hlab</span>(age)) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">'Survival'</span>) <span class="sc">+</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">guides</span>(<span class="at">color=</span><span class="fu">guide_legend</span>(<span class="at">title=</span><span class="st">'Class'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Similar to above but grouped by 2 variables before the sliding window calculation.</li>
</ul></li>
<li><p>Grouped Bar<br>
<a href="./_resources/EDA.resources/Screenshot (345).png" class="lightbox" data-gallery="quarto-lightbox-gallery-59"><img src="./_resources/EDA.resources/Screenshot (345).png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>summarize_churn <span class="ot">&lt;-</span> <span class="cf">function</span>(tbl) {</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; tbl <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">n_churned =</span> <span class="fu">sum</span>(churned <span class="sc">==</span> <span class="st">"yes"</span>),</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">pct_churned =</span> n_churned<span class="sc">/</span>n,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co"># Jeffrey's Interval (Bayesian CI)</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">low =</span> <span class="fu">qbeta</span>(.<span class="dv">025</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>),&nbsp;</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">high =</span> <span class="fu">qbeta</span>(.<span class="dv">975</span>, n_churned <span class="sc">+</span> .<span class="dv">5</span>, n <span class="sc">-</span> n_churned <span class="sc">+</span> .<span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>plot_categorical <span class="ot">&lt;-</span> <span class="cf">function</span>(tbl, categorical, ...) {</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; tbl <span class="sc">%&gt;%</span>&nbsp; &nbsp; &nbsp; &nbsp;</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">ggplot</span>(<span class="fu">aes</span>(pct_churned, [{{categorical}}]{style<span class="ot">=</span><span class="st">'color: goldenrod'</span>}), ...) <span class="sc">+</span>&nbsp;</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span>&nbsp;</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> low, <span class="at">xmax =</span> high),</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">color =</span> red,</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> percent) <span class="sc">+</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"% in category that churned"</span>)</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">group_by</span>(cat_var1, cat_var2) <span class="sc">%&gt;%</span></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">summarize_churn</span>() <span class="sc">%&gt;%</span></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">plot_categorical</span>(cat_var1, <span class="at">fill =</span> cat_var2, <span class="at">group =</span> cat_var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Interpretation: Probably not an interaction variable. Pct Churned by education Level doesnâ€™t vary (much) by&nbsp; Gender especially if you take the error bars into account
<ul>
<li>Only for â€œcollegeâ€ do you see a flip in the relationship where females churn more than men, but itâ€™s still within the error bars.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Binary Outcome vs Binary by Categorical</u><br>
<a href="./_resources/EDA.resources/Screenshot (505).png" class="lightbox" data-gallery="quarto-lightbox-gallery-60"><img src="./_resources/EDA.resources/Screenshot (505).png" class="img-fluid" width="432"></a></p>
<ul>
<li>Not certain but Iâ€™d think youâ€™d want your outcome on the x-axis. Although, if you swapped the x-axis variable with the grouping variable, youâ€™d probably come to the same conclusion. Therefore, it may not matter that much</li>
<li>Shows percent, and not counts</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/eda-geospatial.html" class="pagination-link" aria-label="Geospatial">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Geospatial</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/eda-multilevel-longitudinal.html" class="pagination-link" aria-label="Multilevel, Longitudinal">
        <span class="nav-page-text">Multilevel, Longitudinal</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../LICENSE.html">
<p>Creative Commons Attribution-NonCommercial 4.0 International License</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>