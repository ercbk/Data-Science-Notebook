<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Science - Discrete Choice Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/econometrics-fixed-effects.html" rel="next">
<link href="../qmd/docker-misc.html" rel="prev">
<link href="../images/ds-favicon-32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/econometrics-discrete-choice-models.html">Econometrics</a></li><li class="breadcrumb-item"><a href="../qmd/econometrics-discrete-choice-models.html">Discrete Choice Models</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://ericbook.netlify.app/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-fill"></i></a>
    <a href="https://github.com/ercbk/Data-Science-Notebook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Algorithms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-learn-to-rank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learn-to-Rank</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-marketing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Marketing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Algorithms, Product</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-recommendation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommendation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anomaly Detection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Apache</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spark</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">APIs</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Association</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-copulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Copulas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/base-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-priors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Priors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-troubleshooting-hmc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting HMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/big-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Big Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/business-plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Business Plots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/causal-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-windows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Windows</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cloud-services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Services</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/confidence-and-prediction-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confidence &amp; Prediction Intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cross-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Validation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
 <span class="menu-text">CSS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recipes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/data.table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-dbt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DuckDB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-feature-stores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Stores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-lakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lakes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-normalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-nosql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NoSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-postgres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Postgres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-relational.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-warehouses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Warehouses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/decision-intelligence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Decision Intelligence</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
 <span class="menu-text">Diagnostics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-model-agnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Agnostic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-probabilistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">
 <span class="menu-text">Deep Learning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-audio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">DL, Audio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">General</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">DL, Graph</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Image</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tabular</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">DL, Training</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">
 <span class="menu-text">Docker</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Docker, Fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="true">
 <span class="menu-text">Econometrics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-discrete-choice-models.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Discrete Choice Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-fixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-psa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity Score Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-multilevel-longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel, Longitudinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false">
 <span class="menu-text">Experiments</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-a_b-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-rct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RCT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-stepped-wedge-cluster-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Experiments, Stepped Wedge Cluster Design</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/extreme-value-theory-(evt).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Extreme Value Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false">
 <span class="menu-text">Feature Engineering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embeddings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-splines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Splines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-tokenization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tokenization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false">
 <span class="menu-text">Feature Reduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Feature Selection</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false">
 <span class="menu-text">Forecasting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-hierarchical_grouped.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical/Grouped</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonlinear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-statistical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/generalized-additive-models-(gam).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalized Additive Models</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false">
 <span class="menu-text">Geospatial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-remote-sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Remote Sensing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preprocessing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false">
 <span class="menu-text">Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-github-actions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Github Actions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/glossary-ds-terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary: DS terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gnu-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GNU Make</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false">
 <span class="menu-text">Google</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Google, Analytics, Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Google, Analytics, Reports</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-bigquery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BigQuery</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gtable-package.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gtable</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HTML</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/information-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/inkscape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inkscape</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false">
 <span class="menu-text">Job</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-management-leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management / Leadership</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-on-the-job.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On the job</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-organizational-and-team-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizational and Team Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JSON</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/kubernetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kubernetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LaTeX</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false">
 <span class="menu-text">LLMs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-agent-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent Chains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-fine-tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine Tuning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-prompt-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prompt Engineering</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/loss-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Loss Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="false">
 <span class="menu-text">Mathematics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-linear-algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/missingness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missingness</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="false">
 <span class="menu-text">Mixed Effects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-bmlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BMLR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-glmm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLMM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-residual-covar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Residual Covariance Structures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MLOps</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false">
 <span class="menu-text">Model Building</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-brms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">brms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-h2o-automl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2O AutoML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-modeltime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeltime</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-rstanarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sklearn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="false">
 <span class="menu-text">Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-knowledge-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false">
 <span class="menu-text">NLP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-sentiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentiment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-summarization-extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarization and Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-topic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-transformers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Transformers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/optimization-equation-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Package Development</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false">
 <span class="menu-text">Post-Hoc Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-ab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-emmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">emmeans</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Privacy</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false">
 <span class="menu-text">Production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-ml-monitoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">ML Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-analyses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="false">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas, Recipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-reticulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reticulate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/quarto-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regex</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false">
 <span class="menu-text">Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-discrete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-interactions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multinomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-ordinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-regularized.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regularized</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Renv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scraping</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false">
 <span class="menu-text">Shiny</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-hosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hosting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mobile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI Examples</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/simulation-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation, Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreadsheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/stochastic-processes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Stochastic Processes</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false">
 <span class="menu-text">Surveys</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-census-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Census Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-sampling-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Tidyeval</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuning</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-diagrams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagrams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/vs-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VS Code</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" aria-expanded="false">
 <span class="menu-text">Web</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-servers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Server</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-econ-dcm-misc" id="toc-sec-econ-dcm-misc" class="nav-link active" data-scroll-target="#sec-econ-dcm-misc">Misc</a></li>
  <li><a href="#sec-econ-dcm-terms" id="toc-sec-econ-dcm-terms" class="nav-link" data-scroll-target="#sec-econ-dcm-terms">Terms</a></li>
  <li><a href="#sec-econ-dcm-randutmod" id="toc-sec-econ-dcm-randutmod" class="nav-link" data-scroll-target="#sec-econ-dcm-randutmod">Random Utility Models</a></li>
  <li><a href="#sec-econ-dcm-binlog" id="toc-sec-econ-dcm-binlog" class="nav-link" data-scroll-target="#sec-econ-dcm-binlog">Binary Logit</a></li>
  <li><a href="#sec-econ-dcm-mnl" id="toc-sec-econ-dcm-mnl" class="nav-link" data-scroll-target="#sec-econ-dcm-mnl">Multinomial Logit (MNL)</a></li>
  <li><a href="#sec-econ-dcm-nestlog" id="toc-sec-econ-dcm-nestlog" class="nav-link" data-scroll-target="#sec-econ-dcm-nestlog">Nested Logit</a></li>
  <li><a href="#sec-econ-dcm-mixlog" id="toc-sec-econ-dcm-mixlog" class="nav-link" data-scroll-target="#sec-econ-dcm-mixlog">Mixed Logit</a></li>
  <li><a href="#sec-reg-multin-ddcm" id="toc-sec-reg-multin-ddcm" class="nav-link" data-scroll-target="#sec-reg-multin-ddcm">Dynamic Discrete Choice Models</a></li>
  <li><a href="#sec-econ-dcm-endo" id="toc-sec-econ-dcm-endo" class="nav-link" data-scroll-target="#sec-econ-dcm-endo">Endogeneity</a>
  <ul>
  <li><a href="#sec-econ-dcm-endo-blp" id="toc-sec-econ-dcm-endo-blp" class="nav-link" data-scroll-target="#sec-econ-dcm-endo-blp">BLP (Berry-Levinsoln-Pakes)</a></li>
  <li><a href="#sec-econ-dcm-cfunc" id="toc-sec-econ-dcm-cfunc" class="nav-link" data-scroll-target="#sec-econ-dcm-cfunc">Control Function</a></li>
  </ul></li>
  <li><a href="#multinomial-probit" id="toc-multinomial-probit" class="nav-link" data-scroll-target="#multinomial-probit">Multinomial Probit</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/econometrics-discrete-choice-models.html">Econometrics</a></li><li class="breadcrumb-item"><a href="../qmd/econometrics-discrete-choice-models.html">Discrete Choice Models</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-econ-dcm" class="quarto-section-identifier">Discrete Choice Models</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-econ-dcm-misc" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-misc">Misc</h2>
<ul>
<li>AKA Random Utility or Choice Models</li>
<li>tl;dr:
<ul>
<li>The Utility equation is the model equation.
<ul>
<li><em>Utility</em> (<span class="math inline">\(U\)</span>) is made up of <em>Observed Utility</em> (<span class="math inline">\(V\)</span>) and <em>Unobserved Utility</em> (<span class="math inline">\(\epsilon\)</span>).</li>
<li>(Total) Utility is the LHS of the model equation</li>
<li>Logit models are typically used to estimate utility as predicted logits.
<ul>
<li>The predicted probabilities are called <em>Choice Probabilities</em></li>
<li>If the data is aggregated to the <em>Market Level</em> instead of the individual level, then the predicted logits are now called <em>Market Shares</em>.</li>
</ul></li>
<li>Observed Utility is modeled using our data, and Unobserved Utility is the residual of that model.</li>
<li>The coefficients (<span class="math inline">\(\beta\)</span>s) (log odds ratios) of the model are called <em>Marginal Utilities</em>.</li>
</ul></li>
<li>The observed response is typically polytomous and the categories are called <em>Alternatives</em> which are the potential choices of the <em>Decision Maker</em>.</li>
</ul></li>
<li>Notes from <a href="https://www.youtube.com/@ResEcon703UMassAmherst/playlists">ResEcon 703 Video Course</a>
<ul>
<li>Weeks 3, 4, 9, 10, 12, and 13</li>
<li>Video lectures talk through mathematics (interpretations, motivations, benefits, limitations, etc.) of the approaches. Each week ends with a coding session illustrating the approaches thats not included in the videos but is included in the slides.
<ul>
<li>The slides are updated with new material while the videos have not.</li>
</ul></li>
<li><a href="https://github.com/woerman/ResEcon703">github</a> with slides and problem sets/solutions with R code. Slides provide a deeper introduction to the application the algorithms and the econometrics. Problem set solutions have similar material but written out more clearly. {mlogit} used throughout.</li>
</ul></li>
<li>Also see:
<ul>
<li><a href="../qmd/decision-intelligence.html#sec-decint" style="color: green">Decision Intelligence</a></li>
<li><a href="../qmd/regression-multinomial.html#sec-reg-multin" style="color: green">Regression, Multinomial</a></li>
<li><a href="../qmd/diagnostics-classification.html#sec-diag-class-multinom" style="color: green">Diagnostics, Classification &gt;&gt; Multinomial</a></li>
<li><a href="../qmd/classification.html#sec-class-discrim" style="color: green">Classification &gt;&gt; Discriminant Analysis</a> &gt;&gt; Linear Discriminant Analysis (LDA)</li>
<li><a href="../qmd/model-building-brms.html#sec-modbld-brms-logreg" style="color: green">Model Building, brms &gt;&gt; Logistic Regression</a></li>
</ul></li>
<li>Use Cases:
<ul>
<li>Respondents to a social survey are classified by their highest completed level of education, taking on the values (1) less than highschool, (2) highschool graduate, (3) some post-secondary, or (4) post-secondary degree.</li>
<li>Womens labor-force participation is classified as (1) not working outside the home, (2) working part-time, or (3) working full-time.</li>
<li>Voters in Quebec in a Canadian national election choose one of the (1) Liberal Party, (2) Conservative Party, (3) New Democratic Party, or (4) Bloc Quebecois.</li>
</ul></li>
</ul>
</section>
<section id="sec-econ-dcm-terms" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-terms">Terms</h2>
<ul>
<li><span style="color: #009499"><strong>Alternative</strong></span> - The levels of a polytomous response in Random Utility Models.</li>
<li><span style="color: #009499"><strong>Choice Probability</strong></span> - The probability that a decision-maker will chose a particular alternative. The predicted response for a Random Utility Model.</li>
<li><span style="color: #009499"><strong>Choice Settings</strong></span> - Can describe in general the choice set itself, or can also be used to describe the context in which the choice by the decision-maker is taking place.
<ul>
<li>e.g.&nbsp;binary, ordered multinomial, unordered multinomial, and count data frameworks</li>
<li>e.g.&nbsp;educational setting, marketing setting</li>
<li>e.g.&nbsp;costs associated with each alternative for each individual</li>
</ul></li>
<li><span style="color: #009499"><strong>Consumer Surplus</strong></span> - Monetary gain to a consumer from purchasing a good for less than the value the consumer places on the good</li>
<li><span style="color: #009499"><strong>Cost Trade-Offs</strong></span> - How changes in one in a choice attribute can be offset by another.
<ul>
<li>e.g.&nbsp;If the operating cost were to increase by $1, what reduction the purchase price would result in the same utility/choice probability for the consumer.</li>
</ul></li>
<li><span style="color: #009499"><strong>Discounted Utility</strong></span> - The utility of some future event, such as consuming a certain amount of a good, as perceived at the present time as opposed to at the time of its occurrence. It is calculated as the present discounted value of future utility, and <u>for people with time preference for sooner rather than later gratification, it is less than the future utility.</u></li>
<li><span style="color: #009499"><strong>Marginal Utility</strong></span> - Coefficients in the logit model (log odds ratios). The added satisfaction that a consumer gets from having one more unit of a good or service. The concept of marginal utility is used by economists to determine how much of an item consumers are willing to purchase.</li>
<li><span style="color: #009499"><strong>Market Level</strong></span> - Environment or category where a class or brand of products share the same attributes
<ul>
<li>e.g.&nbsp;All Cokes should cost the same in Indianapolis but that price may be different from the price of Cokes in Nashville. Therefore, Indianapolis and Nashville are separate markets.</li>
</ul></li>
<li><span style="color: #009499"><strong>Market Share</strong></span> - The percentage of total sales in an industry or product category that belong to a particular company during a discrete period of time. For a Random Utility Model, when the data is at the market level instead of the individual level, the predicted response is the Market Share.</li>
<li><span style="color: #009499"><strong>Outside Product</strong></span> (aka <span style="color: #009499"><strong>Outside Option</strong></span>) - Typically a purchase nothing indicator variable/variable category
<ul>
<li>Can just be a vector of 0s</li>
</ul></li>
<li><span style="color: #009499"><strong>Random Utility Models</strong></span> - These models rely on the hypothesis that the decision maker is able to rank the different alternatives by an order of preference represented by a utility function, the chosen alternative being the one which is associated with the highest level of utility. They are called random utility models because part of the utility is unobserved and is modeled as the realization of a random deviate.</li>
</ul>
</section>
<section id="sec-econ-dcm-randutmod" class="level2">
<h2 class="anchored" data-anchor-id="sec-econ-dcm-randutmod">Random Utility Models</h2>
<ul>
<li><p>Misc</p></li>
<li><p><span style="color: #009499"><strong>Random Utility</strong></span> - utility theory can readily be understood as the idea that people behave in line with self-interset where self-interest reflects peoples needs to save time and economize on effort.</p>
<ul>
<li>These models rely on the hypothesis that the decision maker is able to rank the different alternatives by an order of preference represented by a utility function, the chosen alternative being the one which is associated with the highest level of utility. They are called random utility models because part of the utility is unobserved and is modeled as the realization of a random deviate.</li>
</ul></li>
<li><p>Data sets used to estimate random utility models have therefore a specific structure that can be characterized by three indexes: the alternative, the choice situation, and the individual. The distinction between choice situation and individual indexes is only relevant if we have repeated observations for the same individual.</p>
<ul>
<li>Examples of variable types
<ul>
<li>Data Descriptions
<ul>
<li>Each individual has responded to several (up to 16) scenarios.</li>
<li>For every scenario, two train tickets A and B are proposed to the user, with different combinations of four attributes: price (the price in cents of guilders), time (travel time in minutes), change (the number of changes) and comfort (the class of comfort, 0, 1 or 2, 0 being the most comfortable class).</li>
</ul></li>
<li>Choice Situation Specific
<ul>
<li>data1: Length of the vacation and the Season</li>
<li>data2: values of dist, income and urban are repeated four times.
<ul>
<li>dist (the distance of the trip)</li>
<li>income (household income)</li>
<li>urban (a dummy for trips which have a large city at the origin or the destination)</li>
<li>noalt the number of available alternatives</li>
</ul></li>
</ul></li>
<li>Individual Specific
<ul>
<li>data1: Income and Family Size</li>
<li>data2: None</li>
</ul></li>
<li>Alternative Specific
<ul>
<li>data1: Distance to Destination and Cost</li>
<li>data2:
<ul>
<li>transport modes (air, train, bus and car)</li>
<li>cost for monetary cost</li>
<li>ivt for in vehicle time</li>
<li>ovt for out of vehicle time</li>
<li>freq for frequency</li>
</ul></li>
</ul></li>
</ul></li>
<li>The unit of observation is typically the choice situation, and it is also the individual if there is only one choice situation per individual observed, which is often the case</li>
</ul></li>
<li><p>Agent/Decison-Maker gets some amount of utility from each of the alternatives (set of actions the user can choose from)</p></li>
<li><p>The amount of utility for each alternative and each decision maker can depend on:</p>
<ul>
<li>observed characteristics of the alternative themselves</li>
<li>observed characteristics of the decision maker</li>
<li>unobserved characteristics</li>
</ul></li>
<li><p>Utility is <em>not</em> observed but can be inferred by factors that are observed (and how each factor affects Utility):</p>
<ul>
<li>Chosen alternative, i, by each decision maker, n</li>
<li>Some attributes about each alternative</li>
<li>Some attributes about each decision maker.</li>
</ul></li>
<li><p><u>Total Utility</u>: <span class="math inline">\(U_{nj} = V_{nj} + \epsilon_{nj}\)</span></p>
<ul>
<li>Where <strong>Representative (or Observed) Utility</strong>, <span class="math inline">\(V_{nj} = V(x_{nj}, s_n)\)</span>
<ul>
<li><span class="math inline">\(x_{nj}\)</span> is the vector of attributes for alternative j specific to decison maker n</li>
<li><span class="math inline">\(s_n\)</span> is the vector of attributes for decision maker n\</li>
</ul></li>
<li><span class="math inline">\(\epsilon_{nj}\)</span> is called the <strong>Random Utility</strong> which is unobserved (i.e.&nbsp;the stuff we didnt adjust for).</li>
</ul></li>
<li><p><u>Utility Model</u>: <span class="math inline">\(U_{nj} = \hat{\beta}x_{nj} + \epsilon_{nj}\)</span></p>
<ul>
<li><span class="math inline">\(V_j = \hat{\beta} \boldsymbol{x}\)</span></li>
<li>Since <span class="math inline">\(U_{nj}\)</span> is unobserved, decision maker choice from alternatives is used as the response variable to proxy Utility.</li>
<li><span class="math inline">\(\beta\)</span> is called a structural parameter</li>
</ul></li>
<li><p><u>Choice Probabilities</u></p>
<p><span class="math display">\[
P_{ni} = \int_{\epsilon} \mathbb{1} (\epsilon_{nj} - \epsilon_{ni} &lt; V_{ni} - V_{nj} \;\; \forall j \neq i) f(\boldsymbol{\epsilon}_n) d \boldsymbol{\epsilon}_n
\]</span></p>
<ul>
<li>Assuming the decision maker makes choices that maximize utility allows us to use choice probabilities to model which alternative maximizes utility.</li>
<li>See video for the derivation from <span class="math inline">\(\text{PR}(U_{ni} &gt; U_{nj} \;\; \forall j \neq i)\)</span></li>
<li>This is the cumulative distribution for <span class="math inline">\(\epsilon_{nj} - \epsilon_{ni}\)</span> which is a multidimensional integral over the density of unobserved utility, <span class="math inline">\(f(\epsilon_n)\)</span>.</li>
<li>Assumptions about <span class="math inline">\(f(\epsilon_n)\)</span> are what yields different discrete choice models</li>
</ul></li>
</ul>
</section>
<section id="sec-econ-dcm-binlog" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-binlog">Binary Logit</h2>
<ul>
<li><p>Misc</p></li>
<li><p><u>Choice Probability</u></p>
<p><span class="math display">\[
\begin {align}
P_{n1} &amp;= \frac {1}{1 + e^{-(V_{n1} - V_{n0})}} \\
&amp;= \frac{1}{1 + e^{-(\hat \beta \boldsymbol{x})}}
\end {align}
\]</span></p>
<ul>
<li>The probability of decision maker, <span class="math inline">\(n\)</span>, selecting choice, <span class="math inline">\(1\)</span>.
<ul>
<li>i.e.&nbsp;predicted probability</li>
</ul></li>
<li>The <strong>estimated utility</strong> of decision maker, <span class="math inline">\(n\)</span>, selecting choice, <span class="math inline">\(1\)</span> is the <strong>predicted logit</strong> not the predicted probability</li>
</ul></li>
<li><p><u>Cost Trade Offs</u></p>
<ul>
<li><p>See <a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm-terms" style="color: green">Terms</a></p></li>
<li><p>Example: An increase in operating cost would need to be offset in how much of a reduction in purchasing price in order for the decision makers utility not to change?</p>
<p><span class="math display">\[
\begin {align}
U_{n1} &amp;= \beta_0 + \beta_1 P_n + \beta_2 C_n + \epsilon_{n1} \\
dU_{n1} &amp;= \beta_1 dP_n + \beta_2 dC_n \\
dU_{n1} &amp;= 0 \implies \frac{dP_n}{dC_n} = -\frac{\beta_2}{\beta_1}
\end {align}
\]</span></p></li>
<li><p>Also see Example: Preferences for Air Conditioning</p></li>
</ul></li>
<li><p><u>Implied Discount Rate</u></p>
<ul>
<li><p>See <a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm-terms" style="color: green">Terms</a></p></li>
<li><p>Example:</p>
<p><span class="math display">\[
\begin {align}
(1) \;\; U_{n1} &amp;= \alpha_0 + \alpha_1(P_n + \frac{1}{\gamma}C_n) + \omega_n \\
(2) \;\; U_{n1} &amp;= \beta_0 + \beta_1P_n + \beta_2C_n + \epsilon_{n1} \\
&amp;\therefore \; \alpha_1 = \beta_1 \;\&amp;\; \frac{\alpha_1}{\gamma} = \beta_2 \\
&amp;\implies \gamma = \frac{\beta_1}{\beta_2}
\end {align}
\]</span></p>
<ul>
<li><span class="math inline">\(P_n\)</span> is product price and <span class="math inline">\(C_n\)</span> is the products operating cost</li>
<li><span class="math inline">\(\gamma\)</span> is the discount rate</li>
<li><span class="math inline">\(\alpha_1\)</span> is supposed to be the marginal utility for household income but it doesnt play into the discount rate calculation</li>
<li>(1) is the general formula for a households expected utility after purchasing the product which assumes infinite time horizon for operating cost</li>
<li>(2) binary logistic model equation for utility</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Student preferences for either driving their car or riding the bus to campus</p>
<ul>
<li><p>Model</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>model_1a <span class="ot">&lt;-</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glm</span>(<span class="at">formula =</span> car <span class="sc">~</span> cost.car <span class="sc">+</span> time.car <span class="sc">+</span> time.bus,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">'binomial'</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> data_binary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>car - <code>TRUE/FALSE</code> binary variable that indicates whether the decision maker chose to drive (TRUE) or take the bus (FALSE)</li>
<li>cost.car - continuous, cost (in dollars) to drive to campus</li>
<li>time.car - continuous, time (in minutes) to drive to campus</li>
<li>time.bus - time (in minutes) to ride the bus to campus</li>
</ul></li>
<li><p><code>summary</code> Results</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)  2.23327    0.34662   6.443 1.17e-10 ***</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cost.car    -2.07716    0.73245  -2.836  0.00457 ** </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; time.car    -0.33222    0.03534  -9.400  &lt; 2e-16 ***</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; time.bus     0.13257    0.03240   4.092 4.28e-05 ***</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Coefficents (log ORs) are marginal utilities</li>
<li>The cost of driving and the time spent driving both decrease the utility of driving, and the time spent riding the bus increases theutility of driving relative to riding the bus.</li>
<li>Intercept: Driving a car generates 2.23 utils of utility</li>
<li>cost.car: Each additional dollar of driving cost reduces utility of driving by 2.08</li>
<li>time.car: Each additional minute of driving reduces utility of driving by 0.33</li>
<li>time.bus: Each additional minute riding on the bus increases utility of driving by 0.13</li>
</ul></li>
<li><p>The dollar value that a student places on each hour spent driving and on each hour spent on the bus.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculate hourly time-value for each commute mode</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>(<span class="fu">coef</span>(model_1a)[<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>] <span class="sc">/</span> <span class="fu">coef</span>(model_1a)[<span class="dv">2</span>]) <span class="sc">*</span> <span class="dv">60</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; time.car time.bus</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9.596257 3.829494</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Each hour of driving has a dollar value of $9.60 and each hour of bus riding has a dollar value of $3.83.
<ul>
<li>In other words, a student would be willing to pay $9.60 to spend one less hour commuting by car but only $3.83 to spend one less hour commuting by bus.</li>
</ul></li>
<li>Since the time variables are in minutes, I wouldve guessed that you would divide by 60 to get hours. Dividing by 60 gives you values of only 1000<sup>ths</sup> of a dollar though, so I guess not.</li>
</ul></li>
<li><p>Allowing cost to vary inversely by income (aka <strong>Heterogeneous Parameter</strong>)</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>model_1b <span class="ot">&lt;-</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glm</span>(<span class="at">formula =</span> car <span class="sc">~</span> <span class="fu">I</span>(cost.car <span class="sc">/</span> income) <span class="sc">+</span> time.car <span class="sc">+</span> time.bus,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">'binomial'</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> data_binary)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_1b)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)          2.26541    0.33110   6.842 7.81e-12 ***</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; I(cost.car/income) -53.63314   14.54884  -3.686 0.000227 ***</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; time.car            -0.33521    0.03484  -9.622  &lt; 2e-16 ***</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; time.bus             0.13589    0.02880   4.719 2.37e-06 ***</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Dividing cost by income takes into account that students with different incomes might have different sensitivities to cost</p>
<ul>
<li>income - student annual income (in 1000 dollars)</li>
</ul></li>
<li><p>A higher level of income yields a lower marginal utility of cost.</p></li>
<li><p>Intercept: Driving a car generates 2.27 utils of utility</p></li>
<li><p>cost.car/income: An additional 0.1 percentage point of cost.car (i.e.&nbsp;driving cost) as a share of income reduces utility by -53.63</p>
<ul>
<li>I think a share means that proportion of car.cost to income increases by 0.1 of a percentage point</li>
</ul></li>
<li><p>Calculate <strong>marginal utility</strong> of car cost at different incomes</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fu">coef</span>(model_1b)[<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">35</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3.575543 2.145326 1.532375</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>He doesnt give units when stating these results, but did so when taking the ratio of 2 marginal utilities.</li>
<li>He takes the negative here, but Im not sure if thats because you always take the negative or hes just looking for the magnitude (i.e.&nbsp;<code>abs</code>).
<ul>
<li>I feel like its the latter. If thats the case though, then it will always be the case that a larger income means less absolute marginal utility no matter the value of the coefficient.</li>
<li>So this seems that your making that assumption beforehand by choosing to divide by income instead of multiplying by it, and the goal is to just calculate the amounts by which the effect of cost is affected by larger incomes.</li>
</ul></li>
</ul></li>
<li><p>Calculate hourly time-value for each commute mode at different incomes</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">abs</span>(<span class="fu">coef</span>(model_1b)[<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>] <span class="sc">/</span> <span class="fu">coef</span>(model_1b)[<span class="dv">2</span>]), <span class="dv">3</span>) <span class="sc">*</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">15</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="dv">25</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="dv">35</span>, <span class="dv">2</span>)) <span class="sc">*</span> <span class="dv">60</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; time.car  time.bus  time.car  time.bus  time.car  time.bus </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5.625096  2.280260  9.375160  3.800433 13.125224  5.320607 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>At each of these incomes, each hour of driving has a dollar value of $5.63, $9.38, and $13.13, respectively; and each hour of bus riding has a dollar value of $2.28, $3.80, and $5.32, respectively.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Visualization</p>
<ul>
<li><p>Kernel Density of Estimated Utilities</p>
<p><a href="_resources/Econometrics-Discrete-Choice-Models.resources/binlogit-viz-kern-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="_resources/Econometrics-Discrete-Choice-Models.resources/binlogit-viz-kern-1.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Plot density of utilities</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>ac_data <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> utility_ac_logit)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">xlab</span>(<span class="st">'Utility of air conditioning'</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ylab</span>(<span class="st">'Kernel Density'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Where <code>utility_ac_logit = predict(binary_logit_mod)</code>
<ul>
<li>Can also do this with choice probabilities</li>
</ul></li>
</ul></li>
<li><p>Fraction of Choice (Adoption) vs Estimated Utility</p>
<p><a href="_resources/Econometrics-Discrete-Choice-Models.resources/binlogit-viz-adoption.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="_resources/Econometrics-Discrete-Choice-Models.resources/binlogit-viz-adoption.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ac_data <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bin =</span> <span class="fu">cut</span>(utility_ac_logit,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">2</span>, <span class="fl">0.25</span>),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(bin) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">fraction_ac =</span> <span class="fu">mean</span>(air_conditioning), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bin =</span> <span class="fu">as.numeric</span>(bin),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">bin_mid =</span> <span class="fl">0.25</span> <span class="sc">*</span> (bin <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">-</span> <span class="fl">2.875</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> bin_mid, <span class="at">y =</span> fraction_ac)) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">'Utility of air conditioning'</span>) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">'Fraction with air conditioining'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>From Week 4 <a href="https://raw.githack.com/woerman/ResEcon703/master/slides/week_04/week_04.pdf">slides</a> at around slide 59</li>
<li>Shows the fraction of adoption of air conditioning (choice 1) within each bin of estimated utility.
<ul>
<li>Can also do this with choice probabilities</li>
</ul></li>
<li>In general, we expect decision makers with greater estimated utility to choose air conditioning more often which is what is seen.
<ul>
<li>There are a couple of exception around bin -1.5, but maybe those are due to there not being enough individuals in those bins to be representative. Otherwise, the model is missing something for these individuals.</li>
</ul></li>
<li>Im not sure if this should be linear or maybe sigmoid  its a proportion vs a logit. Think Im leaning towards sigmoid.
<ul>
<li>He did do this with choice probabilities and that one looked linear which is what youd expect since its like a observed vs predicted plot.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Marginal Effects and Elasticities</p>
<ul>
<li><p>These formulas are the same as the ones shown in the Multiomial Logit section</p></li>
<li><p>These values are on the observation level so one useful thing to look at would be summary statistics and density plots</p></li>
<li><p><strong>Marginal Effects</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>ac_data <span class="ot">&lt;-</span> ac_data <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">marg_eff_system =</span> <span class="fu">coef</span>(binary_logit_mod)[<span class="dv">2</span>] <span class="sc">*</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>          probability_ac_logit <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> probability_ac_logit),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">marg_eff_operating =</span> <span class="fu">coef</span>(binary_logit_mod)[<span class="dv">3</span>] <span class="sc">*</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>          probability_ac_logit <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> probability_ac_logit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Elasticities</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ac_data <span class="ot">&lt;-</span> ac_data <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">elasticity_system =</span> <span class="fu">coef</span>(binary_logit_mod)[<span class="dv">2</span>] <span class="sc">*</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>          cost_system <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> probability_ac_logit),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">elasticity_operating =</span> <span class="fu">coef</span>(binary_logit_mod)[<span class="dv">3</span>] <span class="sc">*</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>          cost_operating <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> probability_ac_logit))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Preferences for Air Conditioning</p>
<ul>
<li><p>Model</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>binary_logit <span class="ot">&lt;-</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glm</span>(<span class="at">formula =</span> air_conditioning <span class="sc">~</span> cost_system <span class="sc">+</span> cost_operating,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">'binomial'</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> ac_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>air_conditioning: Binary TRUE/FALSE, the choice between buying an AC (TRUE) or not (FALSE)</li>
<li>cost_system: Cost of buying the AC</li>
<li>cost_operating: Cost of operating the AC</li>
</ul></li>
<li><p><strong>Cost Trade-Offs</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fu">coef</span>(binary_logit)[<span class="dv">3</span>] <span class="sc">/</span> <span class="fu">coef</span>(binary_logit)[<span class="dv">2</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="do">## cost_operating</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="do">## -5.186972</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Says a dollar increase in AC purchasing cost would need to be offset by a decrease of $5.19 in operating cost in order for the customer utility for buying an AC to remain the same.</li>
</ul></li>
<li><p><strong>Implied Discount Rate</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(binary_logit)[<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">coef</span>(binary_logit)[<span class="dv">3</span>]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="do">## cost_system</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 0.1927907</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>
<section id="sec-econ-dcm-mnl" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-mnl">Multinomial Logit (MNL)</h2>
<ul>
<li><p>See <a href="../qmd/regression-multinomial.html#sec-reg-multin-mnl" style="color: green">Regression, Multinomial &gt;&gt; Multinomial Logit</a> for examples</p></li>
<li><p>AKA Generalized Logit</p></li>
<li><p>When the polytomous response has m levels (aka Alternatives), the multinomial logit model comprises m1 log-odds comparisons with a reference level, typically the first or last.</p>
<ul>
<li>The likelihood under the model and the fitted response probabilities that it produces are unaffected by choice of reference level, much as choice of reference level for dummy regressors created from a factor predictor doesnt affect the fit of a regression model.</li>
</ul></li>
<li><p><u>Choice Probability for alternative, i, and decision-maker, n</u>:</p>
<p><span class="math display">\[
P_{ni} = \frac {e^{V_{ni}}}{\sum_j e^{V_{nj}}} = \frac {e^{\hat{\beta}x_{ni}}}{\sum_j e^{{\hat{\beta}x_{nj}}}}
\]</span></p>
<ul>
<li>The probability that decision-maker, <span class="math inline">\(n\)</span>, chooses alternative, <span class="math inline">\(i\)</span></li>
<li>Predicted probability output from the model</li>
</ul></li>
<li><p><u>Market Shares</u></p>
<ul>
<li><p>Market Share for alternative, i</p>
<p><span class="math display">\[
S_i = \frac {e^{V_i}}{\sum_j e^{V_j}}
\]</span></p>
<ul>
<li>What distinguishes this from a choice probability is that unit is at the market level and not the individual level (see <span class="math inline">\(\vec{x}\)</span> in the next section), hence no n in the equation</li>
</ul></li>
<li><p>The difference in market share of products i and j</p>
<p><span class="math display">\[
\ln (S_i) - \ln (S_j) = \hat{\beta} (x_i - x_j)
\]</span></p>
<ul>
<li><span class="math inline">\(x_i\)</span> is a set of variables that describe product i.
<ul>
<li>Therefore these will be the same for every decision-maker.</li>
</ul></li>
<li><span class="math inline">\(j\)</span> is typicially a reference level (aka <em>outside option</em>)
<ul>
<li>If the products were a product such as cereal, then the outside option would typically be not buying cereal where the utility is 0.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Consumer Surplus</u></p>
<ul>
<li><p>The expected consumer surplus that decision maker n obtains when faced with a choice setting is</p>
<p><span class="math display">\[
\nabla \mathbb{E}(CS_n) = \frac{1}{\alpha_n} \left[\ln \left(\sum_{j=1}^{J^1} e^{V^1_{ng}} \right) - \ln \left(\sum_{j=0}^{J^1} e^{V^0_{ng}} \right) \right]
\]</span></p></li>
</ul></li>
<li><p><u>Assumptions</u></p>
<ul>
<li>Exogenity of the alternative attribute variables of the alternatives: <span class="math inline">\(\mathbb{E}[\epsilon \; | \; \vec {x}] = 0\)</span> (i.e mean of the residuals is 0)
<ul>
<li>Example of Endogenity
<ul>
<li>Taking a car to work or taking the bus to work are the alternatives.</li>
<li>If a commuter likes to drive, they wont care about living close to a bus stop</li>
<li>If a commuter likes to take the bus, they are more likely to live close to a bus stop</li>
<li>Therefore your logit model will be biased because any attribute variable that is related to the distance a decision-maker is from a bus stop will be endogenous.
<ul>
<li>e.g.&nbsp;Time each mode of transportation takes to get to work will be endogenous because distance from the bus stop affects time and distance to bus stop is correlated with a decision maker already biased towards buses and not with a decision maker who would choose bus or car.
<ul>
<li>i.e.&nbsp;distance isnt randomly distributed among all decision makers.</li>
</ul></li>
</ul></li>
</ul></li>
<li>Solution: TBD in a later lecture</li>
</ul></li>
<li>iid residuals following a Gumbel distribution
<ul>
<li>Residuals are the unobserved utility (i.e.&nbsp;random utility).</li>
<li>For panel data, its unlikely that each unobserved alternative attribute for a decision maker is independent across a time component which makes this a bad model for such data.
<ul>
<li>e.g.&nbsp;If a person chooses Count Chocula one day and Fruit Loops the next, its unlikely that the unobserved components of utility that led to the Count Chocula choice arent correlated with the unobserved components of utility that led to the Fruit Loops choice.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Substitution Patterns</u></p>
<ul>
<li><u>Independence of Irrelavent Alternatives (IIA)</u> Property of Logit models
<ul>
<li>Example: car, blue bus , red bus
<ul>
<li>In the beginning, the decision maker only has 2 choices: drive car or ride blue bus.</li>
<li>The probability of choosing the alternative car is the same for a decision maker as choosing the alternative blue bus: <span class="math inline">\(P_c = P_{bb} = 1/2\)</span></li>
<li>Then a red bus is added to the choices, but the decision maker doesnt care whether the bus is red or blue. Therefore the blue bus and the red bus have the same choice probability: <span class="math inline">\(P_{bb} = P_{rb}\)</span></li>
<li>But from the IIA property, the ratio of choice probability between car and blue bus is not changed after introduction of the red bus. Therefore, <span class="math inline">\(P_c = P_{bb} = P_{rb} = 1/3\)</span></li>
<li>In reality, the choice probability for car has NOT decreased, since for decision maker, the choice is actually between car and bus  color isnt a relative factor</li>
</ul></li>
<li>Example: Hummer, Escalade, Prius
<ul>
<li>Hummer lowers price.</li>
<li>Will Hummer attract more Escalade drivers than Prius?</li>
<li>The logit model says that proportional substitution to the Hummer will be equal for the Escalade and the Prius.
<ul>
<li>i.e.&nbsp;The lowering of the Hummer price will have an equal effect on Escalade sales and Prius sales which is unrealistic</li>
</ul></li>
</ul></li>
</ul></li>
<li><u>Proportional Substitution</u>
<ul>
<li>Note the logit cross-elasticity equation for alternative, i, given a change in alternative, j (See below, Elasticity &gt;&gt; Cross Elasticity). The change in choice probability for alternative i only depends on the change to the attribute for alternative, j.</li>
<li>This means that we can <em>substitute</em> any alternative for i (other than j) and the cross-elasticity will be the same and therefore the change in choice probability will be the same.
<ul>
<li>i.e.&nbsp;We change the value of an attribute for alternative j. Then, all choice proabilities for the other alternatives (other than j) change by the <strong>same</strong> proportion. Doesnt matter if alternative j is correlated more strongly with another alternative or not.</li>
</ul></li>
<li>Shows a lack of flexibility in the logit model  there is no structure to model the correlation between alternatives. (See Mixed Logit)</li>
</ul></li>
</ul></li>
<li><p><u>Marginal Effects</u></p>
<p><span class="math display">\[
\text{ME} = \frac {\partial P_{ni}} {\partial z_{ni}} = \beta_z P_{ni}(1-P_{ni})
\]</span></p>
<ul>
<li>The change in the probability of choosing alternative, i, after a change in the attribute of alternative, i.</li>
<li><span class="math inline">\(P_{ni}\)</span> is the probability of decision maker, n, choosing alternative i.</li>
<li><u>Cross Marginal Effect</u> <span class="math display">\[
\text{CME} = \frac {\partial P_{ni}} {\partial z_{nj}} = -\beta_z P_{ni}P_{nj}
\]</span>
<ul>
<li>The change in the probability of choosing alternative, <span class="math inline">\(i\)</span>, after a change in the attribute of alternative, <span class="math inline">\(j\)</span>.</li>
</ul></li>
</ul></li>
<li><p><u>Elasticity</u></p>
<p><span class="math display">\[
E_{iz_{ni}} = \beta_z z_{ni} (1-P_{ni})
\]</span></p>
<ul>
<li>Marginal Effects and Elasticities are similar except elasticities are percent change.
<ul>
<li>e.g.&nbsp;a percentage change in a regressor results in this much of a percentage change in the response level probability</li>
</ul></li>
<li><span class="math inline">\(E_{iz_{ni}}\)</span> is the elasticity of the probability of alternative, i, with respect to <span class="math inline">\(z_{ni}\)</span>, an observed attribute of alternative, i</li>
<li><span class="math inline">\(P_{ni}\)</span> is the predicted probability of alternative, i, for decision maker, n.</li>
<li><u>Cross Elasticity</u> <span class="math display">\[
E_{iz_{ni}} = -\beta_z z_{nj} P_{nj}
\]</span></li>
</ul></li>
</ul>
</section>
<section id="sec-econ-dcm-nestlog" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-nestlog">Nested Logit</h2>
<ul>
<li><p>Fits separate models for each of a hierarchically nested set of binary comparisons among the response categories. The set of m1 models comprises a complete model for the polytomous response, just as the multinomial logit model does.</p></li>
<li><p><u>Misc</u></p>
<ul>
<li>IIA still holds for two alternatives in the same dichotomy, but doesnt hold for alternatives of different different dichotomies</li>
<li>Both MNL and Nested Logit methods have have p(m1) parameters. The models are not equivalent, however, in that they generally produce different sets of fitted category probabilities and hence different likelihoods.
<ul>
<li>Multinomial logit model treats the response categories symmetrically</li>
</ul></li>
<li><u>Extensions</u>
<ul>
<li><u>Paired Combinatorial Logit</u>
<ul>
<li>Allows alternatives to be in multiple dichotomies and multiple hierarchies and for them to have more complex correlation structures
<ul>
<li>In nested logits, only alternatives within the same hierarchy are modeled as being correlated with each other.</li>
</ul></li>
<li>Creates pairwise dichotomies for each combination of alternatives (i.e.&nbsp;each alternative appears in J-1 nests)</li>
<li>Best for data with fewer alternatives since the parameter space can explode fairly quickly</li>
</ul></li>
<li><u>Generalized Nested Logit</u>
<ul>
<li>Allow alternatives to be in any dichotomy in any hierarchy, but assign a weight to each alternative in each dichotomy.</li>
<li>Estimate Parameters: <span class="math inline">\(\lambda_k\)</span> (See Choice Probability below), <span class="math inline">\(\alpha_{jk}\)</span> : weight or proportion of alternative, <span class="math inline">\(j\)</span>, in dichotomy, <span class="math inline">\(k\)</span></li>
<li>Need to be careful about how many dichotomies that you place each alternative, since the parameter space can explode fairly quickly</li>
</ul></li>
<li><u>Heteroskedastic Logit</u>
<ul>
<li><p>Heteroskedacity in this sense means that the variance of the unobserved utility (aka residuals) can be different for each alternative</p>
<p><span class="math display">\[
\mbox{Var}(\epsilon_{nj}) = \frac {(\theta_j \pi)^2}{6}
\]</span></p></li>
<li><p>Since theres no closed form solution, simulation methods must be usded to get the choice probabilities and model parameters.</p></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Construction of Dichotomies</u></p>
<ul>
<li>By the construction of nested dichotomies, the submodels are statistically independent (because the likelihood for the polytomous response is the product of the likelihoods for the dichotomies), so test statistics, such as likelihood ratio (G<sup>2</sup>) and Wald chi-square tests for regression coefficients can be summed to give overall tests for the full polytomy.</li>
<li>Nested dichotomies are not unique and alternative sets of nested dichotomies are not equivalent: Different choices have different interpretations. Moreover, and more fundamentally, fitted probabilities and hence the likelihood for the nested-dichotomies model depend on how the nested dichotomies are defined.</li>
<li>Example: 2 methods of splitting a 4-level response into dichotomies<br>
<a href="_resources/Regression-Multinomial.resources/nested-dichot1.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="_resources/Regression-Multinomial.resources/nested-dichot1.jpg" class="img-fluid" width="473"></a>
<ul>
<li>Left: Y = {1, 2, 3, 4}  {1,2} vs {3,4}  {1} vs {2} and {3} vs {4}</li>
<li>Right: (Continuous Logit) Y = {1, 2, 3, 4}  {1} vs {2, 3, 4}  {2} vs {3, 4}  {3} vs {4}
<ul>
<li>{1} vs.&nbsp;{2,3,4} could represent highschool graduation</li>
<li>{2} vs.&nbsp;{3,4} could represesnt enrollment in post-secondary education</li>
<li>{3} vs.&nbsp;{4} could represent completion of a post-secondary degree.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Assumptions</u></p>
<ul>
<li>Assumes Gumbel distribution of errors but relax the i.i.d. hypothesis
<ul>
<li>Allows for the unobserved (and random) components of utility, <span class="math inline">\(\epsilon_{nj}\)</span> , to be correlated for the same decision maker</li>
<li>Example: {drive} vs {carpool} and {bus} vs {train}
<ul>
<li>Model allows from unobserved components of utility (i.e.&nbsp;residuals of the model) of drive and carpool to correlated for the same decision maker but not the unobserved components of utility for carpool and train.</li>
</ul></li>
</ul></li>
<li>Assumes Exogenity (See <a href="../qmd/econometrics-discrete-choice-models.html##sec-econ-dcm-mnl" style="color: green">Multinomial Logit</a> &gt;&gt; Assumptions)
<ul>
<li>This model is also bad for panel data</li>
</ul></li>
</ul></li>
<li><p><u>Choice Probability for alternative, i, and decision-maker, n</u></p>
<p><span class="math display">\[
P_{ni} = \frac {e^{V_{ni}/\lambda_k}(\sum_{j\in B_k}e^{V_{nj}/\lambda_k})^{\lambda_k - 1}}{\sum_{\ell=1}^K (\sum_{j\in B_\ell}e^{V_{nj}/\lambda_\ell})^{\lambda_\ell}}
\]</span></p>
<ul>
<li>The probability that decision-maker, <span class="math inline">\(n\)</span>, chooses alternative, <span class="math inline">\(i\)</span>
<ul>
<li><p>Predicted probability output from the model</p></li>
<li><p>When data is at the market level, the <span class="math inline">\(n\)</span> index (i.e.&nbsp;individual) is removed from the equation above and the LHS becomes <em>Market Share</em> (See <a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm-terms" style="color: green">Terms</a>). The difference in market share between alternatives (e.g.&nbsp;brands) is:</p>
<p><span class="math display">\[
\ln(S_i) - \ln(S_m) = \hat{\beta}(x_i - x_m) + (1-\lambda_k)\ln S_{i|B_k} - (1-\lambda_\ell)S_{m|B_\ell}
\]</span></p>
<ul>
<li>The index, <span class="math inline">\(m\)</span>, is typically a reference level called the outside option (See <a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm-terms" style="color: green">Terms</a>) which is alternative of NOT doing an action where the utility is 0.
<ul>
<li>If the products were a product such as cereal, then the outside option would typically be not buying cereal which would have a utility is 0.</li>
</ul></li>
</ul></li>
</ul></li>
<li><span class="math inline">\(\lambda_k\)</span> is a measuer of independence in dichotomy, <span class="math inline">\(k\)</span> that gets estimated</li>
<li><span class="math inline">\(1-\lambda_k\)</span> is a measure of the correlation within dichotomy, <span class="math inline">\(k\)</span></li>
<li>The nested logit is consistent with the random utility model when <span class="math inline">\(\lambda_k \in (0,1] \; \forall k\)</span></li>
</ul></li>
<li><p><u>Elasticity</u></p>
<p><span class="math display">\[
E_{iz{ni}} = \beta_z z_{ni} \left(\frac{1}{\lambda_k} - \frac{1-\lambda_k}{\lambda_k}P_{ni|B_k} - P_{ni}\right)
\]</span></p>
<ul>
<li>Marginal Effects and Elasticities are similar except elasticities are percent change.
<ul>
<li>e.g.&nbsp;a percentage change in a regressor results in this much of a percentage change in the response level probability</li>
</ul></li>
<li>Elasticity of alternate, <span class="math inline">\(i\)</span>, in dichotomy, <span class="math inline">\(k\)</span>, for decision-maker, <span class="math inline">\(n\)</span>, with respect to its attribute, <span class="math inline">\(z_{ni}\)</span></li>
</ul></li>
<li><p><u>Cross-Elasticity</u></p>
<p><span class="math display">\[
E_{iz_{nm}} =
\left\{ \begin{array}{lcl}
-\beta_z z_{zm}P_{nm} \left(1+ \frac{1-\lambda_k}{\lambda_k} \frac {1}{P_{nB_k}} \right) &amp; \mbox{if} \; m \in \beta_k \\
-\beta_z z_{zm}P_{nm} &amp; \mbox{if} \; m \notin \beta_k
\end{array}\right.
\]</span></p>
<ul>
<li><p>Where</p>
<p><span class="math display">\[
P_{nB_k} = \sum \limits_{j \in B_k} P_{nj} \;\; \text{and} \;\; P_{ni|B_k} = \frac {P_{ni}}{P_{nB_k}} = \frac {P_{ni}}{\sum_{j \in B_k} P_{nj}}
\]</span></p></li>
<li><p>The percent change in the probability of choosing alternative, <span class="math inline">\(i\)</span>, after a percent change in the attribute of alternative, <span class="math inline">\(m\)</span>.</p></li>
<li><p>Cross elasticity depends on whether both alternatives are in the same dichotomy.</p></li>
</ul></li>
</ul>
</section>
<section id="sec-econ-dcm-mixlog" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-mixlog">Mixed Logit</h2>
<ul>
<li><p>Individual heterogeneity can be introduced in the parameters associated with the covariates entering the observable part of the utility or in the variance of the errors.</p>
<ul>
<li>Doesnt exhibit IIA (See <a href="../qmd/econometrics-discrete-choice-models.html#sec-reg-multin-mnl" style="color: green">Multinomial Logit</a> &gt;&gt; Substitution Patterns) since correlations between alternatives are modeled.</li>
<li>Model creates a distribution of <span class="math inline">\(\beta\)</span>s, so <span class="math inline">\(\beta\)</span> is allowed to vary throughout a population.</li>
</ul></li>
<li><p><u>Misc</u></p>
<ul>
<li>Market Level Data
<ul>
<li>Observe price, market share, and characteristics of a product</li>
</ul></li>
</ul></li>
<li><p><u>Choice Probability</u></p>
<p><span class="math display">\[
\begin{align}
&amp;P_{ni} = \int L_{ni}(\beta) \; f(\beta\;|\;\boldsymbol{\theta}) \; d\beta\\
&amp;\mbox{where} \; L_{ni}(\beta) = \frac {e^{V_{ni}(\beta)}}{\sum_{j=1}^J e^{V_{ni}(\beta)}}
\end{align}
\]</span></p>
<ul>
<li><span class="math inline">\(\boldsymbol{\theta}\)</span> is a vector of distributional parameters (e.g.&nbsp;<span class="math inline">\(\mu, \sigma^2\)</span> for a Normal Distribution)
<ul>
<li><strong>The</strong> <span class="math inline">\(\theta\)</span> <strong>parameters are what get estimated by the model in order to calculate a distribution of</strong> <span class="math inline">\(\beta\)</span><strong>s</strong> (i.e.&nbsp;Bayesian posterior)</li>
</ul></li>
<li>Integrates over a density so there is not a closed form solution. Therefore, numerical simulation must be used.
<ul>
<li><strong>Elasticities</strong> dont have a closed form solution either (Assume <strong>Marginal Effects</strong> are the same way)(See lecture videos for the math)</li>
</ul></li>
<li>Think of it as a weighted average of logit choice probabilities
<ul>
<li>The logit choice probabilities are evaluated a different values of <span class="math inline">\(\beta\)</span>, and each logit choice probability is weighted by the density <span class="math inline">\(f(\beta\;|\;\boldsymbol{\theta})\)</span>
<ul>
<li>i.e.&nbsp;Based on the density, more likely <span class="math inline">\(\beta\)</span>s will be more heavily weighted.</li>
</ul></li>
</ul></li>
<li>In statistical language, its a mixed function of logit choice probabilities, <span class="math inline">\(L_{ni}(\beta)\)</span>, and the mixing distribution, <span class="math inline">\(f(\beta\;|\;\boldsymbol{\theta})\)</span></li>
</ul></li>
<li><p><u>Random Coefficients</u></p>
<p><span class="math display">\[
U_{nj} = \hat{\alpha}\boldsymbol{x}_{nj} + \hat{\mu}\boldsymbol{z}_{nj} + \epsilon_{nj}
\]</span></p>
<ul>
<li><span class="math inline">\(x_{nj}\)</span>, <span class="math inline">\(z_{nj}\)</span> - Data for alternative j and decision maker n</li>
<li><span class="math inline">\(\hat{\alpha}\)</span> - Vector of fixed coefficients (i.e.&nbsp;same for all decision makers)</li>
<li><span class="math inline">\(\hat{\mu}_n\)</span> - Vector of random coefficients (i.e.&nbsp;a coefficient for each decision maker)</li>
<li><span class="math inline">\(\epsilon_{nj}\)</span> - Residual from an extreme value distribution (e.g.&nbsp;Gumbel)</li>
<li>Correlated Random Utility
<ul>
<li>Let <span class="math inline">\(\nu_{nj} = \boldsymbol{\hat{\mu}}_n \boldsymbol{z}_{nj} + \epsilon_{nj}\)</span> be the random (unobserved) component of utility and <span class="math inline">\(\mbox{Cov}(\nu_{ni}, \nu_{nj}) = \boldsymbol{z}_{ni} \Sigma \boldsymbol{z}_{nj}\)</span> the covariance between random utilities of different alternatives where <span class="math inline">\(\Sigma\)</span> is the variance/covariance matrix for <span class="math inline">\(\boldsymbol{\hat{\mu}}\)</span></li>
<li><strong>This is a structure to model the correlation between alternatives</strong></li>
</ul></li>
</ul></li>
<li><p><u>Panel Data</u></p>
<ul>
<li><p>Data where each decision maker makes multiple choices over time periods</p></li>
<li><p>Model allows for unobserved preference variation through random coefficients, which yields correlations in utility over time for the same decision maker</p></li>
<li><p>Decision maker, n, chooses from a vector of alternatives over T time periods</p></li>
<li><p>Utility</p>
<p><span class="math display">\[
U_{njt} = \hat{\beta}_n x_{njt} + \epsilon_{njt}
\]</span></p>
<ul>
<li>The utility, U, for decision maker, n, in choosing alternative, j, at time period, t.</li>
<li><span class="math inline">\(\hat{\beta}\)</span> varies for each decision maker but is constant across time.</li>
</ul></li>
<li><p>Lag or lead predictors can be included</p></li>
<li><p>Lagged responses can be included</p>
<ul>
<li>Use cases:
<ul>
<li>Habit Formation</li>
<li>Variety-Seeking Behavior</li>
<li>Switching Costs</li>
<li>Brand Loyalty</li>
</ul></li>
</ul></li>
<li><p>Only models a sequence of static choices</p>
<ul>
<li>Lagged responses account for past choices affecting current choices, but not how current choices affect future choices</li>
<li>A fully dynamic discrete choice model models how every choice affects subsequent choices.</li>
</ul></li>
</ul></li>
<li><p><u>Individual-level Coefficients</u></p>
<ul>
<li><u>Conditional Distribution of Coefficients</u>: <span class="math inline">\(h(\beta \;|\; \boldsymbol{y}_n, \boldsymbol{x}, \boldsymbol{\theta})\)</span>
<ul>
<li><p>Distribution of <span class="math inline">\(\beta\)</span> among the group, from a popuation with an unconditional distribution defined by <span class="math inline">\(\boldsymbol{\theta}\)</span>, who choose a sequence of alternatives <span class="math inline">\(y_n\)</span> when faced with choice setting, <span class="math inline">\(\boldsymbol{x}\)</span></p></li>
<li><p><span class="math inline">\(y_n\)</span> is the sequence of choices made by decision maker, n (i.e.&nbsp;panel data)</p></li>
<li><p><span class="math inline">\(\boldsymbol{\theta}\)</span> is the vector of <span class="math inline">\(\beta\)</span> distribution parameters</p></li>
<li><p><span class="math inline">\(\boldsymbol{x}\)</span> is the vector of <em>choice attributes</em></p></li>
<li><p>Proportional to the product (i.e.&nbsp;joint distribution) of</p>
<p><span class="math display">\[
P(\boldsymbol{y}_n \;|\; \boldsymbol{x}_n, \beta) \;\times\; f(\beta \;|\; \boldsymbol{\theta})
\]</span></p>
<ul>
<li>(Left) The probability that an individual with coefficients <span class="math inline">\(\beta\)</span> would choose <span class="math inline">\(y_n\)</span></li>
<li>(Right) The likelihood of observing <span class="math inline">\(\beta\)</span> in the population</li>
</ul></li>
</ul></li>
<li><u>Mean of the Conditional Distribution</u> (aka Conditional Mean Coefficients)
<ul>
<li><p>More practical to calculate than the conditional distribution itself.</p></li>
<li><p>Its the weighted average of vectors of <span class="math inline">\(\beta\)</span> drawn randomly from the <span class="math inline">\(\beta\)</span> distribution, <span class="math inline">\(\text f(\beta|\boldsymbol{\theta})\)</span>, <span class="math inline">\(R\)</span> times.</p>
<p><span class="math display">\[
\begin {align}
\breve{\beta}_n &amp;= \sum_{r=1}^R w_r \beta_r \\
\mbox{where} \;\; w_r &amp;= \frac{P(\boldsymbol{y}_n|x_n, \boldsymbol{\beta}_r)}{\sum_{r=1}^R P(\boldsymbol{y}_n|x_n, \boldsymbol{\beta}_r)}
\end {align}
\]</span></p>
<ul>
<li><span class="math inline">\(w\)</span> is the weight which is the proportion choice probability for draw, <span class="math inline">\(r\)</span></li>
</ul></li>
<li><p>A decision maker must make many choices for the conditional mean coefficient to approach the true individual-level coefficient.</p>
<ul>
<li><strong>A Monte Carlo simulation in the textbook for these lectures said even after 50 choices there was substantial difference between the two values.</strong> Although, in the era of big data, it is conceivable to see a person make hundreds of choices.</li>
</ul></li>
</ul></li>
<li><u>Future Choice Probabilities</u>
<ul>
<li>Use past choices to define a conditional distribution of coefficients for the decision-maker</li>
<li>Then use this conditional distribution, instead of the unconditional distribution, to calculate the mixed logit choice probabilities.
<ul>
<li>No closed form solution so must use simulation. See lecture video for the procedure, but its similar to the procedure of the conditional mean coefficient above.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-multin-ddcm" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-multin-ddcm">Dynamic Discrete Choice Models</h2>
<ul>
<li>Unlike the previous static models , this model will explicitly represent how 1 choice affects future choice sets and therefore future utilities.
<ul>
<li>Static models assume that you make a choice based on the utility of that choice alone at that current time and not on some future utility associated with that first choice.</li>
</ul></li>
<li>Utility
<ul>
<li>Two Examples for Go to college or get a job
<ul>
<li><p>Total Utility for:</p>
<ul>
<li>Two Periods: The utility gained during 4 years of college or work + the utility gain by choosing a job from a job set that depends on the completion of college or working for 4yrs</li>
<li>Three Periods: Same as two but add in utility gained after choosing a retirement plan from a set of plans that were determined by the job you chose in period 2.</li>
</ul></li>
<li><p>Decision maker attends college <span class="math inline">\(\; iff \;\; TU_C &gt; TU_W\)</span></p></li>
<li><p><u>2 Period Setting</u>: During College/Work and Available Jobs After College/Work</p>
<p><span class="math display">\[
\begin {align}
TU_C &amp;= U_{1C} + \lambda \max_j (U_{2j}^C) \\
TU_W &amp;= U_{1W} + \lambda \max_j (U_{2j}^W)
\end {align}
\]</span></p>
<ul>
<li><p>College (<span class="math inline">\(C\)</span>) or Work (<span class="math inline">\(W\)</span>) for four years</p></li>
<li><p><span class="math inline">\(U_1C\)</span> - Utility in period 1 from four years of college</p>
<p><span class="math display">\[
U_{1C} = V_{1C} + \epsilon_{1C}
\]</span></p></li>
<li><p><span class="math inline">\(U_1W\)</span> - Utility in period 1 from four years of working (Similar equation to <span class="math inline">\(U_{1C}\)</span> )</p></li>
<li><p><span class="math inline">\(U_{2j}^C\)</span> - Utility in period 2 from job <span class="math inline">\(j\)</span> after attending college</p>
<p><span class="math display">\[
U_{2j}^C = V_{2j}^C + \epsilon_{2j}^C
\]</span></p></li>
<li><p><span class="math inline">\(U_{2j}^W\)</span> - Utility in period 2 from job <span class="math inline">\(j\)</span> after working (Similar equation to <span class="math inline">\(U_{2j}^C\)</span> )</p></li>
<li><p><span class="math inline">\(\max\)</span> says the person will take whichever job that gives the most utility</p>
<ul>
<li>Job choice set is different for decision makers who went to college than those that chose to work in the 1st period (even though both indexed by js).</li>
</ul></li>
<li><p><span class="math inline">\(\lambda\)</span> reflects relative weighting of the two periods. Factor that<br>
discounts a future utility. Typically people assign more utility for current things than things in the future, so in that case, this factor will lessen utility.</p></li>
</ul></li>
<li><p><u>3 Period Setting</u>: Before College, After College, and Start of Retirement</p>
<p><span class="math display">\[
\begin {align}
TU_C &amp;= U_{1C} + \lambda \max_j [U_{2j}^C + \theta \max_s (U_{3s}^{Cj})] \\
TU_W &amp;= U_{1W} + \lambda \max_j [U_{2j}^W + \theta \max_s (U_{3s}^{Wj})]
\end {align}
\]</span></p>
<ul>
<li><span class="math inline">\(J\)</span> possible jobs for a career over many future years</li>
<li><span class="math inline">\(S\)</span> possible retirement plans
<ul>
<li><span class="math inline">\(U_{3s}^{Cj}\)</span> - Utility in period 3 from retirement plan <span class="math inline">\(s\)</span> after <em>attending college</em> in period 1 and working <em>job</em> <span class="math inline">\(j\)</span> in period 2
<ul>
<li>Similar utility model equations as <span class="math inline">\(U_{1C}\)</span> and <span class="math inline">\(U_{2j}^C\)</span></li>
</ul></li>
<li><span class="math inline">\(U_{3s}^{Wj}\)</span> - Utility in period 3 from retirement plan <span class="math inline">\(s\)</span> after <em>working</em> in period 1 and working <em>job</em> <span class="math inline">\(j\)</span> in period 2</li>
</ul></li>
<li><span class="math inline">\(\max\)</span> is maximizing both job choice (period 2) and its associated retirement plan (period 3)</li>
<li><span class="math inline">\(\theta\)</span> - Reflects relative weighting of three periods. Discount factor thats the similar to <span class="math inline">\(\lambda\)</span>.</li>
</ul></li>
</ul></li>
</ul></li>
<li><u>Notation</u>
<ul>
<li><span class="math inline">\(\{i_1, i_2, \ldots, i_t\}\)</span> - Sequence of choices up to and including period <span class="math inline">\(t\)</span></li>
<li><span class="math inline">\(U_{tj}(i_1, i_2, \ldots, i_{t-1})\)</span> - Utility obtained in period <span class="math inline">\(t\)</span> from alternative <span class="math inline">\(j\)</span>, which depends on all previous choices</li>
<li><span class="math inline">\(TU_{tj}(i_1, i_2, \ldots, i_{t-1})\)</span> - Total Utility (current and all future time periods) obtained from choosing alternative <span class="math inline">\(j\)</span> in period <span class="math inline">\(t\)</span>, assuming the optimal choice is made in all future periods. (aka <strong>Conditional Value Function</strong>) (i.e.&nbsp;conditional on the alternative)
<ul>
<li><u>All possible values of <span class="math inline">\(TU_{tj}(i_1, i_2, \ldots, i_{t-1})\)</span> need to be calculated in order to express the optimal choice in each time period</u></li>
</ul></li>
<li><span class="math inline">\(TU_t(i_1, i_2, \ldots, i_{t-1})\)</span> - Total Utility obtained from the optimal choice in period <span class="math inline">\(t\)</span>, assuming the optimal choice is made in all future periods (aka <strong>Value Function</strong> or <strong>Valuation Function</strong> at time <span class="math inline">\(t\)</span> )
<ul>
<li><span class="math inline">\(TU_t(i_1, i_2, \ldots, i_{t-1}) = \max_j TU_{tj}(i_1, i_2, \ldots, i_{t-1})\)</span></li>
</ul></li>
</ul></li>
<li><u>Bellman Equation</u>
<ul>
<li>Incorporates Discounted Utility (See <a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm-terms" style="color: green">Terms</a>) into the Value Functions
<ul>
<li>Generalization of the 2 college or work examples above and gives a procedure for how one would go about calculating the utilities for each period.</li>
</ul></li>
<li>Value Functions
<ul>
<li><p><u>Conditional Value Function</u></p>
<p><span class="math display">\[
TU_{tj}(i_1, \ldots, i_{t-1}) = U_{tj}(i_1, \ldots, i_{t-1}) + \delta\max_k[TU_{t+1,k}(i_1, \ldots, i_t = j)]
\]</span></p>
<ul>
<li><p>Regarding <span class="math inline">\(TU_{t+1}\)</span>, since <span class="math inline">\((i_1, \ldots, i_{t-1})\)</span> says given the sequence of choices prior to time, <span class="math inline">\(t\)</span>, the appending of <span class="math inline">\(i_t = j\)</span> is saying given all the sequence of choices prior to time <span class="math inline">\(t\)</span> and includeing the current period, <span class="math inline">\(t\)</span>, where choice <span class="math inline">\(j\)</span> is made.</p></li>
<li><p>Not sure what <span class="math inline">\(k\)</span> is and he didnt say in the video.</p></li>
</ul></li>
<li><p><u>Value Function</u></p>
<p><span class="math display">\[
TU_{t}(i_1, \ldots, i_{t-1}) = \max_j[U_{tj}(i_1, \ldots, i_{t-1}) + \delta\;TU_{t+1}(i_1, \ldots, i_t = j)]
\]</span></p>
<ul>
<li>Says that the total utility for time period <span class="math inline">\(t\)</span> i</li>
<li><span class="math inline">\(\delta\)</span> - discount rate on utility in future periods (See <a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm-terms" style="color: green">Terms</a>)</li>
</ul></li>
</ul></li>
<li>Procedure: Work backwards from the last period to the first period to calculate the overall Total Utility. At each period (except the last period), you are using the utility calculated for the future period directly after it.</li>
<li>Assumptions
<ul>
<li>Perfect information about:
<ul>
<li>Utility of each alternative in each future time period</li>
<li>How every possible sequence of choices affects this future utility</li>
</ul></li>
</ul></li>
<li>With J alternatives in each of T time periods, you have to calculate <span class="math inline">\(J^T \times T\)</span> utilities.
<ul>
<li>Therefore, only model only broad time periods (e.g.&nbsp;[college, graduation, retirement]) in order to reduce the computational burden of calculating all these utilities.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-econ-dcm-endo" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-endo">Endogeneity</h2>
<ul>
<li>Need exogenous variation in our explanatory variables in order to give our parameter estimates a causal inerpretation
<ul>
<li>If data are endogenous, our parameters can be interpreted as a kind of correlation between the data and choices</li>
<li><em>True</em> exogenous variable are tough to come by</li>
</ul></li>
<li><u>Examples of Endogeneity</u>
<ul>
<li>Housing choice and commute choice are correlated
<ul>
<li>People who like public transit live closer to transit stations which makes their travel time lower</li>
<li>Therefore, the coefficient on travel time will be biased upwards</li>
</ul></li>
<li>Price and unobserved quality are correlated
<ul>
<li>Products with higher unobserved quality cost more and are preferrred by customers</li>
<li>Therefore, the coefficient on price with be biased downward and may even have the wrong sign</li>
</ul></li>
<li>Price and unobserved marketing are correlated
<ul>
<li>Large marketing campaigns may be accompanied by sales or increased prices (increased demand <span class="math inline">\(\rightarrow\)</span> decreased supply <span class="math inline">\(\rightarrow\)</span> increased price)</li>
<li>Therefore, the coefficient on price will be biased, but the direction is uncertain.</li>
</ul></li>
</ul></li>
<li><u>Solutions</u>
<ul>
<li><u>BLP estimation</u></li>
<li><u>Control Function estimation</u>
<ul>
<li>When to use Control Functions instead of BLP
<ul>
<li>If any market shares are zero
<ul>
<li>Constant terms in BLP are not identified for zero market shares</li>
</ul></li>
<li>If you need to control for individual-specific endogeneity rather than market-level endogeneity (not feasible in BLP)</li>
<li>If you dont want to use the Contraction Mapping algorithm.
<ul>
<li>More complex to code, computationally intensive</li>
</ul></li>
</ul></li>
</ul></li>
<li>Both methods use instruments
<ul>
<li>Good Instruments:
<ul>
<li>Correlated with explanatory variables</li>
<li>Exogenous (i.e.&nbsp;uncorrelated with residuals aka random utility aka unobserved utility)</li>
</ul></li>
<li>Instruments are very context specific. So in order to find good instruments for your context, you need to know the details about the process youre trying to model.</li>
</ul></li>
</ul></li>
</ul>
<section id="sec-econ-dcm-endo-blp" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-endo-blp">BLP (Berry-Levinsoln-Pakes)</h3>
<ul>
<li><p>Uses instruments to isolate exogenous variation in explanatory variables</p></li>
<li><p>Mixed logit model of demand for a differentiated product using market-level data.</p>
<ul>
<li>i.e.&nbsp;Estimate how the attributes of a product affect consumer demand</li>
</ul></li>
<li><p>Price is one of the most important attributes, but is almost certainly correlated with other unobserved attributes</p></li>
<li><p>Model includes instruments in a nonlinear model</p></li>
<li><p><u>Utility Model</u></p>
<ul>
<li><p>If consumers also get utility from unobserved attributes, then Price is correlated with the composite error term (<span class="math inline">\(\xi_{jm} + \epsilon_{njm}\)</span>)</p></li>
<li><p>Therefore observed utility, <span class="math inline">\(V\)</span>, gets separated into 2 componets, Consumer and Market.</p>
<p><span class="math display">\[
\begin {align}
U_{njm} &amp;= \delta_{jm} + \tilde V (p_{jm}, \boldsymbol{x}_{jm}, \boldsymbol{s}_n, \boldsymbol{\tilde \beta}_n) + \epsilon_{njm} \\
\mbox where \;\; \delta_{njm} &amp;= \bar V (p_{jm}, \boldsymbol{x}_{jm}, \boldsymbol{\bar \beta}_n) + \xi_{jm} = \bar{\hat{\boldsymbol{\beta}}}(p_{jm}, \boldsymbol{x}_{jm}) + \xi_{jm}
\end {align}
\]</span></p>
<ul>
<li><p><span class="math inline">\(\tilde V (p_{jm}, \boldsymbol{x}_{jm}, \boldsymbol{s}_n, \boldsymbol{\tilde \beta}_n)\)</span> - Component that varies by consumer</p></li>
<li><p><span class="math inline">\(\bar V (p_{jm}, \boldsymbol{x}_{jm}, \boldsymbol{\bar \beta}_n)\)</span> - Component that varies by products and markets</p></li>
<li><p><span class="math inline">\(\delta_{jm}\)</span> - Effectively becomes a product-market constant term (i.e.&nbsp;intercept that varies by product and market for a Mixed Logit model) that represents the average utility obtained by product <span class="math inline">\(j\)</span> in market <span class="math inline">\(m\)</span></p>
<ul>
<li>This term gets estimated in the top equation. Then, this <span class="math inline">\(\hat{\delta}\)</span> is used as the LHS to estimate <span class="math inline">\(\bar{\hat{\boldsymbol{\beta}}}\)</span></li>
</ul></li>
<li><p><span class="math inline">\(p_{jm}\)</span> - Price of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(m\)</span></p>
<ul>
<li>1 product can be the outside product or purchase nothing category (See <a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm-terms" style="color: green">Terms</a>) which could be a vector of 0s</li>
</ul></li>
<li><p><span class="math inline">\(\boldsymbol{x}_{jm}\)</span> - Vector of non-price attribtuies of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(m\)</span></p></li>
<li><p><span class="math inline">\(\boldsymbol{s}_n\)</span> - Vector of demographice characteristics of consumer <span class="math inline">\(n\)</span></p></li>
<li><p><span class="math inline">\(\boldsymbol{\beta}_n\)</span> - Vector of coefficients for consumer <span class="math inline">\(n\)</span></p></li>
<li><p><span class="math inline">\(\xi_{jm}\)</span> - Utility (average) of unobserved attributes of product <span class="math inline">\(j\)</span> in market <span class="math inline">\(m\)</span></p></li>
<li><p><span class="math inline">\(\epsilon_{njm}\)</span> - idiosyncratic (i.e.&nbsp;different per consumer) unobserved utility</p></li>
<li><p>The Choice Probability equation for this model looks similar to the Mixed Logit choice probability equation (See lecture video for the math)</p></li>
</ul></li>
</ul></li>
<li><p><u>Procedure</u></p>
<ul>
<li>Estimate the average utility for product <span class="math inline">\(j\)</span> in market <span class="math inline">\(m\)</span>, including observable and unobservable attributes (top equation)</li>
<li>Regress this average utilitiy value, <span class="math inline">\(\hat{\delta}\)</span>, on price, <span class="math inline">\(p_{jm}\)</span>, and other observable attributes, <span class="math inline">\(x_{jm}\)</span>, while instrumenting for price. (i.e.&nbsp;IV model)</li>
</ul></li>
<li><p><u>Issue</u></p>
<ul>
<li><span class="math inline">\(\hat{\delta}_{jm}\)</span> must be estimated for each product in each market. This can result in 100s or even 1000s of terms to estimate.</li>
</ul></li>
<li><p><u>BLP insights</u></p>
<ul>
<li>A set of unique <span class="math inline">\(\delta_{jm}\)</span> terms equates predicted market shares with observed market shares for a given set of <span class="math inline">\(\boldsymbol{\theta}\)</span> parameters
<ul>
<li>Higher <span class="math inline">\(\delta_{jm}\)</span> means there will be higher market shares for product <span class="math inline">\(j\)</span> in market <span class="math inline">\(m\)</span></li>
</ul></li>
<li>Their Contraction Mapping algorithm effectively finds these unique <span class="math inline">\(\delta_{jm}\)</span> terms</li>
</ul></li>
<li><p><u>Contraction Mapping Algorithm</u></p>
<ol type="1">
<li><p>Start with initial value, <span class="math inline">\(\delta^0\)</span></p></li>
<li><p>Predict the market share for the current constant value, <span class="math inline">\(\hat{S}_{jm}(\boldsymbol{\delta}^s)\)</span>, for each product and each market</p>
<ul>
<li><span class="math inline">\(\hat{S}_{jm}(\boldsymbol{\delta})\)</span> is the predicted market share (which is a function of delta)
<ul>
<li>I think these should be the predicted values for the Utility model above except the choice probabilities are now market shares since were predicting with market-level explanatory variables</li>
</ul></li>
<li>The <span class="math inline">\(s\)</span> in the <span class="math inline">\(\delta^s\)</span> term seems to be a counter for which iteration of this algorithm that youre on.</li>
</ul></li>
<li><p>Adjust each product-market constant term by comparing predicted and observed market share</p>
<p><span class="math display">\[
\delta_{jm}^{s+1} = \delta_{jm}^s + \ln \left(\frac{S_{jm}}{\hat{S}_{jm}(\boldsymbol{\delta}^s)}\right)
\]</span></p>
<ul>
<li>i.e.&nbsp;Were adjusting our <span class="math inline">\(\delta\)</span> by the difference of log predicted and log observed market shares</li>
</ul></li>
<li><p>Repeat steps 2 and 3 until the algorithm converges to the <em>unique</em> set of <span class="math inline">\(\hat\delta\)</span> (product-market) constants</p>
<ul>
<li>Since this is a unique set, I think algorithm has converged with the observed market shares equal the predicted market shares exactly.</li>
</ul></li>
</ol></li>
<li><p><u>Overall Procedure</u></p>
<ol type="1">
<li>Outer-Loop: Search over <span class="math inline">\(\boldsymbol{\theta}\)</span> to optimize the estimation objective function
<ul>
<li>Inner-Loop: Use contraction mapping to find <span class="math inline">\(\boldsymbol{\delta(\theta)}\)</span>, the vector of product-market constant terms conditional on <span class="math inline">\(\theta\)</span></li>
<li>Use <span class="math inline">\(\boldsymbol{\theta}\)</span> and <span class="math inline">\(\boldsymbol{\delta(\theta)}\)</span> to simulate choice probabilities, <span class="math inline">\(P_{njm}(\boldsymbol{\delta(\theta)}, \boldsymbol{\theta})\)</span></li>
<li>Use the choice probabilities to calculate the estimation objective function</li>
</ul></li>
<li>Estimate <span class="math inline">\(\boldsymbol{\bar\beta}\)</span> by regressing <span class="math inline">\(\boldsymbol{\delta_{jm}}\)</span> on <span class="math inline">\((p_{jm}, \boldsymbol{x}_{jm})\)</span> with price instruments, <span class="math inline">\(\boldsymbol{z}_{jm}\)</span></li>
</ol></li>
<li><p><u>Estimator Options</u> (See Week 13, video 5 lecture for details)</p>
<ul>
<li>Maximized Simulated Likelihood (MSL) for step 1 and Two-Stage Least Squares (2SLS) for step 2</li>
<li>MSM - Some kind of method of moments algorithm
<ul>
<li>Method of Moments Characteristics (<a href="https://towardsdatascience.com/why-and-when-to-use-the-generalized-method-of-moments-625f76ca17c0">link</a>)
<ul>
<li>Existence of Moments: Up to a certain order is necessary and requires finite tails in the distribution of the data.</li>
<li>Correct Model Specification: The underlying model must be correctly specified, including the functional relationship and the distribution of error terms.</li>
<li>Identifiability: There must be a unique solution for the parameters to be estimated.</li>
<li>Moment Conditions: It is necessary to specify the moment conditions correctly, which must have zero mean under the model assumptions.</li>
<li>Valid Instruments: If applicable, instruments must be relevant and valid.</li>
<li>Independence and Homoscedasticity (conditional): Ideally, errors should be independent and homoscedastic under the moment conditions.</li>
<li>Robustness to Heteroscedasticity: GMM is robust to heteroscedasticity if the weighting matrix is consistently estimated.</li>
<li>Multicollinearity: GMM can handle multicollinearity, but it can affect the efficiency of the estimators.</li>
<li>Outliers: GMM is sensitive to outliers unless they are properly addressed in the modeling process.</li>
<li>Large Samples: GMM is more efficient in large samples.</li>
<li>Asymptotic Theory: Properties such as consistency and efficiency are asymptotic.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-econ-dcm-cfunc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-econ-dcm-cfunc">Control Function</h3>
<ul>
<li><p>Use instruments to control for endogeneity in explanatory variables</p></li>
<li><p><u>Utility Model</u></p>
<p><span class="math display">\[
\begin {align}
U_{nj} &amp;= V(y_{nj}, \boldsymbol{x}_{nj}, \boldsymbol{\beta}_n) + \epsilon_{nj} \\
\\
\mbox{where} \;\; y_{nj} &amp;= W(\boldsymbol{z}_{nj}, \boldsymbol{\gamma}) + \mu_{nj} \\
\epsilon_{nj} &amp;= CF(\mu_{nj}, \boldsymbol{\lambda}) + \tilde \epsilon_{nj} \\
CF(\mu_{nj}, \boldsymbol{\lambda}) &amp;= \mathbb{E}[\epsilon_{nj} \;|\; \mu_{nj}]
\end {align}
\]</span></p>
<ul>
<li><span class="math inline">\(y_{nj}\)</span> - Endogenous explanatory variable (e.g price) for consumer <span class="math inline">\(n\)</span> and product <span class="math inline">\(j\)</span></li>
<li><span class="math inline">\(\boldsymbol{x}_{nj}\)</span> - Vector of non-price attributes for consumer <span class="math inline">\(n\)</span> and product <span class="math inline">\(j\)</span></li>
<li><span class="math inline">\(\boldsymbol{\beta}_n\)</span> - Vector of coefficients for consumer <span class="math inline">\(n\)</span>
<ul>
<li>Has density, <span class="math inline">\(f(\boldsymbol{\beta}_n,\boldsymbol{\theta})\)</span></li>
</ul></li>
<li><span class="math inline">\(\epsilon_{nj}\)</span> - Unobserved utility for consumer <span class="math inline">\(n\)</span> and product <span class="math inline">\(j\)</span> (i.e.&nbsp;residuals)</li>
<li><span class="math inline">\(\tilde \epsilon_{nj}\)</span> - The leftover unobserved utility that is not correlated with <span class="math inline">\(\mu_{nj}\)</span>
<ul>
<li>Has the conditional density <span class="math inline">\(g(\tilde \epsilon_n, \boldsymbol{\mu_n})\)</span></li>
<li>This term controls for the source of endogeneity and therefore <span class="math inline">\(y_{nj}\)</span> is no longer endogenous.</li>
</ul></li>
<li><span class="math inline">\(\boldsymbol{z}_{nj}\)</span> - Vector of exogenous instruments for <span class="math inline">\(y_{nj}\)</span></li>
<li><span class="math inline">\(\boldsymbol{\gamma}\)</span> - Parameters that relate <span class="math inline">\(y_{nj}\)</span> to <span class="math inline">\(\boldsymbol{z}_{nj}\)</span></li>
<li><span class="math inline">\(\mu_{nj}\)</span> - Unobserved factors that affect <span class="math inline">\(y_{nj}\)</span> (i.e.&nbsp;residuals)</li>
<li><span class="math inline">\(CF(\mu_{nj}, \boldsymbol{\lambda})\)</span> - Control Function that contains all the endogenous variation between <span class="math inline">\(\epsilon_{nj}\)</span> and <span class="math inline">\(\mu_{nj}\)</span>
<ul>
<li>Typically modeled as linear, <span class="math inline">\(CF(\mu_{nj}, \boldsymbol{\lambda}) = \lambda \mu_{nj}\)</span>, but its important the this term is specified correctly else <span class="math inline">\(y_{nj}\)</span> will remain endogenous.</li>
</ul></li>
</ul></li>
<li><p><u>Assumptions</u></p>
<ul>
<li><span class="math inline">\(\epsilon_{nj}\)</span> and <span class="math inline">\(\mu_{n}\)</span> are correlated. Therefore,
<ul>
<li><span class="math inline">\(y_{nj}\)</span> and <span class="math inline">\(\epsilon_{nj}\)</span>, so <span class="math inline">\(y_{nj}\)</span> is endogenous</li>
<li><span class="math inline">\(\mathbb{E}[\epsilon_{nj} \;|\; \mu_{nj}] \neq 0\)</span> hence the use of the control function</li>
</ul></li>
<li><span class="math inline">\(\epsilon_{nj}\)</span> and <span class="math inline">\(\mu_{n}\)</span> are independent of <span class="math inline">\(\boldsymbol{z}_{nj}\)</span>. Therefore,
<ul>
<li><span class="math inline">\(\boldsymbol{z}_{nj}\)</span> are good instruments for <span class="math inline">\(y_{nj}\)</span></li>
</ul></li>
</ul></li>
<li><p><u>Procedure</u></p>
<ol type="1">
<li>Estimate <span class="math inline">\(\hat\mu_{nj}\)</span> by regressing <span class="math inline">\(y_{nj}\)</span> on <span class="math inline">\(\boldsymbol{z}_{nj}\)</span>
<ul>
<li>Therefore,<span class="math inline">\(\hat\mu_{nj}\)</span> will be the residuals of this regression</li>
</ul></li>
<li>Estimate <span class="math inline">\((\boldsymbol{\hat\theta}, \boldsymbol{\hat\lambda})\)</span> by Maximized Simulated Likelihood (MSL) using the simulated choice probabilities to construct a simulated log-likelihood function</li>
</ol></li>
</ul>
</section>
</section>
<section id="multinomial-probit" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="multinomial-probit">Multinomial Probit</h2>
<ul>
<li>Assumes a Normal distribution of errors which can deal with heteroscedasticity and correlation of the errors.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/docker-misc.html" class="pagination-link" aria-label="Misc">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Misc</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/econometrics-fixed-effects.html" class="pagination-link" aria-label="Fixed Effects">
        <span class="nav-page-text">Fixed Effects</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../LICENSE.html">
<p>Creative Commons Attribution-NonCommercial 4.0 International License</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","selector":".lightbox","openEffect":"zoom","loop":false});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>