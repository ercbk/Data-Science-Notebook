<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Model Agnostic â€“ Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/diagnostics-nlp.html" rel="next">
<link href="../qmd/diagnostics-mixed-effects.html" rel="prev">
<link href="../images/ds-favicon-32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/diagnostics-bayes.html">Diagnostics</a></li><li class="breadcrumb-item"><a href="../qmd/diagnostics-model-agnostic.html">Model Agnostic</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://ericbook.netlify.app/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-fill"></i></a>
    <a href="https://github.com/ercbk/Data-Science-Notebook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Algorithms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-learn-to-rank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learn-to-Rank</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-marketing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Marketing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Algorithms, Product</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-recommendation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommendation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anomaly Detection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Apache</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spark</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">APIs</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Association</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-copulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Copulas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-priors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Priors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-troubleshooting-hmc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting HMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/big-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Big Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/business-plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Business Plots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/causal-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-windows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Windows</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cloud-services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Services</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/confidence-and-prediction-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confidence &amp; Prediction Intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cross-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Validation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">CSS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recipes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/data.table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-dbt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DuckDB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-feature-stores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Stores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-lakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lakes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-normalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-nosql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NoSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-postgres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Postgres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-relational.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-warehouses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Warehouses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/decision-intelligence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Intelligence</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Diagnostics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-model-agnostic.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Model Agnostic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-probabilistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">Deep Learning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-audio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Audio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graph</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Image</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Training</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false">
 <span class="menu-text">Docker</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Docker, Fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false">
 <span class="menu-text">Econometrics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-discrete-choice-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Choice Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-fixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-psa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity Score Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-multilevel-longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel, Longitudinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false">
 <span class="menu-text">Experiments</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-a_b-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Designs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-rct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RCT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-stepped-wedge-cluster-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Experiments, Stepped Wedge Cluster Design</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/extreme-value-theory-(evt).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Extreme Value Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Engineering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embeddings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-splines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Splines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-tokenization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tokenization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Reduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Selection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false">
 <span class="menu-text">Forecasting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-hierarchical_grouped.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical/Grouped</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonlinear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-statistical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/generalized-additive-models-(gam).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalized Additive Models</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false">
 <span class="menu-text">Geospatial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-remote-sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Remote Sensing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preprocessing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false">
 <span class="menu-text">Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-github-actions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Github Actions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/glossary-ds-terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary: DS terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gnu-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GNU Make</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false">
 <span class="menu-text">Google</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analytics, Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Google, Analytics, Reports</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-bigquery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BigQuery</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HTML</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false">
 <span class="menu-text">IDEs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-vscode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VS Code</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/information-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/inkscape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inkscape</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false">
 <span class="menu-text">Job</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-management-leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management / Leadership</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-on-the-job.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On the job</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-organizational-and-team-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizational and Team Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JSON</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/kubernetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kubernetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LaTeX</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false">
 <span class="menu-text">LLMs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-agent-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent Chains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-fine-tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine Tuning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-prompt-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prompt Engineering</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/loss-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Loss Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false">
 <span class="menu-text">Mathematics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-linear-algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/missingness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missingness</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false">
 <span class="menu-text">Mixed Effects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-bmlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BMLR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-glmm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLMM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-residual-covar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Residual Covariance Structures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MLOps</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false">
 <span class="menu-text">Model Building</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-brms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">brms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-h2o-automl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2O AutoML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-modeltime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeltime</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-rstanarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sklearn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false">
 <span class="menu-text">Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-knowledge-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false">
 <span class="menu-text">NLP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-sentiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentiment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-summarization-extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarization and Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-topic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-transformers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transformers</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/optimization-equation-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Package Development</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false">
 <span class="menu-text">Post-Hoc Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-ab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-emmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">emmeans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Privacy</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false">
 <span class="menu-text">Production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-ml-monitoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">ML Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-analyses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas, Recipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-reticulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reticulate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/quarto-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-base-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyverse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regex</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false">
 <span class="menu-text">Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-discrete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-interactions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multinomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-ordinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-regularized.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regularized</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Renv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scraping</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false">
 <span class="menu-text">Shiny</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-hosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hosting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mobile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI Examples</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/simulation-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation, Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreadsheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/stochastic-processes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Stochastic Processes</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false">
 <span class="menu-text">Surveys</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-census-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Census Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-sampling-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyeval</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuning</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-38" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-gtable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gtable</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-diagrams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagrams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false">
 <span class="menu-text">Web</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-39" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-servers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Server</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-diag-modagn-misc" id="toc-sec-diag-modagn-misc" class="nav-link active" data-scroll-target="#sec-diag-modagn-misc">Misc</a></li>
  <li><a href="#sec-diag-modagn-dalex" id="toc-sec-diag-modagn-dalex" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex">DALEX</a>
  <ul>
  <li><a href="#sec-diag-modagn-dalex-misc" id="toc-sec-diag-modagn-dalex-misc" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-misc">Misc</a></li>
  <li><a href="#sec-diag-modagn-dalex-expllev" id="toc-sec-diag-modagn-dalex-expllev" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-expllev">Explanatory Levels</a></li>
  <li><a href="#sec-diag-modagn-dalex-instlev" id="toc-sec-diag-modagn-dalex-instlev" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-instlev">Instance Level</a>
  <ul>
  <li><a href="#sec-diag-modagn-dalex-instlev-bd" id="toc-sec-diag-modagn-dalex-instlev-bd" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-instlev-bd">Break-Down (BD)</a></li>
  <li><a href="#sec-diag-modagn-dalex-instlev-lime" id="toc-sec-diag-modagn-dalex-instlev-lime" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-instlev-lime">Lime</a></li>
  <li><a href="#sec-diag-modagn-dalex-instlev-cp" id="toc-sec-diag-modagn-dalex-instlev-cp" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-instlev-cp">Ceteris Paribus (CP)</a></li>
  <li><a href="#sec-diag-modagn-dalex-instlev-locdiag" id="toc-sec-diag-modagn-dalex-instlev-locdiag" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-instlev-locdiag">Local Diagnostics</a></li>
  </ul></li>
  <li><a href="#sec-diag-modagn-dalex-datlev" id="toc-sec-diag-modagn-dalex-datlev" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-datlev">Dataset Level</a>
  <ul>
  <li><a href="#sec-diag-modagn-dalex-datlev-fvso" id="toc-sec-diag-modagn-dalex-datlev-fvso" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-datlev-fvso">Fitted vs Observed</a></li>
  <li><a href="#sec-diag-modagn-dalex-datlev-resid" id="toc-sec-diag-modagn-dalex-datlev-resid" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-datlev-resid">Residual Plots</a></li>
  <li><a href="#sec-diag-modagn-dalex-datlev-featimp" id="toc-sec-diag-modagn-dalex-datlev-featimp" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-datlev-featimp">Feature Importance</a></li>
  <li><a href="#sec-diag-modagn-dalex-datlev-pdp" id="toc-sec-diag-modagn-dalex-datlev-pdp" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-datlev-pdp">Partial Dependence Profiles (PDPs)</a></li>
  <li><a href="#sec-diag-modagn-dalex-datlev-funnel" id="toc-sec-diag-modagn-dalex-datlev-funnel" class="nav-link" data-scroll-target="#sec-diag-modagn-dalex-datlev-funnel">Funnel Plot</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#sec-diag-modagn-triplot" id="toc-sec-diag-modagn-triplot" class="nav-link" data-scroll-target="#sec-diag-modagn-triplot">triplot</a></li>
  <li><a href="#sec-diag-modagn-auditor" id="toc-sec-diag-modagn-auditor" class="nav-link" data-scroll-target="#sec-diag-modagn-auditor">auditor</a></li>
  <li><a href="#sec-diag-modagn-shap" id="toc-sec-diag-modagn-shap" class="nav-link" data-scroll-target="#sec-diag-modagn-shap">SHAP</a></li>
  <li><a href="#sec-diag-modagn-iml" id="toc-sec-diag-modagn-iml" class="nav-link" data-scroll-target="#sec-diag-modagn-iml">IML</a></li>
  <li><a href="#sec-diag-modagn-easalluv" id="toc-sec-diag-modagn-easalluv" class="nav-link" data-scroll-target="#sec-diag-modagn-easalluv">easyalluvial</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/diagnostics-bayes.html">Diagnostics</a></li><li class="breadcrumb-item"><a href="../qmd/diagnostics-model-agnostic.html">Model Agnostic</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-diag-modagn" class="quarto-section-identifier">Model Agnostic</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-diag-modagn-misc" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-misc">Misc</h2>
<ul>
<li>Other packages
<ul>
<li><span style="color: #990000">{pdp}</span> - has ggplot option</li>
</ul></li>
<li>Individual prediction interpretation uses:
<ul>
<li>Look at extreme prediction values and see what predictor variable values are driving those predictions</li>
<li>Examine distribution of prediction values (on observed or new data)
<ul>
<li>Multi-Modal? Which variables are driving the different modeâ€™s predicitions</li>
<li>Break predictions down by cat variable. If differences between levels are apparent, which predictor variable values are driving those differences in predictions</li>
</ul></li>
<li>ML model predicts customer in observed data has high probability of conversion yet customer hasnâ€™t converted. Develop strategy around predictor variables (increase or decrease, do or stop doing something) that contributed to that prediction to hopefully nudge that customer into converting</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex">DALEX</h2>
<section id="sec-diag-modagn-dalex-misc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-misc">Misc</h3>
<ul>
<li><p>Notes from <a href="https://ema.drwhy.ai/" class="uri">Explanatory Model Analysis</a></p>
<ul>
<li>Book shows code snippets for R and Python</li>
</ul></li>
<li><p>Also available for Python models</p></li>
<li><p>Models from packages handled by {DALEXtra}: scikit-learn, keras, H2O, tidymodels, xgboost, mlr or mlr3</p></li>
<li><p><u><strong>The first step is always going to be creating an â€œexplainâ€ object</strong></u></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>titanic_glm_model <span class="ot">&lt;-</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glm</span>(survived<span class="sc">~</span>., </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> titanic_imputed, </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>explainer_glm_titanic <span class="ot">&lt;-</span> </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">explain</span>(titanic_glm_model, </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">data =</span> titanic_imputed[,<span class="sc">-</span><span class="dv">8</span>],</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> titanic_imputed<span class="sc">$</span>survived)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Custom explainers can be constructed for models not supported by the package. You need to specify directly the model-object, the data frame used for fitting the model, the function that should be used to compute predictions, and the model label.</li>
<li><span style="color: #990000">{</span><a href="https://modeloriented.github.io/DALEXtra/" style="color: #990000">DALEXtra</a><span style="color: #990000">}</span> has helper functions set-up to support <span style="color: goldenrod">{{sklearn}}</span>, <span style="color: goldenrod">{{keras}}</span>, <span style="color: #990000">{h2o}</span>, <span style="color: #990000">{mlr3}</span>, <span style="color: #990000">{tidymodels}</span>, and <span style="color: #990000">{xgboost}</span> models.</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-expllev" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-expllev">Explanatory Levels</h3>
<p><a href="./_resources/Diagnostics,_Model_Agnostic.resources/dalex-1-xai-pyramid.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/dalex-1-xai-pyramid.png" class="img-fluid" width="632"></a></p>
<ul>
<li><p><u>Instance Level</u></p>
<ul>
<li>The model exploration for an individual instance starts with a single number â€” a prediction. This is the top level of the pyramid.</li>
<li>To this prediction we want to assign particular variables, to understand which are important and how strongly they influence this particular prediction. One can use methods as <u>SHAP, LIME, Break Down, Break Down with interactions</u>. This is the second from the top level of the pyramid.</li>
<li>Moving down, the next level is related to the sensitivity of the model to change of one or more variablesâ€™ values. <u>Ceteris Paribus</u> profiles allow to explore the conditional behaviour of the model.</li>
<li>Going further, we can investigate how good is the local fit of the model. It may happen, that the model is very good on average, but for the selected observation the local fit is very low, errors/residuals are larger than on average. The above pyramid can be further extended, i.e.&nbsp;by adding interactions of variable pairs.</li>
</ul></li>
<li><p><u>Dataset Level</u></p>
<ul>
<li>The exploration for the whole model starts with an assessment of the quality of the model, either with F1, MSE, AUC or LIFT/ROC curves. Such information tells us how good the model is in general.</li>
<li>The next level helps to understand which variables are important and which ones make the model work or not. A common technique is <u>permutation importance of variables</u>.</li>
<li>Moving down, methods on the next level help us to understand what the response profile of the model looks like as a function of certain variables. Here you can use such techniques as <u>Partial Dependence Profiles</u> or <u>Accumulated Local Dependence</u>.</li>
<li>Going further we have more and more detailed analysis related to the diagnosis of the errors/residuals.</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-instlev" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-instlev">Instance Level</h3>
<ul>
<li>Use Case:
<ul>
<li>Investigate extreme response values</li>
<li>Investigate observations not predicted well by your model</li>
</ul></li>
</ul>
<section id="sec-diag-modagn-dalex-instlev-bd" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-instlev-bd">Break-Down (BD)</h4>
<ul>
<li><p>Allows you to see how predictor variables contribute to prediction.</p></li>
<li><p>BD Charts shows additive contributions of variables when they are sequentially added to the model</p></li>
<li><p>Break-down (BD) plots and Shapley values are most suitable for models with a small or moderate number of explanatory variables. Neither of those approaches is well-suited for models with a very large number of explanatory variables, because they usually determine non-zero attributions for all variables in the model.</p>
<ul>
<li>For data with many predictors, use LIME.</li>
</ul></li>
<li><p><u>Interpretation</u></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/BDjohnyExample-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="_resources/Diagnostics,_Model_Agnostic.resources/BDjohnyExample-1.png" class="img-fluid" width="532"></a></p>
<ul>
<li>Model predicts survival probability of a person on the Titanic</li>
<li><span class="arg-text">intercept</span> is the mean of all the predictions from of the model on the training data</li>
<li>Fixing <span class="var-text">age = 8</span> adds 0.27 probability points to the mean overall prediction</li>
<li>Fixing <span class="var-text">age = 8</span> and <span class="var-text">class = 1st</span> adds <span class="math inline">\((0.27 + 0.086 = 0.356)\)</span> to the mean overall prediction</li>
<li><span class="arg-text">prediction</span> is the point prediction for an observation that has all of these predictors fixed at these values</li>
</ul></li>
<li><p>When interactions, whether explicit like in linear regression models or implicit like in Random Forest models, are present in the model, the order that the predictors are presented to the DALEX function affects the estimated contribution.</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-bd-ordering.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-bd-ordering.png" class="img-fluid" width="432"></a></p>
<ul>
<li>When interactions <em>arenâ€™t</em> present in the model, then contributions should be the same regardless of ordering of the predictors.</li>
<li>Here class and age have been presented to the DALEX function is different orders and have different contributions which shows that the RF model is using an interaction of the two predictors.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Assume No Interactions</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"randomForest"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"DALEX"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>explain_rf <span class="ot">&lt;-</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  DALEX<span class="sc">::</span><span class="fu">explain</span>(<span class="at">model =</span> titanic_rf,  </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> titanic_imputed[, <span class="sc">-</span><span class="dv">9</span>],</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> titanic_imputed<span class="sc">$</span>survived <span class="sc">==</span> <span class="st">"yes"</span>, </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">label =</span> <span class="st">"Random Forest"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>bd_rf <span class="ot">&lt;-</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predict_parts</span>(<span class="at">explainer =</span> explain_rf,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">new_observation =</span> henry,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">type =</span> <span class="st">"break_down"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>bd_rf</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="do">##                                     contribution</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: intercept                   0.235</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: class = 1st                 0.185</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: gender = male              -0.124</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: embarked = Cherbourg        0.105</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: age = 47                   -0.092</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: fare = 25                  -0.030</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: sibsp = 0                  -0.032</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: parch = 0                  -0.001</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: prediction                  0.246</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>plot(bd_rf)</code> will plot the BD chart</li>
<li><span class="arg-text">type</span> - The method for calculation of variable attribution; the possible methods are â€œbreak_downâ€ (the default), â€œshapâ€, â€œoscillationsâ€, and â€œbreak_down_interactionsâ€</li>
<li><span class="arg-text">order</span> - A vector of characters (column names) or integers (column indexes) that specify the order of explanatory variables to be used for computing the variable-importance measures; if not specified (default), then a one-step heuristic is used to determine the order</li>
<li><span class="arg-text">keep_distributions</span> - A logical value (FALSE by default); if TRUE, then additional diagnostic information about conditional distributions of predictions is stored in the resulting object and can be plotted with the generic plot() function.
<ul>
<li>When this is TRUE, <code>plot</code> will output the BD plot, but instead of point estimates of the contributions for each predictor, violin plots visualize the distribution of contribution values.</li>
<li>There are also lines that connect predictions from one distribution to the next distribution which indicates how each model prediction changed wthen the next predictor was added.</li>
<li>Not very aesthetically pleasing. If you want to use these distributions in a presentation and arenâ€™t concerned with the lines, Iâ€™d recommend getting the values and making a raincloud plot with {{ggdist}} or some other package.</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Assume Interactions</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ibd-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ibd-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">##                                             contribution</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: intercept                           0.235</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: class = 1st                         0.185</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: gender = male                      -0.124</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: embarked:fare = Cherbourg:25        0.107</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: age = 47                           -0.125</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: sibsp = 0                          -0.032</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: parch = 0                          -0.001</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Random Forest: prediction                          0.246</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Same code as before except in <code>predict_parts</code>, <span class="arg-text">type = â€œbreak_down_interactionsâ€</span>
<ul>
<li>Finds an ordering of the predictors in which the most important predictors are placed at the beginning</li>
</ul></li>
<li>iBD detects an important interaction between <span class="var-text">fare</span> and <span class="var-text">class</span></li>
<li>Can be time consuming as the running time is quadratic depending on the number of predictors, <span class="math inline">\(O(p^2)\)</span>. <span class="math inline">\(\frac{p(p+1)}{2}\)</span> net contributions for single variables and pairs of variables have to be calculated.</li>
<li>For datasets with a small number of observations, the calculations of the net contributions will be subject to a larger variability and, therefore, larger randomness in the ranking of the contributions.</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-instlev-lime" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-instlev-lime">Lime</h4>
<ul>
<li><p>Artificial data is generated around the neighborhood of instance of interest. Predictions are generated by the black-box model. A glass-box model (e.g.&nbsp;lasso, decision-tree, etc.) is trained on the artificial data and predictions. Then, the glass-box model is used as a proxy model for the black-box model for interpreting that instance.</p></li>
<li><p>Widely adopted in the text and image analysis but also suitable for tabular data with many predictors</p>
<ul>
<li>For models with large numbers of variables, sparse explanations with a small number of variables offer a useful alternative to BD and SHAP.</li>
</ul></li>
<li><p>Issues</p>
<ul>
<li>Requires numeric predictors, so different LIME methods will have different transformations of the categorical variables and will provide different results.</li>
<li>The glass-box model is selected to approximate the black-box model, and not the data themselves, the method does not control the quality of the local fit of the glass-box model to the data. Thus, the latter model may be misleading.</li>
<li>Sometimes even slight changes in the neighborhood where the artificial data is generated can strongly affect the obtained explanations.</li>
</ul></li>
<li><p>See <a href="https://ema.drwhy.ai/LIME.html#LIMERcode">Ch. 9.6</a> for discussion of some of the differences in LIME implementation between <span style="color: #990000">{</span><a href="https://lime.data-imaginist.com/" style="color: #990000">lime</a><span style="color: #990000">}</span>, <span style="color: #990000">{</span><a href="https://modeloriented.github.io/localModel/" style="color: #990000">localModel</a><span style="color: #990000">}</span>, and <span style="color: #990000">{</span><a href="https://christophm.github.io/iml/" style="color: #990000">iml</a><span style="color: #990000">}</span>.</p></li>
<li><p><span class="ribbon-highlight">Example</span>: <span style="color: #990000">{localModel}</span></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"localModel"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>locMod_johnny <span class="ot">&lt;-</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  DALEXtra<span class="sc">::</span><span class="fu">predict_surrogate</span>(<span class="at">explainer =</span> explain_rf, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">new_observation =</span> johnny_d, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                              <span class="at">size =</span> <span class="dv">1000</span>, </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                              <span class="at">seed =</span> <span class="dv">1</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">type =</span> <span class="st">"localModel"</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>locMod_johnny[,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="do">##     estimated                        variable original_variable</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 1  0.23530947                    (Model mean)                  </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 2  0.30331646                     (Intercept)                  </span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 3  0.06004988                   gender = male            gender</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 -0.05222505                    age &lt;= 15.36               age</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 5  0.20988506     class = 1st, 2nd, deck crew             class</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 6  0.00000000 embarked = Belfast, Southampton          embarked</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><span class="arg-text">type = â€œlocalModelâ€</span> says which package to use</p>
<ul>
<li><span style="color: #990000">{lime}</span> and <span style="color: #990000">{iml}</span> available</li>
</ul></li>
<li><p><span class="arg-text">estimated</span> shows the coefficients of a LASSO glass-box model</p></li>
<li><p>Note the dichotomization of the continuous variable, <span class="var-text">age</span></p>
<ul>
<li>Cutpoint chosen using ceteris-paribus profiles. The point at which the largest change in the response is chosens as the cutpoint.
<ul>
<li><p>CP Profile: <code>localModel::plot_interpretable_feature(locMod_johnny, "age")</code></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-lime-locmod-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-lime-locmod-1.png" class="img-fluid" width="432"></a></p></li>
</ul></li>
<li><span style="color: #990000">{iml}</span> doesnâ€™t transform continuous variables and <span style="color: #990000">{lime}</span> uses quartile cutpoints</li>
</ul></li>
<li><p>Visualizaton: <code>plot(locMod_johnny)</code></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-lime-locmod-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-lime-locmod-2.png" class="img-fluid" width="432"></a></p></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-instlev-cp" class="level4 unumbered">
<h4 class="unumbered anchored" data-anchor-id="sec-diag-modagn-dalex-instlev-cp">Ceteris Paribus (CP)</h4>
<ul>
<li><p>A CP profile shows how a modelâ€™s prediction would change if the value of a single exploratory variable changed</p>
<ul>
<li>A pdp is the average of cp profiles for all observations.</li>
</ul></li>
<li><p>If calculated for multiple observations, CP profiles are a useful tool for sensitivity analysis.</p></li>
<li><p>The larger influence of an explanatory variable on prediction for a particular instance, the larger the fluctuations of the corresponding CP profile. For a variable that exercises little or no influence on a modelâ€™s prediction, the profile will be flat or will barely change.</p></li>
<li><p>For categoricals or discrete variables, bar graphs are used to visualize the CP values.</p></li>
<li><p><u>Issues</u></p>
<ul>
<li>Correlated explanatory variables may lead to misleading results , as it is not possible to keep one variable fixed while varying the other one.</li>
<li>If an interaction is present, whether explicit like in linear regression models or implicit like in Random Forest models, results can be misleading.
<ul>
<li>Pairwise interactions require the use of two-dimensional CP profiles that are more complex than one-dimensional ones.</li>
</ul></li>
</ul></li>
<li><p><u>Process</u></p>
<ul>
<li>Supply a single observation with values of your choice and a predictor.</li>
<li>That predictor varies while the others in the model are held constant, and predictions are calculated.</li>
<li>Responses are plotted vs the predictor.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Compare 2 observations</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-cp-2obs-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-cp-2obs-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>variable_splits <span class="ot">=</span> <span class="fu">list</span>(<span class="at">age =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">70</span>, <span class="fl">0.1</span>), </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">fare =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="fl">0.1</span>))                      <span class="er">)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>cp_titanic_rf2 <span class="ot">&lt;-</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predict_profile</span>(<span class="at">explainer =</span> explain_rf, </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">new_observation =</span> <span class="fu">rbind</span>(henry, johnny_d),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">variable_splits =</span> variable_splits)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ingredients)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cp_titanic_rf2, </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">color =</span> <span class="st">"_ids_"</span>, </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">variables =</span> <span class="fu">c</span>(<span class="st">"age"</span>, <span class="st">"fare"</span>)) <span class="sc">+</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Passenger:"</span>, </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#4378bf"</span>, <span class="st">"#8bdcbe"</span>), </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"henry"</span> , <span class="st">"johny_d"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>predict_profile</code>
<ul>
<li><span class="arg-text">variables</span> - (Not used in this example) Names of explanatory variables, for which CP profiles are to be calculated. By default, <span class="arg-text">variables = NULL</span> and the profiles are constructed for all variables, which may be time consuming.</li>
<li><span class="arg-text">variable_splits</span> is an optional argument for providing a custom range of predictor values.
<ul>
<li>By default the function uses the range of values in the training data which is obtained throught the <span class="arg-text">explainer</span> object.</li>
<li>Also, limits the computations to the variables specified in the data.frame</li>
</ul></li>
</ul></li>
<li><code>plot</code>
<ul>
<li><span class="arg-text">color = â€œ_ids_â€</span> specifies that more than one observation is being compared</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Compare Multiple Models</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-cp-multmod-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-cp-multmod-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cp_titanic_rf, cp_titanic_lmr, <span class="at">color =</span> <span class="st">"_label_"</span>,  </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">variables =</span> <span class="fu">c</span>(<span class="st">"age"</span>, <span class="st">"fare"</span>)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">ggtitle</span>(<span class="st">"Ceteris-paribus profiles for Henry"</span>, <span class="st">""</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="var-text">age</span> has a non-linear shape because a spline transform was used</li>
</ul></li>
<li><p><u>Profile Oscillations</u></p>
<ul>
<li><p>Method to assign importance to individual CP Profiles. Useful when there are a large number of variables used in your model.</p>
<ul>
<li>For models with hundreds of variables or discrete variables like zip codes, visual examination can be daunting.</li>
</ul></li>
<li><p>The method estimates the area under the CP curve by summing the differences between the CP values and the prediction at that instance.</p></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Basic</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-cp-oscill-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-cp-oscill-1.png" class="img-fluid" width="382"></a></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>oscillations_uniform <span class="ot">&lt;-</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predict_parts</span>(<span class="at">explainer =</span> explain_rf, </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">new_observation =</span> henry, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">type =</span> <span class="st">"oscillations_uni"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>oscillations_uniform</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="do">##    _vname_ _ids_ oscillations</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2   gender     1   0.33700000</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 4    sibsp     1   0.16859406</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3      age     1   0.16744554</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 1    class     1   0.14257143</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 6     fare     1   0.09942574</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 7 embarked     1   0.02400000</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 5    parch     1   0.01031683</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>oscillations_uniform<span class="sc">$</span><span class="st">`</span><span class="at">_ids_</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="st">"Henry"</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(oscillations_uniform) <span class="sc">+</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Ceteris-paribus Oscillations"</span>, </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Expectation over uniform distribution (unique values)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><span class="var-text">Gender</span> is a CP Profile that you should definitely look at. Followed by <span class="var-text">sibsp</span>, <span class="var-text">age</span>, and probably <span class="var-text">class</span></p></li>
<li><p><span class="arg-text">variable_splits</span> is optional. Available if you want to use a custom grid of variables and values.</p></li>
<li><p><span class="arg-text">type</span></p>
<ul>
<li><p><span class="arg-text">type = â€œoscillationsâ€</span> is used when <span class="arg-text">variable_splits</span> is used. An average residual is whatâ€™s being calculated, and one main difference in the types is the divisor (e.g.&nbsp;number of unique values, sample size) thatâ€™s used. Here, Iâ€™m guessing this argument value sets the divisor to the number of grid values in <span class="arg-text">variable_splits</span>.</p></li>
<li><p><span class="arg-text">type = â€œoscillations_uniâ€</span> assumes a uniform distribution of the â€œresidualsâ€ which are differences between the CP value and prediction for that instance.</p>
<ul>
<li><p>Filters variables to only unique values</p></li>
<li><p>Quicker to compute</p></li>
</ul></li>
<li><p><span class="arg-text">type = â€œoscillations_empâ€</span> assumes an empirical distribution of the â€œresidualsâ€</p>
<ul>
<li>Preferred when there are enough data to accurately estimate the empirical distribution and when the distribution is not uniform.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-instlev-locdiag" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-instlev-locdiag">Local Diagnostics</h4>
<ul>
<li>Check how the model behaves locally for observations similar to the instance of interest.</li>
<li><em>Neighbors</em> of the instance of interest are chosen using a distance metric that includes all variables â€” default being the <strong>gower distance</strong> which handles categorical and continuous variables.</li>
<li><u>Local Fidelity</u>
<ul>
<li><p>Compares the distribution of residuals for the neighbors with the distribution of residuals for the entire training dataset.</p></li>
<li><p>A histogram with both sets of residuals is created.</p>
<ul>
<li>Both distributions should be similar. But, if the residuals for the neighbors are shifted towards positive or negative values, then the model has issues predicting instances with variable values in this space.</li>
</ul></li>
<li><p>Non-parametric tests such as Wilcoxon or Kolmogorov-Smirnov test can also be used to test for differences.</p></li>
</ul></li>
<li><u>Local Stability</u>
<ul>
<li><p>Checks whether small changes in the explanatory variables, as represented by the changes within the set of neighbors, have got much influence on the predictions.</p></li>
<li><p>CP profiles are calculated for each of the selected neighbors</p>
<ul>
<li>Adding residuals to the plot allows for evaluation of the local model-fit.</li>
</ul></li>
<li><p>Interpretation</p>
<ul>
<li>Parallel lines suggests the relationship between the variable and the response is additive.</li>
<li>A small distance between the lines suggests model predictionss are stable for values of that variable around the supplied value.</li>
</ul></li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li><p>Local-Fidelity</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-local-fidelity-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-local-fidelity-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>id_rf <span class="ot">&lt;-</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predict_diagnostics</span>(<span class="at">explainer =</span> explain_rf,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">new_observation =</span> henry,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">neighbours =</span> <span class="dv">100</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>id_rf</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  Two-sample Kolmogorov-Smirnov test</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="do">## data:  residuals_other and residuals_sel</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="do">## D = 0.47767, p-value = 4.132e-10</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="do">## alternative hypothesis: two-sided</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(id_rf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>KS-Test indicates a statistically significant difference between the two distributions</p></li>
<li><p>The plot suggests that the distribution of the residuals for Henryâ€™s neighbours might be slightly shifted towards positive values, as compared to the overall distribution.</p></li>
<li><p>I donâ€™t think the y-axis values are informative. This is a split axis histogram where neighbor residuals are on top and the rest of the observations are on the bottom.</p></li>
<li><p>There is a <span class="arg-text">nbins</span>argument which has a default of twenty. This chart many need a few more bins</p></li>
</ul></li>
<li><p>Local-Stability</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-local-stab-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-local-stab-1.png" class="img-fluid" width="532"></a></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>id_rf_age <span class="ot">&lt;-</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predict_diagnostics</span>(<span class="at">explainer =</span> explain_rf,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">new_observation =</span> henry,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">neighbours =</span> <span class="dv">10</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">variables =</span> <span class="st">"age"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(id_rf_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>The vertical segments correspond to residuals</p>
<ul>
<li>Shorter the segment, the smaller the residual and the more accurate prediction of the model.</li>
<li>Green segments correspond to positive residuals, red segments to negative residuals.</li>
</ul></li>
<li><p>The profiles are relatively close to each other, suggesting the stability of predictions.</p></li>
<li><p>There are more negative than positive residuals, which may be seen as a signal of a (local) positive bias of the predictions.</p></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-diag-modagn-dalex-datlev" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-datlev">Dataset Level</h3>
<section id="sec-diag-modagn-dalex-datlev-fvso" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-datlev-fvso">Fitted vs Observed</h4>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-PredvsFitted1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-PredvsFitted1-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>diag_ranger <span class="ot">&lt;-</span> <span class="fu">model_diagnostics</span>(explainer_ranger)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(diag_ranger, <span class="at">variable =</span> <span class="st">"y"</span>, <span class="at">yvariable =</span> <span class="st">"y_hat"</span>) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">colour =</span> <span class="st">"red"</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Red line is the perfect fitting model</li>
<li>Shows that, for large observed values of the dependent variable, the predictions are smaller than the observed values, with an opposite trend for the small observed values of the dependent variable. (Also see Residuals vs Observed)</li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-datlev-resid" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-datlev-resid">Residual Plots</h4>
<ul>
<li><p><u>Misc</u></p>
<ul>
<li><p>For ML models, can help in detecting groups of observations for which a modelâ€™s predictions are biased.</p></li>
<li><p>From <a href="https://ema.drwhy.ai/residualDiagnostic.html">Chapter 19</a></p></li>
</ul></li>
<li><p><u>Histogram Plot</u></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualHist1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualHist1-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>mr_lm <span class="ot">&lt;-</span> <span class="fu">model_performance</span>(explain_apart_lm)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>mr_rf <span class="ot">&lt;-</span> <span class="fu">model_performance</span>(explain_apart_rf)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mr_lm, mr_rf, <span class="at">geom =</span> <span class="st">"histogram"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The split into two separate, normal-like parts, which may suggest omission of a binary explanatory variable in the model.</li>
</ul></li>
<li><p><u>Boxplot</u></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualBoxplot1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualBoxplot1-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mr_lm, mr_rf, <span class="at">geom =</span> <span class="st">"boxplot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Red dot represents RMSE (i.e.&nbsp;mean of the residuals)</li>
<li>The residuals for the random forest model are more frequently smaller than the residuals for the linear-regression model. However, a small fraction of the random forest-model residuals is very large, and it is due to them that the RMSE is comparable for the two models.</li>
<li>The separation of the red dot (mean) and line (median) indicate that the residual distribution is skewed to the right.</li>
</ul></li>
<li><p><u>Residuals vs Observation ID</u></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualvsID-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualvsID-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>md_rf <span class="ot">&lt;-</span> <span class="fu">model_diagnostics</span>(explainer_ranger)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(md_rf, <span class="at">variable =</span> <span class="st">"ids"</span>, <span class="at">yvariable =</span> <span class="st">"residuals"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Shows an asymmetric distribution of residuals around zero, as there is an excess of large positive (larger than 500) residuals without a corresponding fraction of negative values (i.e.&nbsp;right-skewed distribution)</li>
</ul></li>
<li><p><u>Residuals vs Fitted</u> - <code>plot(md_rf, variable = "y_hat", yvariable = "residuals")</code></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualvsFitted-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ResidualvsFitted-1.png" class="img-fluid" width="432"></a></p>
<ul>
<li>Should be symmetric around the horizontal at zero</li>
<li>Suggests that the predictions are shifted (biased) towards the average.</li>
</ul></li>
<li><p><u>Residuals vs Observed</u> - <code>plot(md_rf, variable = "y", yvariable = "residuals")</code></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-scatterResidual1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-scatterResidual1-1.png" class="img-fluid" width="432"></a></p>
<ul>
<li>Should be symmetric around the horizontal at zero</li>
<li>Shows that, for the large observed values of the dependent variable, the residuals are positive, while for small values they are negative. This trend is clearly captured by the smoothed curve included in the graph. Thus, the plot suggests that the predictions are shifted (biased) towards the average. (See Fitted vs Observed)</li>
</ul></li>
<li><p><u>Abs Residuals vs Fitted</u> - <code>plot(md_rf, variable = "y_hat", yvariable = "abs_residuals")</code></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ScaleLocation1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-ScaleLocation1-1.png" class="img-fluid" width="432"></a></p>
<ul>
<li>Variation of the Scale-Location plot</li>
<li>Should be symmetric scatter around a horizontal line to indicate homoskedastic variance of the residuals</li>
<li>Large concern for linear regression models, but potentially not a concern for tree models like RF
<ul>
<li>For tree models, you have to decide whether the bias is acceptable</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-datlev-featimp" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-datlev-featimp">Feature Importance</h4>
<ul>
<li><p>From <a href="https://ema.drwhy.ai/featureImportance.html">Chapter 16</a></p></li>
<li><p>Model-agnostic method used allows comparing an explanatory-variableâ€™s importance between models with different structures to check for agreement.</p>
<ul>
<li>If variables are ranked in importance differently in different models, then compare in pdp, factor, or ale plots. See if one of the models that has the variable ranked higher captures a different (e.g.&nbsp;non-linear) relationship with response better than the other models</li>
</ul></li>
<li><p>The permutation step means there some randomness involved, so it should be repeated many times. This will give you a distribution of importance values for each variable. Then, you can calculate a an interval based on a chosen quantile to represent the uncertainty.</p></li>
<li><p>Overview</p>
<ul>
<li>Takes a variable, randomizes its rows, measures change in loss function from full model.</li>
<li>Vars that have largest changes are of greater importance (longer bars).</li>
</ul></li>
<li><p>Some of the Args</p>
<ul>
<li><span class="arg-text">N = 1000</span> (default), = NULL to use whole dataset (slower).</li>
<li><span class="arg-text">B = 10</span> (default) - Number of iterations (i.e.&nbsp;number of times you go through the permutation process for each variable)</li>
<li><span class="arg-text">Type = â€œrawâ€</span> (default) is just the value of loss function. You can use â€œdifferenceâ€ or â€œratioâ€ (shown in Steps section), but the ranking isnâ€™t affected</li>
</ul></li>
<li><p>Steps for any given loss function</p>
<ol type="1">
<li>Compute the value for the loss function for original model</li>
<li>For variable i in {1,â€¦,p}
<ol type="1">
<li>Permute values of explanatory variable</li>
<li>Apply given ML model</li>
<li>Calculate value of loss function</li>
<li>Compute feature importance (permuted loss / original loss)</li>
</ol></li>
<li>Sort variables by descending feature importance</li>
</ol></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-featureImportance-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-featureImportance-1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"surface"</span>,<span class="st">"floor"</span>,<span class="st">"construction.year"</span>,<span class="st">"no.rooms"</span>,<span class="st">"district"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">model_parts</span>(<span class="at">explainer =</span> explainer_rf, </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">loss_function =</span> loss_root_mean_square,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">B =</span> <span class="dv">50</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">variables =</span> vars)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"ggplot2"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(vip<span class="fl">.50</span>) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Mean variable-importance over 50 permutations"</span>, <span class="st">""</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Box-plot represents the distribution of importance values for that variable</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-datlev-pdp" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-datlev-pdp">Partial Dependence Profiles (PDPs)</h4>
<ul>
<li><p><u>Misc</u></p>
<ul>
<li>From <a href="https://ema.drwhy.ai/partialDependenceProfiles.html">Chapter 17</a></li>
<li>The PDP curve represents the average prediction across all observations while holding a predictor, x, at a constant value
<ul>
<li>Keep a new data pt constant and calculate a prediction for each observed value of the other predictors then take the average of the predictions</li>
<li>Partial Dependence profiles are averages of Ceteris-Paribus profiles</li>
</ul></li>
<li>When comparing PDPs between Regression and Tree models, expect to see flatter areas for tree models as they tend to shrink predictions towards the average and they are not very good for extrapolation outside the range of values observed in the training dataset.</li>
<li>For additive models, CP profiles are parallel. For models with interactions, CP profiles may not be parallel.</li>
</ul></li>
<li><p><u>Use Cases</u></p>
<ul>
<li>Agreement between profiles for different models is reassuring. Some models are more flexible than others. If PD profiles for models, which differ with respect to flexibility, are similar, we can treat it as a piece of evidence that the more flexible model is not overfitting and that the models capture the same relationship.</li>
<li>Disagreement between profiles may suggest a way to improve a model. If a PD profile of a simpler, more interpretable model disagrees with a profile of a flexible model, this may suggest a variable transformation that can be used to improve the interpretable model. For example, if a random forest model indicates a non-linear relationship between the dependent variable and an explanatory variable, then a suitable transformation of the explanatory variable may improve the fit or performance of a linear-regression model.
<ul>
<li><p>Example:</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-mod-comp-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-mod-comp-1.png" class="img-fluid" width="502"></a></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>pdp_lmr <span class="ot">&lt;-</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model_profile</span>(<span class="at">explainer =</span> explainer_lmr, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">variables =</span> <span class="st">"age"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>pdp_rf <span class="ot">&lt;-</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model_profile</span>(<span class="at">explainer =</span> explainer_rf, </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">variables =</span> <span class="st">"age"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rf, pdp_lmr) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Partial-dependence profiles for age for two models"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Left: Indicates that the linear regression isnâ€™t capturing u-shape relationship</li>
<li>Right: Indicates that the RF may be underestimating the effect</li>
</ul></li>
</ul></li>
<li>Evaluation of model performance at boundaries. Models are known to have different behaviour at the boundaries of the possible range of a dependent variable, i.e., for the largest or the lowest values. For instance, random forest models are known to shrink predictions towards the average, whereas support-vector machines are known for a larger variance at edges. Comparison of PD profiles may help to understand the differences in modelsâ€™ behaviour at boundaries.</li>
</ul></li>
<li><p><u>Checks</u></p>
<ul>
<li>Highly Correlated Variables
<ul>
<li>PD profiles inherit the limitations of the CP profiles. In particular, as CP profiles are problematic for correlated explanatory variables may offer a crude and potentially misleading summarization</li>
<li>If highly correlated, use Accumulated Local Profies</li>
</ul></li>
<li>Check CP profile for consistent behavior
<ul>
<li><p>PD profiles are estimated by the mean of the CP profiles for all instances (observations) from a dataset (i.e.&nbsp;CP profiles are instance-level PD profiles).</p></li>
<li><p>The mean (i.e.&nbsp;PD) may not be representative of the relationship of the variable and the response</p></li>
<li><p>If the CP prole lines are parallel, then the PD profile is representative</p></li>
<li><p>Solutions (If not parallel):</p>
<ul>
<li>Cluster CP profiles - Cluster the CP profiles (e.g.&nbsp;k-means) and the entroids will be the PD lines
<ul>
<li><p><span class="ribbon-highlight">Example</span></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-cluster-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-cluster-1.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>pdp_rf_clust <span class="ot">&lt;-</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model_profile</span>(<span class="at">explainer =</span> explainer_rf, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">variables =</span> <span class="st">"age"</span>, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">k =</span> <span class="dv">3</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rf_clust, </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">geom =</span> <span class="st">"profiles"</span>) <span class="sc">+</span> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Clustered partial-dependence profiles for age"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li>Grouped-by CP profiles - Group CP profiles by a moderator variable
<ul>
<li><p>Distinctive PD lines can indicate an interaction</p></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-groupby-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-groupby-1.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>pdp_rf_gender <span class="ot">&lt;-</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model_profile</span>(<span class="at">explainer =</span> explainer_rf, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">variables =</span> <span class="st">"age"</span>, </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">groups =</span> <span class="st">"gender"</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rf_gender, </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">geom =</span> <span class="st">"profiles"</span>) <span class="sc">+</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Partial-dependence profiles for age, grouped by gender"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Gender looks like a good candidate for an interaction</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: RF survival model</p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-check-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-pdp-check-1.png" class="img-fluid" width="432"></a></p>
<ul>
<li>The shape of the PD profile does not capture, for instance, the shape of the group of five CP profiles shown at the top of the panel.</li>
<li>It does seem to reflect the fact that the majority of CP profiles (predicted probabilities below 0.75) suggest a substantial drop in the predicted probability of survival for the ages between 2 and 18.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Steps</u></p>
<ol type="1">
<li>Determine grid space of j evenly spaced values across distribution of selected predictor, x</li>
<li>For value i in {1,â€¦,j} of grid space
<ol type="1">
<li>set x == i for all n observations (x is a constant variable)</li>
<li>apply given ML model</li>
<li>estimate n predicted values</li>
<li>calculate the average predicted value</li>
</ol></li>
<li>graph y_hat vs x</li>
</ol></li>
<li><p><u>Code</u></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pdp_rf <span class="ot">&lt;-</span> <span class="fu">model_profile</span>(<span class="at">explainer =</span> explainer_rf, <span class="at">variables =</span> <span class="st">"age"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"ggplot2"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pdp_rf) <span class="sc">+</span>  <span class="fu">ggtitle</span>(<span class="st">"Partial-dependence profile for age"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Other Args
<ul>
<li><p><span class="arg-text">N</span> - The number of (randomly sampled) observations that are to be used for the calculation of the PD profiles (N = 100 by default); N = NULL implies the use of the entire dataset included in the explainer-object.</p></li>
<li><p><span class="arg-text">variable_type</span> - A character string indicating whether calculations should be performed only for â€œnumericalâ€ (continuous) explanatory variables (default) or only for â€œcategoricalâ€ variables.</p></li>
<li><p><span class="arg-text">groups</span> - The name of the explanatory variable that will be used to group profiles, with groups = NULL by default (in which case no grouping of profiles is applied).</p></li>
<li><p><span class="arg-text">k</span> - The number of clusters to be created with the help of the <code>hclust()</code> function, with k = NULL used by default and implying no clustering.</p></li>
<li><p><span class="arg-text">geom = â€œprofilesâ€</span> in the <code>plot</code> function, we add the CP profiles to the plot of the PD profile.</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-dalex-datlev-funnel" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-modagn-dalex-datlev-funnel">Funnel Plot</h4>
<ul>
<li><p>From <span style="color: #990000">{</span><a href="https://modeloriented.github.io/DALEXtra/" style="color: #990000">DALEXtra</a><span style="color: #990000">}</span>, lets us find subsets of data where one of models is significantly better than other ones.</p></li>
<li><p>Very useful in situations where we have models that have similiar overall performance, but where predictive performance of units with certain characteristics are more important to our business than others.</p></li>
<li><p>Can be used to create a sort of ensemble model where predictions from different models are used depending on the values of the predictors.</p></li>
<li><p><span class="ribbon-highlight">Example</span></p>
<p><a href="_resources/Diagnostics,_Model_Agnostic.resources/dalex-funnel-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img src="_resources/Diagnostics,_Model_Agnostic.resources/dalex-funnel-1.png" class="img-fluid" width="632"></a></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>explainer_lm <span class="ot">&lt;-</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">explain_mlr</span>(model_lm, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>              apartmentsTest, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>              apartmentsTest<span class="sc">$</span>m2.price, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">label =</span> <span class="st">"LM"</span>, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">verbose =</span> <span class="cn">FALSE</span>, </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">precalculate =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>explainer_rf <span class="ot">&lt;-</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">explain_mlr</span>(model_rf, </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>              apartmentsTest, </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>              apartmentsTest<span class="sc">$</span>m2.price, </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">label =</span> <span class="st">"RF"</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">verbose =</span> <span class="cn">FALSE</span>, </span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">precalculate =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a> plot_data <span class="ot">&lt;-</span> </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">funnel_measure</span>(explainer_lm, </span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>                  explainer_rf,</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>                  <span class="at">partition_data =</span> <span class="fu">cbind</span>(apartmentsTest,</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">"m2.per.room"</span> <span class="ot">=</span> apartmentsTest<span class="sc">$</span>surface<span class="sc">/</span>apartmentsTest<span class="sc">$</span>no.rooms),</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">nbins =</span> <span class="dv">5</span>, </span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">measure_function =</span> DALEX<span class="sc">::</span>loss_root_mean_square, </span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">show_info =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="arg-text">nbins</span> is the number of bins to partition continuous variables into.</li>
<li><span class="arg-text">measure_function</span> is the metric used to judge each model. Here RMSE is used.</li>
<li><u>Length of segment is the difference in prediction performance. The longer the segments are, the better that model is at predicting for those subsets of data.</u></li>
<li>For the most expensive and the cheapest (i.e.&nbsp;first and last bin of <span class="var-text">m2.price</span>), the linear regression model performs best, while the random forest model performs best average priced (i.e.&nbsp;middle 3 bins of <span class="var-text">m2.price</span>) apartments.</li>
<li>The linear regression is extremely better at predicting prices for apartments in the Srodmiescie <span class="var-text">district</span>.</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="sec-diag-modagn-triplot" class="level2">
<h2 class="anchored" data-anchor-id="sec-diag-modagn-triplot">triplot</h2>
<ul>
<li><p>Misc</p>
<ul>
<li><a href="https://github.com/ModelOriented/triplot">Github</a>, <a href="https://cran.r-project.org/web/packages/triplot/index.html">Docs</a></li>
<li>Takes into account the correlation structure when assessing variable importance; global and local explanations</li>
<li>Triplot Features:
<ul>
<li>The importance of every single feature,</li>
<li>Hierarchical aspects importance,</li>
<li>Order of grouping features into aspects.</li>
</ul></li>
</ul></li>
<li><p>Global Triplot<br>
<a href="_resources/Diagnostics,_Model_Agnostic.resources/triplot-global-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="_resources/Diagnostics,_Model_Agnostic.resources/triplot-global-1.png" class="img-fluid" width="632"></a></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mod_explainer <span class="ot">&lt;-</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  DALEX<span class="sc">::</span><span class="fu">explain</span>(model_obj, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> dat_without_target, </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> target_var, </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>triplot_global <span class="ot">&lt;-</span> </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  triplot<span class="sc">::</span><span class="fu">model_triplot</span>(mod_explainer, </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">B =</span> num_permutations, </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">N =</span> num_rows_sampled, </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>                         corr_method)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(triplot_global)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Currently only correlation methods for numeric features supported</li>
<li>Using small numbers of rows for permutations (N arg) will cause unstable results</li>
<li>Left Panel
<ul>
<li>The global importance of every single feature</li>
<li>Permutation feature importance used</li>
</ul></li>
<li>Center Panel
<ul>
<li>The importance of groups of variables determined by the hierarchical clustering</li>
<li>Importance calcâ€™d by permutation feature importance</li>
<li>Numbers to left of the split point is the group importance</li>
</ul></li>
<li>Right Panel
<ul>
<li>Correlation structure visualized by hierarchical clustering</li>
<li>Guess this is the same as the middle panel but a correlation method is used instead of feature importance</li>
</ul></li>
<li>Interpretation: Use the middle panel to see if adding correlated features increases group importance.
<ul>
<li>Adding too many for little gain in importance may not be worth it, depending on sample size.</li>
<li>Might be useful for deciding whether or not to create a combined feature</li>
</ul></li>
<li>Unclear on the technical details on how or what exactly is being clustered.</li>
</ul></li>
<li><p>predict_triplot (local)</p>
<ul>
<li><p>Like breakdown or shapley in that itâ€™s goal is to assess the feature contribution to the prediction</p>
<ul>
<li>variables can have negative or positive contributions to the prediction value</li>
</ul></li>
<li><p>Combines the approach to explanations used by LIME methods and visual techniques introduced in a global triplot</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># slice a row of original dataset that you want an explanation of the model prediction</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>target_row <span class="ot">&lt;-</span> df <span class="sc">%&lt;%</span> <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>triplot_local <span class="ot">&lt;-</span> triplot<span class="sc">::</span><span class="fu">predict_triplot</span>(mod_explainer, target_row, <span class="at">N =</span> num_rows_sampled, corr_method)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(triplot_local)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>same interpretation as model_triplot but for explaining the prediction of a target observation</p></li>
<li><p>left panel</p>
<ul>
<li>the contribution to the prediction of every single feature</li>
</ul></li>
<li><p>middle panel</p>
<ul>
<li>the contribution of aspects, that are built in the order determined by the hierarchical clustering</li>
</ul></li>
<li><p>right panel</p>
<ul>
<li>correlation structure of features visualized by hierarchical clustering</li>
</ul></li>
</ul></li>
<li><p>predict_aspects (local)</p>
<ul>
<li><p><em>aspects</em> are groups of variables that can be thought of as latent variables</p>
<ul>
<li>can use the middle or right panel from predict_triplot to get ideas on how to group your variables</li>
<li>thereâ€™s also a group_variables helper function that can group vars by a correlation cutoff value</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># group variables</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>fifa_aspects <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">"age"</span> <span class="ot">=</span> <span class="st">"age"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">"body"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"height_cm"</span>, <span class="st">"weight_kg"</span>),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">"attacking"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"attacking_crossing"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"attacking_finishing"</span>,&nbsp;</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"attacking_heading_accuracy"</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"attacking_short_passing"</span>,&nbsp;</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"attacking_volleys"</span>))</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare aspect importances from different models</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>pa_rf <span class="ot">&lt;-</span> <span class="fu">predict_aspects</span>(rf_explainer,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">new_observation =</span> target_row,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">variable_groups =</span> fifa_aspects)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>pa_gbm <span class="ot">&lt;-</span> <span class="fu">predict_aspects</span>(gbm_explainer,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">new_observation =</span> top_player,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">variable_groups =</span> fifa_aspects)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pa_rf, pa_gbm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>output is two, side-by-side aspect importance plots
<ul>
<li>but theyâ€™re more like contribution plots, where aspects can have positive or negative contributions to the predicted value</li>
</ul></li>
<li>Can be used to compare models
<ul>
<li>examples
<ul>
<li>if one model underpredicts a target observation more than another model, how do the feature contributions to that prediction differ between the two models?</li>
<li>are there different aspects more important in one model than the other?</li>
<li>if theyâ€™re the same aspects at the top, does one aspect stand out in one model while in the other model the importance values are more evenly spread?</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-auditor" class="level2">
<h2 class="anchored" data-anchor-id="sec-diag-modagn-auditor">auditor</h2>
<ul>
<li>For <em>GOF measure</em>, <em>model similarity comparison</em> using residuals. Also, uses residual plots and scores to check for <em>asymmetry</em> (around zero) in the distribution, <em>trends</em>, and <em>heteroskedacity</em>.</li>
<li>Auditor objects only require a predict function and response var in order to be created.</li>
<li><em>Usually</em> scores use score(auditor_obj, type = â€œ?â€, â€¦), plots use plot(auditor_obj, type = â€œ?â€, â€¦ )</li>
<li>Plot function can facet multiple plots, e.g.&nbsp;plot(mod1, mod2, mod3, type = c(â€œModelRankingâ€, â€œPredictionâ€), variable = â€œObserved responseâ€, smooth = TRUE, split = â€œmodelâ€). smooth = TRUE adds a trend line. Split arg splits prediction vs observed plot into plots for each model.</li>
<li>Regression Error Characteristic (REC) plot- <strong>GOF measure</strong> - type = â€œRECâ€ - The y-axis is the percentage of residuals less than a certain tolerance (i.e.&nbsp;size of the residual) with that tolerance on the x-axis. The shape of the curve illustrates the behavior of errors. The quality of the model can be evaluated and compared for different tolerance levels. The stable growth of the accuracy does not indicate any problems with the model. A small increase of accuracy near 0 and the areas where the growth is fast signalize bias of the model predictions (jagged curve).</li>
<li>Area Over the REC Curve (AOC) score - <strong>GOF measure</strong> - type = â€œRECâ€ - is a biased estimate of the expected error for a regression model. Provides a measure of the overall performance of regression model. Smaller is better Iâ€™d think.</li>
<li>Regression Receiver Operating Characteristic (RROC) plot - type = â€œRROCâ€ - for regression to show model <strong>asymmetry</strong>. The RROC is a plot where on the x-axis we depict total over-estimation and on the y-axis total under-estimation.</li>
<li>Area Over the RROC Curve score - <strong>GOF measure</strong> - type = â€œRROCâ€ - equivalent to the error variance. Smaller is better Iâ€™d think</li>
<li>Model Ranking plot and table - <strong>Multi-GOF measure</strong> - type = â€œModelRankingâ€ - radar plot of potentially five scores: MAE, MSE, RMSE, and the AOC scores for REC and RROC. Theyâ€™ve been scaled in relation to the model with the best score for that particular metric. Best model for a particular metric will be farthest away from the center of the plot. In the table, larger scaled score is better while lower is better in the plain score column. You can also add a custom score function but you need to make sure that a lower value = best model.</li>
<li>Residuals Boxplot - <strong>asymmetry measure</strong> - type = â€œResidualBoxplotâ€ - Pretty much the same as a regular boxplot except thereâ€™s a red dot which stands for the value of Root Mean Square Error (RMSE). Values are the absolute value of the residuals. Best models will have medians around zero and small spreads (i.e.&nbsp;short whiskers). Example in the documentation has a good example showing how a long whisker pulls the RMSE which is sensitive to outliers towards the edge of the box.</li>
<li>Residual Density Plot - <strong>asymmetry measure</strong> - type = â€œResidualDensityâ€ - detects the incorrect behavior of residuals. For linear regressions, residuals should be normally distributed around zero. For other models, non-zero centered residuals can indicate bias. Plot has a rug which makes it possible to ascertain whether there are individual observations or groups of observations with residuals significantly larger than others. Can specify a cat predictor variable and see the shape of the density of residuals w.r.t. the levels of that variable.</li>
<li>Two-sided ECDF Plot - type = â€œTwoSidedECDFâ€ - stands for Empirical Cumulative Distribution Functions. Thereâ€™s an cumulative distribution curve for each positive and negative residuals. The plot shows the distribution of residuals divided into groups with positive and negative values. It helps to identify the <strong>asymmetry</strong> of the residuals. Points represent individual error values, what makes it possible to identify â€˜outliersâ€™</li>
<li>Residuals vs Fitted and autocorrelation plots - type = â€œResidualâ€, type = â€œAutocorrelationâ€ - same thing as base R plot. Any sort of grouping, <strong>trend</strong>, or pattern suggests an issue. Looking for randomness around zero. Can specify a cat predictor variable and see the trend of residuals w.r.t. the levels of that variable.</li>
<li>Autocorrelation Function Plot (ACF) - <strong>autocorrelation check</strong> - type = â€œACFâ€ - same evaluation as a ACF plot for time series</li>
<li>Scale-Location Plot - type = â€œScaleLocationâ€ - The y-axis is the sqrt(abs(std_resids)) and x-axis is fitted values. Different from Resid vs Fitted since that plot uses raw residuals instead of scaled. Equation shows the resids are divided by their std.dev, so that should fix the variance at 1. The presence of any <strong>trend</strong> suggests that the variance depends on ï¬tted values, which is against the assumption of homoscedasticity. Not every model has an explicit assumption of homogeneous variance, however, the <strong>heteroscedasticity</strong> may indicates potential problems with the goodness-of-ï¬t. Residuals formed into separate groups suggest a problem with model structure (specification?)</li>
<li>Peak Test - - type = â€œPeakâ€ - tests for <strong>heteroskedacity</strong>. Scoreâ€™s range is (0, 1]. Close to 1 means heteroskedacity present.</li>
<li>Half-Normal Plot - <strong>GOF measure</strong> - type = â€œHalfNormalâ€ - graphical method for comparing two probability distributions by plotting their quantiles against each other. Method takes info from the model and simulates response values. Your model is then fitted with the simulated response variable and residuals created. A dotted line 95% CI envelope is created from these simulated residuals. If your residuals come from the normal distribution, they are close to a straight dotted line. However, even if there is no certain assumption of a speciï¬c distribution, points still show a certain trend. Simulated envelopes help to verify the correctness of this trend. For a good-ï¬tted model, diagnostic values should lay within the envelope.</li>
<li>Half-Normal Score - <strong>GOF measure</strong>&nbsp;- scoreHalfNormal(auditor_obj)
<ol type="1">
<li>Count the number of simulated residuals for observation_i that are greater or equal than resid_i. If the number is around 0.5 the number of simulated residuals, m, then the model residual doesnâ€™t differ that much from the simulated residuals which is a good thing.</li>
<li>That calc is repeated for each residual.</li>
<li>Score = sum(abs(count_i - (m/2)))</li>
<li>Scoreâ€™s range = [0, (nm)/2], where n is the number of observations</li>
<li>Lower value indicates better model fit.</li>
</ol></li>
<li>Model PCA Plot - <strong>Similarity of models comparison</strong> - type = â€œModelPCAâ€ - vector arrows represent the models and the gray dots are the model residuals. The smaller the angle between the models, the closer their residual structure. Arrows perpendicular the residual dots mean that modelâ€™s residuals likely represent that structure. Parallel means not likely to represent that structure.</li>
<li>Model Correlation Plot - <strong>Similarity of models comparison</strong> - type = â€œModelCorrelationâ€ - Densities in the diagonal are each models fitted response values. Correlations in upper right triangle are between models and between each model and the observed response.</li>
<li>Predicted Response Plot (aka predicted vs observed) - <strong>GOF measure</strong> - type = â€œPredictionâ€ - Should randomly envelop the diagonal line. Trends can indicate values of the response where the model over/under predicts. Groupings of residuals suggest problems in model specification.</li>
<li>Receiver Operating Characteristic (ROC) curve - classification <strong>GOF measure</strong> - type = â€œROCâ€ - True Positive Rate (TPR) (y-axis) vs False Positive Rate (FPR) (x-axis) on a threshold t (probability required to classify something as an event happening) where t has the range, [0,1]. Each point on the ROC curve represents values of TPR and FPR at different thresholds.&nbsp;The closer the curve is to the the left border and top border of plot, the more accurate the classiï¬er is.</li>
<li>AUC score&nbsp;- <strong>GOF measure</strong> - type = â€œROCâ€ - guideline is &gt; 0.80 is good.</li>
<li>LIFT charts - classification <strong>GOF measure</strong> - type = â€œLIFTâ€ - Rate of Positive Prediction (RPP) plotted (y-axis) vs number of True Positives (TP) (x-axis) on a threshold t.<br>
<a href="./_resources/Diagnostics,_Model_Agnostic.resources/unknown_filename.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/unknown_filename.png" class="img-fluid" width="232"></a> where P is the total positive classifications (TP + FP) predicted for that threshold and N is the total negative (TN + FN). The ideal model is represented with a orange/yellow curve. The model closer to the ideal curve is considered the better classifier.</li>
<li>Cookâ€™s Distances Plot - <strong>influential observations</strong>&nbsp;-&nbsp;type = â€œCooksDistanceâ€ - a tool for identifying observations that may negatively affect the model. They can be also used for indicating regions of the design space where it would be good to obtain more observations. Data points indicated by Cookâ€™s distances are worth checking for validity. Cookâ€™s Distances are calculated by removing the i-th observation from the data and recalculating the model. It shows an inï¬‚uence of i-th observation on the model.&nbsp;The 3 observations (default value) with the highest values of the Cookâ€™s distance are marked with the row number of the observation. The guideline seems to be a Cookâ€™s Distance (y-axis) &gt; 0.5 warrants further investigation.</li>
</ul>
</section>
<section id="sec-diag-modagn-shap" class="level2">
<h2 class="anchored" data-anchor-id="sec-diag-modagn-shap">SHAP</h2>
<ul>
<li>Description
<ul>
<li>Decomposes predictions into additive contributions of the features</li>
<li>Builds model explanations by asking the same question for every prediction and feature: â€œHow does prediction i change when feature j is removed from the model?â€</li>
<li>Quantifies the magnitude and direction (positive or negative) of a featureâ€™s effect on a prediction.</li>
<li>Theoretical foundation in game theory</li>
</ul></li>
<li>Issues
<ul>
<li>Cannot be used for causal inference</li>
<li>Highly correlated features
<ul>
<li>May be indictators for a latent feature.</li>
<li>These correlated features will have lower shap values than they would if only 1 were in the feature space.</li>
<li>Since shap values are additive, we can add the shap values of highly correlated variables to get an estimate of the importance of this potential latent feature. (seems like the sum might be an overestimation unless the variables are Very highly correlated.)</li>
<li>**See triplot section for handling models with highly correlated features</li>
</ul></li>
</ul></li>
<li>Packages
<ul>
<li><span style="color: #990000">{shapper}</span> - a wrapper for the Python library</li>
<li><span style="color: #990000">{fastshap}</span> - uses Monte-Carlo sampling</li>
<li><span style="color: #990000">{treeshap}</span>
<ul>
<li>fast</li>
<li>Handles correlated features by explicitly modeling the conditional expected prediction
<ul>
<li>Disadvantage of this method is that features that have no influence on the prediction can get a TreeSHAP value different from zero</li>
</ul></li>
<li>able to compute interaction values
<ul>
<li>Computing â€œresidualsâ€ might indicate how well shapley is capturing the contributions if the features are independent (<a href="https://towardsdatascience.com/shapley-residuals-measuring-the-limitations-of-shapley-values-for-explainability-d9cdc3582522">py article</a>)</li>
</ul></li>
</ul></li>
<li><span style="color: #990000">{kernelshap}</span>
<ul>
<li>permute feature values and make predictions on those permutations. Once we have enough permutations, the Shapley values are estimated using linear regression</li>
<li>Slow</li>
<li>Doesnâ€™t handle feature correlation. Leads to putting too much weight on unlikely data points.</li>
</ul></li>
</ul></li>
<li>Articles
<ul>
<li><a href="https://www.aidancooper.co.uk/a-non-technical-guide-to-interpreting-shap-analyses/">Explaining Machine Learning Models: A Non-Technical Guide to Interpreting SHAP Analyses</a>
<ul>
<li>Ultimate explainer</li>
</ul></li>
<li><a href="https://christophm.github.io/interpretable-ml-book/shap.html#shap">Interpretable Machine Learning</a> (ebook)
<ul>
<li>math, compares packages</li>
</ul></li>
</ul></li>
<li>Steps for the approximate Shapley estimation method (used in IML package below):
<ul>
<li>Choose single observation of interest</li>
<li>For variables j in {1,â€¦,p}
<ul>
<li>m = random sample from data set</li>
<li>t = rbind(m, ob)</li>
<li>f(all) = compute predictions for t</li>
<li>f(!j) = compute predictions for t with feature j values randomized</li>
<li>diff = sum(f(all) - f(!j))</li>
<li>phi = mean(diff)</li>
</ul></li>
<li>sort phi in decreasing order</li>
</ul></li>
<li>Interactions
<ul>
<li>SHAP values for two-feature interactions</li>
<li><a href="https://christophm.github.io/interpretable-ml-book/shap.html#shap-interaction-values">Resource</a></li>
<li><span class="ribbon-highlight">Example</span>: Years on hormonal contraceptives (continuous) interacts with STDs (binary)<br>
<a href="./_resources/Diagnostics,_Model_Agnostic.resources/image.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/image.png" class="img-fluid" width="432"></a></li>
<li>Interpretation
<ul>
<li>In cases close to 0 years, the occurence of a STD increases the predicted cancer risk.</li>
<li>For more years on contraceptives, the occurence of a STD reduces the predicted risk.</li>
<li>NOT a causal model. Effects might be due to confounding (e.g.&nbsp;STDs and lower cancer risk could be correlated with more doctor visits).</li>
</ul></li>
</ul></li>
<li>Cluster by shap value<br>
<a href="./_resources/Diagnostics,_Model_Agnostic.resources/image.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/image.1.png" class="img-fluid" width="532"></a>
<ul>
<li>See ebook <a href="https://christophm.github.io/interpretable-ml-book/shap.html#clustering-shapley-values">chapter</a> for more details</li>
<li>Plot is all the force plots ordered by similarity score
<ul>
<li>I think the â€œsimilarity scoreâ€ might come from the cluster model (i.e.&nbsp;a distance measure from from a hierarchical cluster)</li>
</ul></li>
<li>Interpretation: group of force plots on the far right shows that the features similarily contributed to that group of predictions</li>
</ul></li>
<li>Waterfall plots<br>
<a href="./_resources/Diagnostics,_Model_Agnostic.resources/waterfall.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/waterfall.png" class="img-fluid" width="632"></a>
<ul>
<li>An example waterfall plot for the individual case in the Boston Housing Price dataset that corresponds to the median predicted house</li>
<li>Interpretation example<br>
<a href="./_resources/Diagnostics,_Model_Agnostic.resources/image.2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/image.2.png" class="img-fluid" width="532"></a></li>
</ul></li>
<li>force plot - Examines influences behind one predicted value that you input to the function.<br>
<a href="./_resources/Diagnostics,_Model_Agnostic.resources/force_median.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/force_median.png" class="img-fluid" width="632"></a>
<ul>
<li>Red arrows represent feature effects (SHAP values) that drives the prediction value higher while blue arrows are those effects that drive the prediction value lower.</li>
<li>Each arrowâ€™s size represents the magnitude of the corresponding featureâ€™s effect.</li>
<li>The â€œbase valueâ€ (see the grey print towards the upper-left of the image) marks the modelâ€™s average prediction over the training set. The â€œoutput valueâ€ is the modelâ€™s prediction.</li>
<li>The feature values for the largest effects are printed at the bottom of the plot.</li>
</ul></li>
<li>decision plot - Examines influences behind one predicted value that you input to the function. Pretty much the same exact thing as the breakdown plot in DALEX.
<ul>
<li>The&nbsp;straight vertical line marks the modelâ€™s base value. The colored line is the prediction.</li>
<li>Starting at the bottom of the plot, the prediction line shows how the SHAP values (i.e., the feature effects) accumulate from the base value to arrive at the modelâ€™s predicted output at the top of the plot.</li>
<li>The feature name on the y-axis is bordered by 2 horzontal grid lines. In the graph, the way the prediction line behaves in between these horizontal grid lines of the feature visualizes the SHAP value, e.g.&nbsp;a negative slope would be equal to the blue arrow in the force plot.</li>
<li>The feature values for the largest effects are in parentheses.</li>
<li>For multi-variate classification
<ul>
<li>Using lines instead of bars (like in breakdown plots) allows it to visualize the influences behind a multi-class outcome prediction where each line is for a category level probability. But the x-axis actually represents the raw (SHAP?) score, not a probability. (I think thereâ€™s an option for x-axis as probabilities)</li>
<li>The magnitude of score shows strength of confidence in the prediction. A negative score says the model thinks that category level is <em>not</em> the case. For example, if the category level is â€œno diseaseâ€, then a large negative score means the model says thereâ€™s strong evidence that disease is present (score was -2.12 so I guess thatâ€™s strong).</li>
</ul></li>
<li>Can vary one predictor between a range or set of specific values and keep the rest of predictors constant. For classification, you could ask which predictors dominate influence for high probability predictions? Then use the plot to compare predictor behavior.</li>
<li>Can compare how influences are different for an observation by multiple models.</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-iml" class="level2">
<h2 class="anchored" data-anchor-id="sec-diag-modagn-iml">IML</h2>
<ul>
<li><p>Uses ggplot, so layers and customizations can be added. Package also has pdp, feature importance, lime, and shapley. Note from&nbsp;https://www.brodrigues.co/blog/2020-03-10-exp_tidymodels/, Bruno wrapped his predict function when he created a IML Predictor object. Also see article if working with workflow and cat vars, he an issue and workaround.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>predict_wrapper2 <span class="ot">&lt;-</span> <span class="cf">function</span>(model, newdata){</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">predict</span>(<span class="at">object =</span> model, <span class="at">new_data =</span> newdata)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>predictor2 <span class="ot">&lt;-</span> Predictor<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">model =</span> best_model_fit,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">data =</span> pra_test_bake_features,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">y =</span> target,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">predict.fun =</span> predict_wrapper2</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Acumulated Local Effect (ALE) - shows how the prediction changes locally, when the feature is varied</p>
<ul>
<li>aka Partial Dependence Plot</li>
<li>Chart has a distribution rug which shows how relevant a region is for interpretation (little or no points mean that we should not over-interpret this region)</li>
</ul></li>
<li><p>Individual Conditional Expectation (ICE)</p>
<ul>
<li>These are curves for a chosen feature that illustrate the predicted value for each observation when we force each observation to take on the unique values of that feature.</li>
<li>Steps for a selected predictor, x:
<ol type="1">
<li>Determine grid space of j evenly spaced values across distribution of x</li>
<li>For value i in {1,â€¦,j} of grid space
<ol type="1">
<li>set x == i for all n observations (x is a constant variable)</li>
<li>apply given ML model</li>
<li>estimate n predicted values</li>
</ol></li>
</ol></li>
<li>The only thing thatâ€™s different here from pdp is that the predicted values, y_hats,&nbsp; for a particular x value arenâ€™t averaged in order to produce a smooth line across all the x values. It allows us to see the distribution of predicted values for each value of x.
<ul>
<li>For a categorical predictor: each category has boxplot and the boxplots are connected at their medians</li>
<li>For a numerical predictor: Its a multi-line graph with each line representing row in the training set.</li>
<li>The pdp line is added and highlighted with arg, method = â€œpdp+iceâ€.</li>
</ul></li>
</ul></li>
<li><p>Interaction PDP</p>
<ul>
<li>Visualizes the pdp for an interaction. Shows the how the effect of a predictor on the outcome varies when conditioned on another variable.
<ul>
<li>Example:
<ul>
<li>outcome (binary) = probability of getting overtime</li>
<li>predictor (numeric) = monthly_income</li>
<li>interaction_variable (character) = gender</li>
<li>pdp shows a multi-line chart with a distinct gap between male and female</li>
</ul></li>
</ul></li>
<li>Can be used in conjunction using the H-statistic below to find a strong interaction to examine with this plot</li>
</ul></li>
<li><p>H-statistic</p>
<ul>
<li>Measures how much of the variation of the predicted outcome depends on the interaction of the features.</li>
<li>Two approaches:
<ol type="1">
<li>Sort of an overall measure of a variableâ€™s interaction strength
<ul>
<li>Steps:
<ol type="1">
<li>for variable i in {1,â€¦,m}
<ul>
<li>f(x) = estimate predicted values with original model
<ul>
<li>Think this is a y ~ i model only</li>
</ul></li>
<li>pd(x) = partial dependence of variable i</li>
<li>pd(!x) = partial dependence of all features excluding i
<ul>
<li>Guessing each non-i variable gets itâ€™s own pd(!x)</li>
</ul></li>
<li>upper = sum(f(x) - pd(x) - pd(!x))</li>
<li>lower = variance(f(x))</li>
<li>Ï = upper / lower</li>
</ul></li>
<li>Sort variables by descending Ï (interaction strength)</li>
</ol></li>
<li>Ï = 0 means none of variation in the predictions is dependent on the interactions involving the predictor</li>
<li>Ï = 1 means all of the variation in the predictions is dependent on the interactions involving the predictor</li>
</ul></li>
<li>Measures the 2-way interaction strength of feature
<ul>
<li>Breaks down the overall measure into strength measures between a variable and all the other variables</li>
<li>Top variables in the first approach or variables of domain interest are usually chosen to be further examined with this method. This method will show if there are strong co-dependency relationships in the model</li>
<li>steps:
<ol type="1">
<li>i = a selected variable of interest</li>
<li>for remaining variables j in {1,â€¦,p}
<ul>
<li>pd(ij) = interaction partial dependence of variables i and j</li>
<li>pd(i) = partial dependence of variable i</li>
<li>pd(j) = partial dependence of variable j</li>
<li>upper = sum(pd(ij) - pd(i) - pd(j))</li>
<li>lower = variance(pd(ij))</li>
<li>Ï = upper / lower</li>
</ul></li>
<li>Sort interaction relationship by descending Ï (interaction strength)</li>
</ol></li>
</ul></li>
</ol></li>
<li>Computationally intensive as feature set grows
<ul>
<li>30 predictors for 3 different models =&nbsp;a few minutes</li>
<li>80 predictors for 3 different models = around an hour</li>
</ul></li>
</ul></li>
<li><p>Surrogate model</p>
<ul>
<li>Steps:
<ol type="1">
<li>Apply original model and get predictions</li>
<li>Choose an interpretable â€œwhite boxâ€ model (linear model, decision tree)</li>
<li>Train the interpretable model on the original dataset with the predictions of the black box model as the outcome variable</li>
<li>Measure how well the surrogate model replicates the prediction of the black box model</li>
<li>Interpret / visualize the surrogate model</li>
</ol></li>
</ul></li>
<li><p>Feature Importance</p>
<ul>
<li>the ratio of the model error after permutation to the original model error
<ul>
<li>You can specify the loss function
<ul>
<li>â€œrmseâ€ â€œmseâ€ â€œmaeâ€</li>
</ul></li>
<li>&nbsp;Anything 1 or less is interpreted as not important</li>
<li>Has error bars</li>
</ul></li>
<li>Can also used difference instead of ratio</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-modagn-easalluv" class="level2">
<h2 class="anchored" data-anchor-id="sec-diag-modagn-easalluv">easyalluvial</h2>
<ul>
<li><p>pdp plots using alluvial flows to display more than 2 dimensions at a time</p></li>
<li><p>helps to get an intuitive understanding how predictions of a certain ranges can be generated by the model</p>
<ul>
<li>Constricted alluvial paths indicate specific (or maybe a small range) predictor variable values are responsible for a certain range of outcome variable values</li>
<li>Spread-out alluvial paths indicate the value of the predictor probably isnâ€™t that important in determining that range of values of the outcome variable</li>
</ul></li>
<li><p>There are built-in functions for caret and parsnip models, but there are methods that allow you to use any model</p></li>
<li><p>packages</p>
<ul>
<li><span style="color: #990000"><a href="https://erblast.github.io/easyalluvial/">{easyalluvial}</a></span></li>
<li><span style="color: #990000"><a href="https://erblast.github.io/parcats/">{parcats}</a></span> - converts easyalluvial charts into interactive htmlwidget
<ul>
<li>tooltip also shows probability and counts</li>
</ul></li>
</ul></li>
<li><p>Steps</p>
<ul>
<li><p>Build model</p></li>
<li><p>Calculate pdp prediction values - <code>p = alluvial_model_response_parsnip(m, df, degree = 4, method = "pdp")</code></p>
<ul>
<li>arguments
<ul>
<li>m = model</li>
<li>df = data</li>
<li>degree = number of top importance variables to use</li>
<li>method =
<ul>
<li>â€œmedianâ€ is default which sets variables that are not displayed to median mode, use with regular predictions.</li>
<li>â€œpdpâ€ uses pdp method</li>
</ul></li>
<li>bins = number of flows for numeric predictors (not intervals, so not sure why they used â€œbinsâ€)</li>
<li>params_bin_numeric_pred = list, Default: list(bins = 5, center = T, transform = T, scale = T)
<ul>
<li>â€œpredâ€ = predictions so these are binned predictions of the outcome variable</li>
<li>transform = apply Yeo Johnson Transformation to predictions</li>
<li>These are params to another function, and I think you can adjust the binning function there.</li>
</ul></li>
<li>bin_labels: labels for the bins from low to high, Default: c(â€œLLâ€, â€œMLâ€, â€œMâ€, â€œMHâ€, â€œHHâ€)
<ul>
<li>High, High (HH)</li>
<li>Medium, High (MH)</li>
<li>Medium (M)</li>
<li>Medium, Low (ML)</li>
<li>Low, Low (LL)</li>
</ul></li>
</ul></li>
<li>For numerics, 5 values (bins arg) in the range of each predictor is chosen
<ul>
<li>These arenâ€™t IQR values or evenly spaced so not sure what the process is</li>
<li>For categoricals, I guess each level is used. Not sure how a cat var with many levels is treated.</li>
</ul></li>
<li>predictions are calculated using the method in the method arg</li>
<li>predictions are transformed and binned into 5 range intervals (params_bin_numeric_pred arg)</li>
</ul></li>
<li><p>Plot <code>p</code> (just have to call the above function)</p>
<ul>
<li>can also add importance and marginal histograms</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>p_grid <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">add_marginal_histograms</span>(<span class="at">data_input =</span> df, <span class="at">plot =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">add_imp_plot</span>(<span class="at">p =</span> p, <span class="at">data_input =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>Extreme values</p>
<ul>
<li><p>Check if extreme values of the sample distribution are covered by the alluvial<br>
<a href="./_resources/Diagnostics,_Model_Agnostic.resources/unnamed-chunk-11-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/unnamed-chunk-11-1.png" class="img-fluid" width="332"></a></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>pred_train <span class="ot">=</span> <span class="fu">predict</span>(m)&nbsp;</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_hist</span>(<span class="st">'pred'</span>, p, df,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  &nbsp; &nbsp; &nbsp; &nbsp; <span class="at">pred_train =</span> pred_train, <span class="co"># pred_train can also be passed to add_marginal_histograms()</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">scale =</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>Distributions</p>
<ul>
<li>lstat is the sample distribution for the outcome variable</li>
<li>pred_train is the model predictions of sample data</li>
<li>pred is the predictions by the alluvial method using top importance variables</li>
</ul></li>
<li><p>Most of the extreme values are covered by the model predictions (pred_train), but the not the alluvial method.</p></li>
<li><p>If you want an alluvial with preds for the extreme values, see <a href="https://erblast.github.io/easyalluvial/articles/model_response.html">What feature combinations are needed to obtain predictions in the lower and higher ranges</a> in the docs.</p></li>
<li><p>Example - mlbench::BostonHousing; lstat(outcome var) percentage of lower status of the population; rf parsnip model</p>
<p><a href="./_resources/Diagnostics,_Model_Agnostic.resources/alluv1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/alluv1-1.png" class="img-fluid" width="532"></a></p></li>
<li><p>predictor variable labels:&nbsp;</p>
<ul>
<li>top number: value of the variable used in predictions</li>
<li>rest: fraction of the flows of that color (predictions bin range) pass through that stratum
<ul>
<li>e.g.&nbsp;49% of the medium-high lstat predictions involve medv = 5</li>
</ul></li>
</ul></li>
<li><p>method = â€œmedianâ€, note bottom where it shows that predictions are calculated using the median/mode values of variable</p></li>
<li><p>Example: mtcars; disp (outcome var)</p>
<p><a href="./_resources/Diagnostics,_Model_Agnostic.resources/README-unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img src="./_resources/Diagnostics,_Model_Agnostic.resources/README-unnamed-chunk-5-1.png" class="img-fluid" width="532"></a></p></li>
<li><p>histograms/density charts</p>
<ul>
<li>â€œpredictionsâ€: density shows the shape of the predictions distribution and sample distribtution; areas for HH, MH, M, ML, LL</li>
<li>predictors: shows sample density/histogram and location of the variable values used in the pdp predictions</li>
</ul></li>
<li><p>percent importance: variable importance for the model; â€œtotal_alluvialâ€ is the total importance of the predictor variables used in the pdp alluvial.</p></li>
<li><p>When comparing the distribution of the predictions against the original distribution of disp we see that the range of the predictions in response to the artificial dataspace do not cover all of the range of disp. Which most likely means that all possible combinations of the 4 plotted variables in combination with moderate values for all other predictors will not give any extreme values</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/diagnostics-mixed-effects.html" class="pagination-link" aria-label="Mixed Effects">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Mixed Effects</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/diagnostics-nlp.html" class="pagination-link" aria-label="NLP">
        <span class="nav-page-text">NLP</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../LICENSE.html">
<p>Creative Commons Attribution-NonCommercial 4.0 International License</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","loop":false,"descPosition":"bottom","openEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>