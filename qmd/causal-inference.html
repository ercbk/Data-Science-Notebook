<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Science - Causal Inference</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/classification.html" rel="next">
<link href="../qmd/business-plots.html" rel="prev">
<link href="../images/ds-favicon-32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/causal-inference.html">Causal Inference</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://ericbook.netlify.app/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-fill"></i></a>
    <a href="https://github.com/ercbk/Data-Science-Notebook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Algorithms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-learn-to-rank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learn-to-Rank</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-marketing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Marketing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Algorithms, Product</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-recommendation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommendation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anomaly Detection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Apache</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spark</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">APIs</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Association</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-copulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Copulas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/base-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-priors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Priors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-troubleshooting-hmc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting HMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/big-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Big Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/business-plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Business Plots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/causal-inference.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Causal Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-windows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Windows</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cloud-services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Cloud Services</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/confidence-and-prediction-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confidence &amp; Prediction Intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cross-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Validation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
 <span class="menu-text">CSS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recipes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/data.table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-dbt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DuckDB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-feature-stores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Stores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-lakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lakes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-normalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-nosql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NoSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-postgres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Postgres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-relational.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-warehouses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Warehouses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/decision-intelligence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Decision Intelligence</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
 <span class="menu-text">Diagnostics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-model-agnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Agnostic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-probabilistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">
 <span class="menu-text">Deep Learning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-audio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">DL, Audio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">General</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">DL, Graph</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Image</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Tabular</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">DL, Training</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">
 <span class="menu-text">Docker</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Docker, Fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Misc</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">
 <span class="menu-text">Econometrics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-discrete-choice-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Choice Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-fixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-mixed-effects-frequentist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-psa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity Score Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">EDA, Geospatial</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-multilevel-longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel, Longitudinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false">
 <span class="menu-text">Experiments</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-a_b-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">A/B Testing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-rct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RCT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-stepped-wedge-cluster-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Experiments, Stepped Wedge Cluster Design</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/extreme-value-theory-(evt).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Extreme Value Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false">
 <span class="menu-text">Feature Engineering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embeddings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-splines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Splines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-tokenization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tokenization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false">
 <span class="menu-text">Feature Reduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Feature Selection</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false">
 <span class="menu-text">Forecasting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-hierarchical_grouped.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical/Grouped</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonlinear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-statistical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/generalized-additive-models-(gam).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalized Additive Models</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false">
 <span class="menu-text">Geospatial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-remote-sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Remote Sensing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preprocessing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false">
 <span class="menu-text">Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">General</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-github-actions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Github Actions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/glossary-ds-terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary: DS terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gnu-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GNU Make</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false">
 <span class="menu-text">Google</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Google, Analytics, Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Google, Analytics, Reports</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-bigquery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BigQuery</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gtable-package.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">gtable package</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HTML</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/information-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/inkscape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inkscape</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false">
 <span class="menu-text">Job</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-management-leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Management / Leadership</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-on-the-job.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">On the job</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-organizational-and-team-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizational and Team Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JSON</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/kubernetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kubernetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LaTeX</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false">
 <span class="menu-text">LLMs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-agent-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent Chains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-fine-tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine Tuning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-prompt-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prompt Engineering</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/loss-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Loss Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="false">
 <span class="menu-text">Mathematics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-linear-algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/missingness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missingness</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MLOps</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="false">
 <span class="menu-text">Model Building</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-brms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">brms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-h2o-automl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2O AutoML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-modeltime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeltime</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-rstanarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sklearn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false">
 <span class="menu-text">Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-knowledge-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="false">
 <span class="menu-text">NLP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-sentiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentiment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-summarization-extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarization and Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-topic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-transformers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Transformers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/optimization-equation-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Package Development</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false">
 <span class="menu-text">Post-Hoc Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-ab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">A/B</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-emmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">emmeans</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Privacy</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false">
 <span class="menu-text">Production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-ml-monitoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">ML Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-analyses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Planning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas, Recipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-reticulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reticulate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/quarto-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regex</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="false">
 <span class="menu-text">Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-discrete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-interactions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multinomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-ordinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-regularized.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regularized</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Renv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scraping</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false">
 <span class="menu-text">Shiny</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-hosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hosting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mobile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI Examples</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/simulation-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation, Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreadsheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/stochastic-processes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Stochastic Processes</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false">
 <span class="menu-text">Surveys</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-census-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Census Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Design</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-sampling-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Tidyeval</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuning</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-diagrams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagrams</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/vs-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VS Code</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false">
 <span class="menu-text">Web</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-servers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Server</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-causinf-misc" id="toc-sec-causinf-misc" class="nav-link active" data-scroll-target="#sec-causinf-misc">Misc</a></li>
  <li><a href="#sec-causinf-causdes" id="toc-sec-causinf-causdes" class="nav-link" data-scroll-target="#sec-causinf-causdes">Causal Design</a></li>
  <li><a href="#sec-causinf-terms" id="toc-sec-causinf-terms" class="nav-link" data-scroll-target="#sec-causinf-terms">Terms</a></li>
  <li><a href="#sec-causinf-assoc" id="toc-sec-causinf-assoc" class="nav-link" data-scroll-target="#sec-causinf-assoc">Association</a></li>
  <li><a href="#sec-causinf-singpath" id="toc-sec-causinf-singpath" class="nav-link" data-scroll-target="#sec-causinf-singpath">Single path DAGs</a></li>
  <li><a href="#sec-causinf-dualpath" id="toc-sec-causinf-dualpath" class="nav-link" data-scroll-target="#sec-causinf-dualpath">Dual path DAGs</a></li>
  <li><a href="#sec-causinf-interv" id="toc-sec-causinf-interv" class="nav-link" data-scroll-target="#sec-causinf-interv">Intervention</a></li>
  <li><a href="#sec-causinf-confound" id="toc-sec-causinf-confound" class="nav-link" data-scroll-target="#sec-causinf-confound">Confounding</a></li>
  <li><a href="#sec-causinf-appsimp" id="toc-sec-causinf-appsimp" class="nav-link" data-scroll-target="#sec-causinf-appsimp">Application: Simpson’s Paradox Example</a></li>
  <li><a href="#sec-causinf-scms" id="toc-sec-causinf-scms" class="nav-link" data-scroll-target="#sec-causinf-scms">Structural Causal Models (SCMs)</a></li>
  <li><a href="#sec-causinf-ctrfact" id="toc-sec-causinf-ctrfact" class="nav-link" data-scroll-target="#sec-causinf-ctrfact">Counterfactuals</a></li>
  <li><a href="#sec-causinf-medanal" id="toc-sec-causinf-medanal" class="nav-link" data-scroll-target="#sec-causinf-medanal">Mediation Analysis</a></li>
  <li><a href="#sec-causinf-modanal" id="toc-sec-causinf-modanal" class="nav-link" data-scroll-target="#sec-causinf-modanal">Moderation Analysis</a></li>
  <li><a href="#sec-causinf-sr" id="toc-sec-causinf-sr" class="nav-link" data-scroll-target="#sec-causinf-sr">Statistical Rethinking</a>
  <ul>
  <li><a href="#sec-causinf-sr-misc" id="toc-sec-causinf-sr-misc" class="nav-link" data-scroll-target="#sec-causinf-sr-misc">Misc</a></li>
  <li><a href="#sec-causinf-sr-testimp" id="toc-sec-causinf-sr-testimp" class="nav-link" data-scroll-target="#sec-causinf-sr-testimp">Testable Implications</a></li>
  <li><a href="#sec-causinf-sr-shutbdr" id="toc-sec-causinf-sr-shutbdr" class="nav-link" data-scroll-target="#sec-causinf-sr-shutbdr">“Shutting the backdoor” to potential confounding paths</a></li>
  </ul></li>
  <li><a href="#sec-causinf-othart" id="toc-sec-causinf-othart" class="nav-link" data-scroll-target="#sec-causinf-othart">Other Articles</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-causinf" class="quarto-section-identifier">Causal Inference</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-causinf-misc" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-misc">Misc</h2>
<ul>
<li>Notes from
<ul>
<li><a href="https://fabiandablander.com/r/Causal-Inference.html" class="uri">https://fabiandablander.com/r/Causal-Inference.html</a></li>
</ul></li>
<li>Statistical models measure associations (e.g.&nbsp;linear, non-linear) which is mutual information among the variables
<ul>
<li>e.g.&nbsp;wind and leaves moving in a tree (doesn’t answer whether the leaves moving creates the wind or the wind creates leaving moving)</li>
</ul></li>
<li>Causal inference predicts the conseqences after an intervention (i.e.&nbsp;action)
<ul>
<li>You must know the direction of causation in order to predict the conseqences of an intervention (unlike measuring associations)</li>
<li>Answers the question, “What happens if I do this?”</li>
</ul></li>
<li>Causal inference is able to reconstruct unobserved counterfactual outcomes.
<ul>
<li>Answers the question, “What happens if I had done something else?”</li>
</ul></li>
<li>Causal assumptions are necessary in order to make causal inferences
<ul>
<li>multiple regression does not distinguish causes from confounds</li>
<li>p-values are not causal statements
<ul>
<li>Designed to control type I error rate</li>
</ul></li>
<li>AIC, etc are purely predictive</li>
</ul></li>
<li>Causal Experiment Assumptions
<ul>
<li>see tlverse workshop notes and ebook for listing of assumptions and definitions,&nbsp; <a href="https://tlverse.org/acic2019-workshop/intro.html#identifiability" class="uri">https://tlverse.org/acic2019-workshop/intro.html#identifiability</a>
<ul>
<li>The tlverse Project seeks to use ML models to calculate causal effects. Uses Super Learner ensembling and Targeted Maximum Likelihood Estimation (TMLE) which they call Targeted Learning.</li>
</ul></li>
<li>Ignorability - By randomly assigning treatment, researchers can ensure that the potential outcomes are independent of treatment assignment, so that the average difference in outcomes between the two groups can only be attributable to treatment</li>
</ul></li>
<li>Engineering outcome variables using potential adjustment variables does not automatically adjust for those variables in your model
<ul>
<li>Notes from <a href="https://elevanth.org/blog/2022/09/02/there-are-no-magic-outcome-variables/">There Are No Magic Outcome Variables</a></li>
<li><span class="ribbon-highlight">Example</span><br>
<a href="./_resources/Causal_Inference.resources/image.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="./_resources/Causal_Inference.resources/image.png" class="img-fluid" width="200"></a>
<ul>
<li>P is population density</li>
<li>X is the variable of interest</li>
<li>GDP and P have been used to create GDP/P</li>
<li>P influences X and provides a backdoor path to GDP/P, so P must be adjusted for</li>
<li>Even if P doesn’t influence X, the point is that constructing GDP/P using P doens’t automatically adjust for P</li>
</ul></li>
</ul></li>
<li>Randomized experiments remove all paths from the treatment variable, X<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (623).png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="./_resources/Causal_Inference.resources/Screenshot (623).png" class="img-fluid" width="154"></a>
<ul>
<li>Adjusting for Z, B, and C can add precision to measurement of the treatment effect since they are causal to Y, but they aren’t necessary to get an unbiased estimate of the treatment effect.</li>
</ul></li>
<li>Table 2 fallacy (Notes from McElreath <a href="https://www.youtube.com/watch?v=KNPYUVmY3NM">video</a>, 2022 SR Lecture 6)<br>
<a href="./_resources/Causal_Inference.resources/tab2-fal.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="./_resources/Causal_Inference.resources/tab2-fal.png" class="img-fluid" width="200"></a>
<ul>
<li>The 2nd table presented in a paper is usually a summary of all the effects of a regression. The fallacy is that the coefficient of each variable is treated as causal.</li>
<li><span class="ribbon-highlight">Example</span>: The effect of HIV on Stroke
<ul>
<li>The model is lm(Stroke ~ HIV + Smoke + Age)
<ul>
<li>Only the coefficient of the HIV variable should be treated as causal and none of the other adjustment variables (Smoke, Age)</li>
</ul></li>
<li>The effects for Smoke and Age are only partial.</li>
<li>There are likely unobserved confounding variables, U, on the effect of Smoking on Stroke (e.g.&nbsp;other lifestyle variables).
<ul>
<li>Smoke is confounded so it’s causal estimate is biased</li>
<li>Age is also confounded since Smoke is now a collider and has been conditioned upon. This opens the non-causal path, Age-Smoke-U-Stroke.
<ul>
<li>Age-Smoke is frontdoor, but the backdoor path, Smoke-U, also becomes a backdoor path for Age once Smoke is conditioned upon. (aka sub-backdoor path)</li>
<li>So any open path that contains a backdoor path must also be closed</li>
</ul></li>
</ul></li>
</ul></li>
<li>Solutions
<ul>
<li>Don’t include effect estimates of adjustment variables</li>
<li>Explicitly interpret each effect estimate according to the causal model
<ul>
<li>See 2022 SR at the end of Lecture 6 where McElreath breaks down the interpretation of each adjustment variable estimated effect.</li>
</ul></li>
</ul></li>
</ul></li>
<li>Partial Identification (<strong>Handling Unobserved Confounds</strong>)
<ul>
<li>Misc
<ul>
<li>Also see
<ul>
<li>Paper: <a href="https://arxiv.org/abs/2312.03871">Hidden yet quantifiable: A lower bound for confounding strength using randomized trials</a> (<a href="https://github.com/jaabmar/confounder-lower-bound">code</a>)
<ul>
<li>Using RCT results and Observational data, this paper proposes a statistical test and a method for determining the lower bound confounder strength.</li>
<li>In the context of pharmacuticals, RCT results are evidently often released after FDA approval, but this method can be used in any field where there’s a combination of RCT and observational studies..</li>
</ul></li>
</ul></li>
</ul></li>
<li>Sometimes the confounding paths of a DAG model can be not be resolved.
<ul>
<li>For confounders that influence the treatment and outcome, see:
<ul>
<li>Structural Causal Models &gt;&gt; Bayesian examples</li>
<li>If there’s a mediator, see Other Articles &gt;&gt; Frontdoor Adjustment</li>
</ul></li>
<li>Measure proxies for the unobserved confound if it’s not practical/ethical to measure
<ul>
<li>i.e.&nbsp;If the confound is ability, then test scores, letters of recommendation, etc. could be proxies.
<ul>
<li><span class="ribbon-highlight">Example</span>: 2022 SR Lecture 10 <a href="https://www.youtube.com/watch?v=YrwL6t0kW2I&amp;list=PLDcUM9US4XdMROZ57-OIRtIK0aOynbgZN&amp;index=10">video</a>, <a href="https://github.com/rmcelreath/stat_rethinking_2022/blob/main/scripts_animation/10_confounds_poisson.r">code</a><br>
<a href="./_resources/Causal_Inference.resources/Screenshot (886).png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="./_resources/Causal_Inference.resources/Screenshot (886).png" class="img-fluid" width="400"></a>
<ul>
<li>A: Admitted to Grad School, G: Gender, D: Dept, u: Ability, T1,2,3: 3 Test Scores
<ul>
<li>Ability is latent variable/unobserved confounder</li>
<li>Test Scores are proxies for Ability</li>
</ul></li>
<li>Both models are fit simultaneously</li>
<li>Couldn’t find a way to use <span style="color: #990000">{brms}</span> to code this and Kurz didn’t included it in his brms SR book.</li>
</ul></li>
</ul></li>
</ul></li>
<li>A biased estimate is better than no estimate. It can provide an upper bound</li>
<li>Find a natural experiment or design one</li>
<li>Sensitivity Analysis
<ul>
<li>After the analyis, you should be able to make the statement, “In order for the confound to be responsible for the entire causal effect, it was have to be <this strength="">.”</this></li>
</ul></li>
</ul></li>
<li>Packages
<ul>
<li><span style="color: #990000">{</span><a href="https://r-causal.github.io/tipr/" style="color: #990000">tipr</a><span style="color: #990000">}</span> - Tools for tipping point sensitivity analyses</li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/konfound/" style="color: #990000">konfound</a><span style="color: #990000">}</span> (<a href="https://joss.theoj.org/papers/10.21105/joss.05779">vignette</a>): Utilizes a sensitivity analysis approach that extends from dichotomous outcomes and omitted variable sensitivity of previous approaches to continuous outcomes and evaluates both changes in estimates and standard errors.
<ul>
<li>ITCV (Impact Threshold of a Confounding Variable) - Generates statements about the correlation of an omitted, confounding variable with both a predictor of interest and the outcome. The ITCV index can be calculated for any linear model.</li>
<li>RIR (Robustness of an Inference to Replacement) - Assesses how replacing a certain percentage of cases with counterfactuals of zero treatment effect could nullify an inference. The RIR index is more general than the ITCV index.</li>
</ul></li>
</ul></li>
<li>Steps for using sensitivity analysis
<ol type="1">
<li>Perform a sensitivity analysis to determine plausibly how much of the causal effect is due to confounding paths
<ul>
<li>Assume the confound exists, model it’s consequences for different strengths/kinds of influence</li>
<li><span class="ribbon-highlight">Example</span>: 2022 SR Lecture 10 <a href="https://www.youtube.com/watch?v=YrwL6t0kW2I&amp;list=PLDcUM9US4XdMROZ57-OIRtIK0aOynbgZN&amp;index=10">video</a>, <a href="https://github.com/rmcelreath/stat_rethinking_2022/blob/main/scripts_animation/10_confounds_poisson.r">code</a> <a href="./_resources/Causal_Inference.resources/Screenshot (884).png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="./_resources/Causal_Inference.resources/Screenshot (884).png" class="img-fluid" width="400"></a>
<ul>
<li>A: Admitted to Grad School, G: Gender, D: Dept, u: Unobserved Confounder</li>
<li>Both models are fit simultaneously</li>
<li>Values for β and γ are specified and u is estimated as a parameter</li>
<li>I think Gender (G) is an interaction in both models which I didn’t think was possible given there are no arrows of influence from gender to u.
<ul>
<li>Since gender is a moderator it wouldn’t necessarily have to be an influence arrow, it would only need to be an arrow from G to the effect of u on D (see Moderator Analysis), so maybe this is kosher</li>
<li>Could also be that I’m misunderstanding McElreath’s code he uses to specify his models with <span style="color: #990000">{Rethinking}</span>.</li>
</ul></li>
<li>Couldn’t find a way to use <span style="color: #990000">{brms}</span> to code this and Kurz didn’t included it in his brms SR book.</li>
</ul></li>
</ul></li>
<li>Use previous studies that have effect strengths of those potential confounding variables</li>
<li>Compare the strengths from the previous studies to the strength determined from the sensitivity analysis. The difference is a good guess for the strength of the causal effect of your treatment variable.</li>
</ol></li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-causdes" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-causdes">Causal Design</h2>
<ul>
<li>Notes from McElreath <a href="https://www.youtube.com/watch?v=KNPYUVmY3NM">video</a></li>
<li>Misc
<ul>
<li>When trying to determine the relationship (e.g.&nbsp;linear, nonlinear) between variables and remove inconsequential variables, the Double Debiased ML procedure might be useful.
<ul>
<li><a href="https://towardsdatascience.com/double-debiased-machine-learning-part-2-bf990720a0b2">Double Debiased Machine Learning</a> - basic concepts, links to papers, videos</li>
<li><a href="https://econml.azurewebsites.net/">EconML</a> (Microsoft) and <a href="https://causalml.readthedocs.io/en/latest/">causalml</a> (Uber) has included the method in their libraries</li>
</ul></li>
</ul></li>
<li>When trying to infer causal relationships, we should not blindly enter all variables into a regression in order to “control” for them, but think carefully about what the underlying causal DAG could look like. Otherwise, we might induce spurious associations (e.g.&nbsp;confounding such as collider bias).</li>
<li>Overview
<ul>
<li>Make a causal model (i.e.&nbsp;DAG)
<ul>
<li>Need background information in order to make the causal assumptions represented in the DAG</li>
<li>DAGs only show whether or not a variable influences another, not how the influence occurs (e.g.&nbsp;DAGs can’t show interactions between variables or whether the association is non-linear)</li>
</ul></li>
<li>Use it to design data collection and statistical procedures</li>
</ul></li>
<li>Steps:
<ol type="1">
<li>Determine two variables of interest (exposure, outcome) that you want to determine if a causal relationship exists and what effect the exposure has.</li>
<li>Use domain knowledge or prior scholarship to determine the relevant variable and the likely associations between all variables in data</li>
<li>Create the DAG
<ol type="1">
<li>Identify the direct causal path between exposure and outcome</li>
<li>Identify other explanatory variables and label their directions of influence with each other, the exposure, and the outcome variable</li>
<li>Consider which variables (especially the exposure and the outcome) have unobserved variables influencing them.</li>
</ol></li>
<li>Analyze the DAG
<ol type="1">
<li>Identify colliders and use d-separation to determine conditional independencies</li>
<li>Identify additional paths (backdoor paths, sub-backdoor paths) between exposure and outcome</li>
<li>Use the backdoor criterion to determine the set of variables that need to be adjusted for in order to block all backdoor paths with only the direct causal path remaining open.</li>
<li>Add additional adjustment variables that are causal to the outcome variable (but don’t confound the treatment effect) in order to add precision to the estimate of the treatment effect</li>
</ol></li>
<li>Create simulated data that fits the DAG (i.e.&nbsp;a generative model)</li>
<li>Perform statistical analysis (i.e.&nbsp;SCMs) on the simulated data&nbsp; to make sure you can measure the causal effect.</li>
<li>Design experiment and collect the data</li>
<li>Run the statistical analysis on the collected data and calculate the average causal effect (ACE) under the assumptions that your DAG and model specifications are correct.</li>
<li>Based on your results, revise the DAG and SCM as necessary and repeat as necessary</li>
</ol></li>
<li>Bad Adjustment Variables (Code and more details included in 2022 SR, Lecture 6)
<ul>
<li>For all examples, Z is the adjustment variable that’s being considered; X is the treatment and Y is the outcome
<ul>
<li><strong>In each scenario, including Z produces a biased estimate of X, so the correct model is Y ~ X</strong>.</li>
</ul></li>
<li>M-bias<br>
<a href="./_resources/Causal_Inference.resources/bav-mb.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="./_resources/Causal_Inference.resources/bav-mb.png" class="img-fluid" width="150"></a>
<ul>
<li>Z doesn’t have a direct causal influence on the either X or Y, but when it’s conditioned upon it becomes a collider due to unobserved confounds that have a direct causal influence on X and Y.</li>
<li>Common issue in Political Science and network analysis</li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li>Y: Health of Person 2</li>
<li>X: Health of Person 1</li>
<li>Z: Friendship status
<ul>
<li>Pre-treatment variable (tend to be open to collider paths) since they could be friends before the exposure</li>
</ul></li>
<li>U: Hobbies of Person 1</li>
<li>V: Hobbies of Person 2</li>
</ul></li>
</ul></li>
<li>Post-Treatment Bias<br>
<a href="./_resources/Causal_Inference.resources/bav-ptb.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="./_resources/Causal_Inference.resources/bav-ptb.png" class="img-fluid" width="200"></a>
<ul>
<li>Z is a mediator and conditioning upon Z blocks the path from X to Y, but opens the backdoor path through the unobserved confound, U.</li>
<li>Common in medical studies&nbsp;&nbsp;</li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li>Y: Lifespan</li>
<li>X: Win Lottery</li>
<li>Z: Happiness</li>
<li>U: Contextual Confounds</li>
</ul></li>
</ul></li>
<li>Selection Bias<br>
<a href="./_resources/Causal_Inference.resources/bav-sb.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="./_resources/Causal_Inference.resources/bav-sb.png" class="img-fluid" width="150"></a>
<ul>
<li>Same as collider bias
<ul>
<li>This version adds an unobserved confounder</li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li>Y: Income</li>
<li>X: Education</li>
<li>Z: Values</li>
<li>U: Family</li>
</ul></li>
</ul></li>
<li>Case-Control Bias<br>
<a href="./_resources/Causal_Inference.resources/bav-ccb.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="./_resources/Causal_Inference.resources/bav-ccb.png" class="img-fluid" width="140"></a>
<ul>
<li>Z is a descendent. Since Z has information about Y, conditioning on it will narrow the variation of Y and distort the measured effect of X.</li>
<li>Also see Association &gt;&gt; Single Path DAGs &gt;&gt; Descendent</li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li>Y: Occupation</li>
<li>X: Education</li>
<li>Z: Income</li>
</ul></li>
</ul></li>
<li>Precision Parasite<br>
<a href="./_resources/Causal_Inference.resources/bav-pp.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="./_resources/Causal_Inference.resources/bav-pp.png" class="img-fluid" width="150"></a>
<ul>
<li>2 versions: with and without U
<ul>
<li>Without U, conditioning on Z removes variation from X and lessens (but doesn’t bias) the precision of the estimated effect of X on Y (i.e.&nbsp;inflated std.error)</li>
<li>With U, the effect of X is biased and that bias is amplified when Z is included.</li>
</ul></li>
</ul></li>
<li>Peer Bias<br>
<a href="./_resources/Causal_Inference.resources/bav-pb.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="./_resources/Causal_Inference.resources/bav-pb.png" class="img-fluid" width="150"></a>
<ul>
<li>Classic DAG of the Berkley Admission-Race-Department study</li>
<li>Also see Structural Causal Models &gt;&gt; Example (Bayesian Peer Bias)</li>
<li>X is race, E is department, Q is unobserved (e.g.&nbsp;student quality), Y is Admission</li>
<li>Department cannot be conditioned upon because it’s a collider with Q and would bias the estimate of X through a sub-backdoor path, X-E-Q-Y</li>
<li>Only the total effect of X on Y can be estimated (Y ~ X) since E cannot be conditioned upon but that’s not interesting and maybe not precise</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-terms" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-terms">Terms</h2>
<ul>
<li><span style="color: #009499"><strong>Average Causal Efffect (ACE)</strong></span> - average population effect that’s calculated from an intervention (see Counterfactual definition for info on Individual Causal Effects)
<ul>
<li>If X is binary, then <img src="./_resources/Causal_Inference.resources/unknown_filename.11.png" class="img-fluid"> &nbsp;is the average causal effect&nbsp;(see Simpson’s Paradox example)
<ul>
<li>Calculated from a contingency table</li>
</ul></li>
<li>Also, <img src="./_resources/Causal_Inference.resources/unknown_filename.22.png" class="img-fluid">
<ul>
<li>This looks like the interpretation of the slope in a regression model.</li>
</ul></li>
</ul></li>
<li><span style="color: #009499"><strong>Backdoor Criterion</strong></span> - A valid causal estimate is available if it is possible to condition on variables such that all backdoor paths are closed
<ul>
<li>Given two nodes, X and Y, an adjustment set,&nbsp;<strong>L</strong>, fulfills the backdoor criterion if&nbsp;
<ol type="1">
<li>no member in&nbsp;<strong>L</strong>&nbsp;is a descendant of X and</li>
<li>members in&nbsp;<strong>L</strong>&nbsp;block all backdoor paths (“shutting the backdoor”) between X and Y.</li>
</ol></li>
<li>Adjusting for&nbsp;<strong>L</strong>&nbsp;thus yields the causal effect of X→Y.</li>
<li>After executing an intervention, the conditional distribution in the observational DAG (seeing) will correspond to the interventional distribution (doing) when blocking the spurious path. (see Simpson’s Paradox example)</li>
</ul></li>
<li><span style="color: #009499"><strong>Backdoor Path</strong></span> - A non-causal path that enters a causal variable in a DAG rather than exits it.
<ul>
<li>e.g.&nbsp;the path that connects a collider to a causal variable points from the collider to the causal variable</li>
<li><span style="color: #009499"><strong>Sub-backdoor Path</strong></span> - this path begins with a frontdoor path but through conditioning on a variable, it opens a connecting backdoor path which biases the treatment effect
<ul>
<li>see Misc &gt;&gt; Table 1 Fallacy and Causal Design &gt;&gt; Bad Adjustment Variables &gt;&gt; Peer Bias</li>
</ul></li>
</ul></li>
<li>The <span style="color: #009499"><strong>causal effect</strong></span> is the distribution of Y when we change x, averaged over the distributions of the adjustment variables (Z)<a href="./_resources/Causal_Inference.resources/ql_14ca188fe155c25bae7b65ee05f51391_l3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="./_resources/Causal_Inference.resources/ql_14ca188fe155c25bae7b65ee05f51391_l3.png" class="img-fluid" width="483"></a></li>
<li><span style="color: #009499"><strong>Causal Hierarchy</strong></span> (lowest to highest)
<ul>
<li><em>Association</em>
<ul>
<li>associated action: <em>Seeing -</em> observational; observing the value of Y when X = x
<ul>
<li><img src="./_resources/Causal_Inference.resources/unknown_filename.5.png" class="img-fluid"> , observational distribution; What values Y would likely take on if X happened to equal x.</li>
</ul></li>
</ul></li>
<li><em>Intervention</em>
<ul>
<li>associated action (<span style="color: #009499"><strong>do-Calculus</strong></span>): <em>Doing</em> -&nbsp; experimental; observing the value of Y after setting X = x
<ul>
<li><img src="./_resources/Causal_Inference.resources/unknown_filename.6.png" class="img-fluid"> , interventional distribution; What values Y would likely take on if X would be set to x.</li>
<li>Using the <em>do</em> operator allows us to make inferences about the population but not individuals.</li>
<li>do(X) means to cut all of the backdoor paths into X, as if we did a manipulative experiment. The do-operator changes the graph, closing the backdoors.</li>
<li>The do-operator defines a causal relationship, because Pr(Y|do(X)) tells us the expected result of manipulating X on Y, given a causal graph.
<ul>
<li>We might say that some variable X is a cause of Y when Pr(Y|do(X)) &gt; Pr(Y|do(not-X)).
<ul>
<li>(makes more sense to me with a binary outcome, Pr(Y = 1|do(X), but maybe Y as a continuous variable can be defined a subset. …I dunno)</li>
</ul></li>
</ul></li>
<li>The ordinary conditional probability comparison, Pr(Y|X) &gt; Pr(Y|not-X), is not the same. It does not close the backdoor.</li>
<li>Note that what the do-operator gives you is not just the direct causal effect. It is the total causal effect through all forward paths.
<ul>
<li>To get a direct causal effect, you might have to close more backdoors.</li>
</ul></li>
<li>The do-operator can also be used to derive causal inference strategies even when some backdoors cannot be closed.</li>
</ul></li>
</ul></li>
<li><em>Counterfactual</em>
<ul>
<li>associated action: <em>Imagining</em>&nbsp;- what would be the outcome if the alternative would’ve happened.</li>
<li><em>Individual Causal Effects</em> can be calculated but it requires stronger assumptions and deeper understanding of the causal mechanisms
<ul>
<li>Need to research this part further.</li>
<li>If the underlying SCM is linear then the ICE = ACE.</li>
</ul></li>
</ul></li>
</ul></li>
<li>A <span style="color: #009499"><strong>collider</strong></span> along a path blocks that path. However, conditioning on a collider (or any of its descendants) unblocks that path
<ul>
<li>When a collider is conditioned upon, the change in the association between the two nodes it separates is called <span style="color: #009499"><strong>collider bias</strong>.</span>
<ul>
<li>e.g.&nbsp;if Z is a collider between X and Y, conditioning upon Z will induce an association between X and Y.</li>
</ul></li>
</ul></li>
<li>A <span style="color: #009499"><strong>conditioning set</strong></span>, <span class="math inline">\(L\)</span>, is the set of nodes we condition on (it can be empty).</li>
<li><span style="color: #009499"><strong>Confounding</strong></span> is the situation where a (possibly unobserved) common cause obscures the causal relationship between two or more variables.
<ul>
<li>There is more than one causal path between two nodes.</li>
<li>A causal effect of X on Y is confounded if&nbsp; <img src="./_resources/Causal_Inference.resources/unknown_filename.8.png" class="img-fluid"></li>
<li><em>Collider bias is a type of confounding</em>. When a collider is controlled for, a second (or more) path opens, and the effect is confounded</li>
</ul></li>
<li>X and Y are <span style="color: #009499"><strong>d-separated</strong></span> by&nbsp;[<strong>L</strong>&nbsp;if conditioning on all members in&nbsp;[<strong>L</strong>&nbsp;blocks all paths between the nodes, X and Y.
<ul>
<li>Tool for checking the conditional independencies which are visualized in DAGs.</li>
</ul></li>
<li>A <span style="color: #009499"><strong>descendant</strong></span> is a node connected to a parent node by that parent node’s outgoing arrow.</li>
<li><span style="color: #009499"><strong>Frontdoor Adjustment</strong></span> - In a causal chain with three nodes X→Z→Y, we can estimate the effect of X on Y <em>indirectly</em> by combining two distinct quantities: (Useful for when unobserved confounders prevent direct causal estimation)
<ol type="1">
<li>The estimate of the effect of X on Z, P(Z|do(X))</li>
<li>The estimate of the effect of Z on Y, P(Y|do(Z), X)</li>
</ol></li>
<li><span style="color: #009499"><strong>Frontdoor Path</strong></span> - a path that exits a causal variable in a DAG rather than enters it.
<ul>
<li>e.g.&nbsp;the path that connects a causal variable, X, to an outcome variable, Y, has an arrow that points from X to Y.</li>
</ul></li>
<li><span style="color: #009499"><strong>Markov Equivalence</strong></span> - A set of DAGs, each with the same conditional independencies</li>
<li><span style="color: #009499"><strong>Mediation Analysis</strong></span> -&nbsp;seeks to identify and explain the mechanism or process that underlies an observed relationship between an independent variable and a dependent variable via the inclusion of a third hypothetical variable, known as a <span style="color: #009499"><strong>mediator</strong></span> variable (z-variable in the DAGs of “pipes” below)
<ul>
<li>Including a mediator and the independent variable in a regression will result in the independent variable not being signficant and the mediator being significant.</li>
</ul></li>
<li><span style="color: #009499"><strong>Moderation Analysis</strong></span> - Like mediation analysis, it allows you to test for the influence of a third variable, Z, on the relationship between variables X and Y, but rather than testing a causal link between these other variables, moderation tests for when or under what conditions an effect occurs.</li>
<li>A node is a <span style="color: #009499"><strong>parent</strong></span> of another node if it has an outgoing arrow to that node</li>
<li>A <span style="color: #009499"><strong>path</strong></span> from X to Y is a sequence of nodes and edges such that the start and end nodes are X and Y, respectively.</li>
<li><span style="color: #009499"><strong>Residual Confounding</strong></span> occurs when a confounding variable is measured imperfectly or with some error and the adjustment using this imperfect measure does not completely remove the effect of the confounding variable.
<ul>
<li>Example: Women who smoke during pregnancy have a decreased risk of having a Down syndrome birth.
<ul>
<li>This is puzzling, as smoking is not often thought of as a good thing to do. Should we ask women to start smoking during pregnancy?</li>
<li>It turns out that there is a relationship between age and smoking during pregnancy, with younger women being more likely to indulge in this bad habit. Younger women are also less likely to give birth to a child with Down syndrome. When you adjust the model relating smoking and Down syndrome for the important covariate of age, then the effect of smoking disappears. But when you make the adjustment using a binary variable (age&lt;35 years, age &gt;=35 years), the protective effect of smoking appears to remain.</li>
</ul></li>
</ul></li>
<li><span style="color: #009499"><strong>Structural Causal Models (SCMs)</strong></span> - relate causal and probabilistic statements; each equation is a causal statement
<ul>
<li><img src="./_resources/Causal_Inference.resources/unknown_filename.23.png" class="img-fluid">
<ul>
<li>“:=” is the assignment operator</li>
<li>X is a direct cause of Y which it influences through the function f( )
<ul>
<li>where f is a statistical model</li>
</ul></li>
<li>The noise variables, ϵX and ϵY, are assumed to be independent.</li>
</ul></li>
<li>There are Stochastic and Deterministic SCMs. Deterministic SCMs presented in article.</li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-assoc" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-assoc">Association</h2>
<p><a href="./_resources/Causal_Inference.resources/unknown_filename.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="./_resources/Causal_Inference.resources/unknown_filename.png" class="img-fluid" width="600"></a><br>
<a href="./_resources/Causal_Inference.resources/unknown_filename.2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="./_resources/Causal_Inference.resources/unknown_filename.2.png" class="img-fluid" width="600"></a></p>
<ul>
<li>Far left: lm(Y ~ X); X and Y show a linear correlation when Z is NOT conditioned upon</li>
<li>Left: lm(Y ~ X + Z); X and Y show NO linear correlation when Z is conditioned upon</li>
<li>Right: lm(Y ~ X); X and Y show NO linear correlation when Z is NOT conditioned upon</li>
<li>Far Right:&nbsp; lm(Y ~ X + Z); X and Y show a linear correlation when Z is conditioned upon</li>
</ul>
</section>
<section id="sec-causinf-singpath" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-singpath">Single path DAGs</h2>
<p><a href="./_resources/Causal_Inference.resources/unknown_filename.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="./_resources/Causal_Inference.resources/unknown_filename.1.png" class="img-fluid" width="500"></a></p>
<ul>
<li>For each of these DAGs, Z would be the only member of the conditioning set.</li>
<li>The first 3 DAGs represent the scatter plots above
<ul>
<li>Z only blocks the path between X and Y when it’s conditioned upon.
<ul>
<li>X and Y are associated (e.g.&nbsp;linear correlation, mutual information, etc.) when Z is ignored</li>
<li>Conditioning on Z results in X and Y no longer being associated (i.e.&nbsp;conditional independence)</li>
</ul></li>
<li>The first and second DAGs are elemental confounds or relations called “<strong>Pipes</strong>.”
<ul>
<li>The left one
<ul>
<li>In general, DO NOT add these variables to your model
<ul>
<li>These paths are causal so they shouldn’t be blocked</li>
<li>If your goal isn’t causal inference, then adding these variables might provide predictive information</li>
<li>e.g.&nbsp;If there was a causal arrow from X to Y, the far left DAG would NOT have a backdoor path and therefore Z would not&nbsp; be conditioned upon to block the path, X-Z-Y
<ul>
<li>The path from X to Z is a frontdoor path since the arrow exits X.</li>
</ul></li>
</ul></li>
<li>Sometimes you DO condition on these variables
<ul>
<li>During mediation analysis, you condition on these variables as part of the process to determine how much of the effect goes through Z.</li>
<li>The mediation path can have an important interpretation depending on your research question
<ul>
<li>e.g.&nbsp;indirect descrimination
<ul>
<li>See <a href="https://ercbk.github.io/Statistical-Rethinking-Notebook/qmd/ch11.html" style="color: green">Statistical Rethinking &gt;&gt; Chapter 11</a> &gt;&gt; Conclusion of Berkeley Admissions example
<ul>
<li>also Lecture 9 2022 <a href="https://www.youtube.com/watch?v=nPi5yGbfxuo">video</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>The right one is a backdoor path and should be conditioned on.</li>
<li>Everything you can learn about Y from X (or vice versa) happens through Z, therefore learning about X separately provides no additional information</li>
<li>Z is traditionally labelled a <em>mediator</em></li>
</ul></li>
<li>The third DAG is an elemental confound&nbsp; or relation called a “<strong>Fork</strong>.”
<ul>
<li>In general, add these variables to your model</li>
<li>These are backdoor paths and are NOT causal</li>
<li>X and Y have a common cause in Z and some of the mutual information about Z they each contain, overlaps, and creates an association (when Z isn’t conditioned upon).</li>
</ul></li>
</ul></li>
<li>The fourth DAG is an elemental confound or relation called a “<strong>Collider</strong>.”<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (621).png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="./_resources/Causal_Inference.resources/Screenshot (621).png" class="img-fluid" width="285"></a>
<ul>
<li>In general, do NOT add these variables to your model</li>
<li>Z blocks the path between X and Y unless conditioned upon.</li>
<li>An association between X and Y is <em>induced</em>&nbsp; by conditioning on Z, lm(Y ~ X + Z)
<ul>
<li>X and Y are independent causes of Z. Z contains information about both X and Y, but X doesn’t contain any information about Y and vice versa.</li>
<li>A small X and a sufficiently large Y (and vice versa) can produce a Z = 1. So X and Y have compensatory relationship in causing Z.
<ul>
<li>i.e.&nbsp;For a given value of Z, learning something about X tells us what Y might have been.</li>
</ul></li>
</ul></li>
</ul></li>
<li>The last elemental confound or relation is called a “<strong>Descendent</strong>.”<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (132).png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="./_resources/Causal_Inference.resources/Screenshot (132).png" class="img-fluid" width="140"></a>
<ul>
<li>Conditioning on a descendent variable, D, is like conditioning on the variable, Z itself, but weaker. A descendent is a variable influenced by another variable.</li>
<li>Controlling for D will also control, to a lesser extent, for Z. The reason is that D has some information about Z. This will (partially) open the path from X to Y, because Z is a collider. The same holds for non-colliders. If you condition on a descendent of Z in the pipe, it’ll still be like (weakly) closing the pipe.</li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-dualpath" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-dualpath">Dual path DAGs</h2>
<p><a href="./_resources/Causal_Inference.resources/dp-dag1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img src="./_resources/Causal_Inference.resources/dp-dag1.png" class="img-fluid" width="300"></a></p>
<ul>
<li>Causal paths do not flow against arrows but associations can.</li>
<li>Two examples of DAGs representing confounding
<ul>
<li>These are the 2 middle DAGs above with an additional path from X to Y</li>
<li>If Z is NOT conditioned on (i.e.&nbsp;top path is not blocked), then the causal effect of X on Y would be confounded.</li>
</ul></li>
</ul>
<p><a href="./_resources/Causal_Inference.resources/unknown_filename.3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img src="./_resources/Causal_Inference.resources/unknown_filename.3.png" class="img-fluid" width="220"></a></p>
<ul>
<li>The paths from X to Y:
<ul>
<li>The path through Z matches the first DAG.
<ul>
<li>Therefore X and Y are conditionally independent given Z.</li>
</ul></li>
<li>The path through W matches the fourth DAG
<ul>
<li>Therefore X and Y are conditionally dependent given W.</li>
</ul></li>
</ul></li>
<li>The path through W (collider) is blocked unless W is conditioned upon</li>
<li>The path through Z is open unless Z is conditioned upon</li>
<li>If Z and W are conditioned upon, then the path between X and Y is open through W and an association is present.</li>
</ul>
</section>
<section id="sec-causinf-interv" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-interv">Intervention</h2>
<p><a href="./_resources/Causal_Inference.resources/unknown_filename.4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="./_resources/Causal_Inference.resources/unknown_filename.4.png" class="img-fluid" width="460"></a></p>
<ul>
<li>Since actual interventions are usually unfeasible, we want to be able to determine causality with observational data. This requires two assumptions:
<ol type="1">
<li>The intervention occurs locally. Which means that only the variable we target is the one that receives the intervention.</li>
<li>The mechanism by which variables interact do not change through interventions; that is, the mechanism by which a cause brings about its effects does not change whether this occurs naturally or by intervention</li>
</ol></li>
<li>The Doing row of DAGs (aka <em>manipulated</em> DAGs) represents setting X = x
<ul>
<li>For DAGs 1 and 4, Y is still affected
<ul>
<li>Moving from seeing to doing didn’t change anything<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.7.png" class="img-fluid"></li>
</ul></li>
<li>For DAGs 2 and 3, Y is now UNaffected
<ul>
<li>Using the assumptions and some mathematical manipulation (See article for details):
<ul>
<li><a href="./_resources/Causal_Inference.resources/ql_14ca188fe155c25bae7b65ee05f51391_l3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img src="./_resources/Causal_Inference.resources/ql_14ca188fe155c25bae7b65ee05f51391_l3.png" width="533" height="19"></a>
<ul>
<li>Thus, the interventional distribution we care about is equal to the (observational) conditional distribution of Y given X when we adjust for Z</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>The rule: After an intervention, <em>incoming</em> arrows are cut from the node where the intervention took place.</li>
</ul>
</section>
<section id="sec-causinf-confound" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-confound">Confounding</h2>
<p><a href="./_resources/Causal_Inference.resources/unknown_filename.3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img src="./_resources/Causal_Inference.resources/unknown_filename.3.png" class="img-fluid" width="220"></a></p>
<ul>
<li>The <em>backdoor criterion</em> tells us which variable we need to adjust for in order to for our model to yield a causal relationship between two variables (i.e.&nbsp;graphically, nodes)
<ol type="1">
<li>Blocks all spurious, that is, non-causal paths between X and Y.</li>
<li>Leaves all directed paths from X to Y unblocked</li>
<li>Creates no spurious paths</li>
</ol></li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li>Causal effect of Z on U is confounded by X&nbsp;because in addition to the legitimate causal path Z→Y→W→U, there is also an unblocked path Z←X→W→U which confounds the causal effect
<ul>
<li>Since X’s arrow enters the causal variable of interest, Z, it’s arrow is a backdoor path and needs to be blocked/closed</li>
<li>There are some descendant nodes that make the confounding a little difficult to parse out, but this graph is essentially<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.9.png" class="img-fluid">
<ul>
<li>which is the same as the second example DAG for confounding in the Association section</li>
</ul></li>
</ul></li>
<li>The backdoor criterion would have us condition on X, which blocks the spurious path and renders the causal effect of Z on U unconfounded.
<ul>
<li>The reduced, confounding DAG above is the same as the third DAG (without the path from Z to U) in the Association section. Conditioning on Z in that example blocked the path between X and Y, so it makes sense that conditioning on X in the reduced DAG would block the Z to X to U path. And therefore, the&nbsp;Z←X→W→U would also be blocked in the complete DAG.</li>
</ul></li>
<li>Note that conditioning on W would also block this spurious path; however, it would also block the causal&nbsp;path, Z→Y→W→U.<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.10.png" class="img-fluid">
<ul>
<li><p>If we breakdown the complete DAG into the modular components involving W, we can see these are the same as the first example DAG in the Association section.</p></li>
<li><p>W is also collider for X and Y, but I don’t think that has any bearing when discussing the causal effect of Z on U.</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-appsimp" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-appsimp">Application: Simpson’s Paradox Example</h2>
<ul>
<li><p>Sex as the adjustment variable&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <a href="./_resources/Causal_Inference.resources/unknown_filename.12.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="./_resources/Causal_Inference.resources/unknown_filename.12.png" class="img-fluid" width="478"></a></p>
<ul>
<li>Patients CHOOSE whether or not to take a drug to cure some disease.</li>
<li>Men choosing to take the drug recover at a higher percentage that those that didn’t</li>
<li>Women choosing to take the drug recover at a higher percentage that those that didn’t</li>
<li>But overall, those that chose to take the drug recovered at a lower percentage than those that didn’t.</li>
<li>So should a doctor prescribe the drug or not?</li>
<li>Suppose we know that women are more likely to take the drug, that being a woman has an effect on recovery more generally, and that the drug has an effect on recovery.&nbsp;</li>
<li>Create DAGs<br>
<a href="./_resources/Causal_Inference.resources/unknown_filename.13.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img src="./_resources/Causal_Inference.resources/unknown_filename.13.png" class="img-fluid" width="329"></a>
<ul>
<li>S=1 as being female,</li>
<li>D=1 as having chosen to take the drug</li>
<li>R=1 as having recovered</li>
<li>The right DAG indicates either forcing everyone to either take the drug or not take the drug</li>
<li>Notice that <img src="./_resources/Causal_Inference.resources/unknown_filename.21.png" class="img-fluid"> &nbsp;therefore our calculated effect will be confounded.</li>
</ul></li>
<li>Backdoor criterion says the manipulated DAG (right) will correspond to the observational DAG (left) if we condition on Sex.</li>
<li><img src="./_resources/Causal_Inference.resources/unknown_filename.14.png" class="img-fluid">
<ul>
<li><p>Use intervention formula from Intervention section<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.16.png" class="img-fluid"></p>
<p><a href="./_resources/Causal_Inference.resources/unknown_filename.15.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="./_resources/Causal_Inference.resources/unknown_filename.15.png" class="img-fluid"></a></p></li>
<li><p>Average Causal Effect = 0.832 - 0.782 = 0.050. So the drug has a positive effect on average.</p></li>
</ul></li>
</ul></li>
<li><p>Blood Pressure as the adjustment variable <a href="./_resources/Causal_Inference.resources/unknown_filename.17.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="./_resources/Causal_Inference.resources/unknown_filename.17.png" class="img-fluid" width="510"></a></p>
<ul>
<li>Blood Pressure instead of sex is used as the adjustment. Blood Pressure is a post-treatment variable.</li>
<li>Relatively same observations as before. High or Low Blood Pressure with the drug produces better results than those that chose not to take the drug. Yet overall, those that chose the drug recovered at a lower percentage.</li>
<li><a href="./_resources/Causal_Inference.resources/unknown_filename.18.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img src="./_resources/Causal_Inference.resources/unknown_filename.18.png" class="img-fluid" width="350"></a></li>
<li>Since Blood Pressure (B) is post-treatment, it has no effect on whether the patient takes the drug or not (D).</li>
<li>Taking or not taking the drug (D) has an indirect effect on recovery (R) through Blood Pressure (B) along with a direct effect. <img src="./_resources/Causal_Inference.resources/unknown_filename.20.png" class="img-fluid"> &nbsp;so our calculated effect will be unconfounded.</li>
<li><img src="./_resources/Causal_Inference.resources/unknown_filename.19.png" class="img-fluid"></li>
<li>So with BP as the adjustment variable, the drug now has a small, negative effect (harmful), 0.78 - 0.83 = -0.05</li>
</ul></li>
<li><p>The unconfounded, average causal effect for the population is negative, therefore the doctor should NOT prescribe the drug.</p></li>
</ul>
</section>
<section id="sec-causinf-scms" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-scms">Structural Causal Models (SCMs)</h2>
<ul>
<li>You add additional assumptions to your DAG to derive a causal estimator</li>
<li>“Full Luxury” Bayesian approach
<ul>
<li>“Full Luxury” is just a term coined by McElreath; it’s just a bayesian model but bayesian models can fully model a DAG where standard regression approachs can fail (see examples)</li>
<li>No other approach will find something that the bayesian approach doesn’t
<ul>
<li>Main disadvantage is that it can be computationally intensive (same with all baysian models)</li>
</ul></li>
<li>Provides ways to add “causes” for missingness and measurement error</li>
</ul></li>
<li><span class="ribbon-highlight">Example</span> (2 Moms)
<ul>
<li>Notes from McElreath <a href="https://www.youtube.com/watch?v=KNPYUVmY3NM">video</a></li>
<li>Hypothesis: a mother’s family size is causal to her daughter’s family size
<ul>
<li>Truth: no relationship</li>
</ul></li>
<li>Variables:
<ul>
<li>M - Mother’s family size (i.e.&nbsp;number of children the birth)</li>
<li>D - Daughter’s family size</li>
<li>B<sub>1</sub> - Mother’s birth order; binary, first born or not</li>
<li>B<sub>2</sub> - Daughters’ birth order; binary, first born or not</li>
<li>U - unobserved confounds&nbsp; (shown as curved dotted line)</li>
</ul></li>
<li><a href="./_resources/Causal_Inference.resources/bmdb.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img src="./_resources/Causal_Inference.resources/bmdb.png" class="img-fluid" width="200"></a>
<ul>
<li>Unobserved confounds (economic status, education, cultural background, etc.) are causal to both Mother and Daughter (curved dotted line) which makes regression, D ~ M, impossible
<ul>
<li>See Baysian Two Moms example below for results of a typical regression</li>
<li>Still possible to calculate the effect of M on D with SCMs</li>
</ul></li>
</ul></li>
<li>Assumptions: Relationships are linear (i.e.&nbsp;linear system)</li>
<li>Causal Effects<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (641).png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img src="./_resources/Causal_Inference.resources/Screenshot (641).png" class="img-fluid" width="200"></a>
<ul>
<li>We want m which is the causal effect of M on D</li>
<li>Assumes causal effect of birth order is the same on mother and daughter</li>
<li>Aside: There is no arrow/coefficient from M to B2 because it’s not germane to the calculation of m</li>
</ul></li>
<li>Calculate linear effect (i.e.&nbsp;regression coefficient) without a regression model using a linear system of equations
<ul>
<li>Note: a regression coefficent, β = cov(X,Y) / var(X)</li>
<li>We can’t calculate the covariance of M and D directly because it depends on unobserved confounders but we can calculate the covariance between B1 and D and use that to get m.</li>
<li>The covariance for each path is the product of the path coefficients and the variance of the originating causal variable.</li>
<li>Path B<sub>1</sub> → M: cov(B<sub>1</sub>, M) = b*var(B<sub>1</sub>)</li>
<li>Path B<sub>1</sub> → D: cov(B<sub>1</sub>, D) = b*m*var(B<sub>1</sub>)</li>
<li>2 equations and 2 unknowns, m and b</li>
<li>Solve for b in the first equation, substitute b into the second equation, and solve for m
<ul>
<li>m = cov(B<sub>1</sub>, D) / cov(B<sub>1</sub>, M)</li>
</ul></li>
<li>Still need an uncertainty of this value (e.g.&nbsp;bootstrap)</li>
</ul></li>
</ul></li>
<li><span class="ribbon-highlight">Example</span> (Bayesian 2 Moms)
<ul>
<li>See previous example for link, hypothesis, and definition of the variables<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (649).png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img src="./_resources/Causal_Inference.resources/Screenshot (649).png" class="img-fluid" width="272"></a></li>
<li>Functions (right side)
<ul>
<li>Each variable’s function’s inputs are variables that are causal influences (i.e.&nbsp;have arrows pointing at the particular variable
<ul>
<li>e.g.&nbsp;M has two arrows pointing at it in the DAG: B<sub>1</sub> and u</li>
</ul></li>
</ul></li>
<li>Code
<ul>
<li>The assumption is that this is a lineary system, so M and D have Normal distributions for their functions with means as linear regression equations</li>
<li>B<sub>1</sub> and B<sub>2</sub> are binary so they get bernoulli distributions</li>
<li>U gets a standard normal prior
<ul>
<li>Aside: evidently this is a typical prior for latent variables in psychology</li>
</ul></li>
<li>p, intercepts, sd, k get typical priors for bayesian regressions</li>
</ul></li>
<li>Results<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (650).png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img src="./_resources/Causal_Inference.resources/Screenshot (650).png" class="img-fluid" width="385"></a>
<ul>
<li>Truth: no effect</li>
<li>1st 3 lm models shows how the unobserved confound biases the estimate when using a typical regression model to estimate the causal effect
<ul>
<li>Including B<sub>2</sub> adds precision to the biased estimate since it is causal to the outcome D while adding B1 increases the bias</li>
</ul></li>
<li>Bayesian model isn’t fooled because U is specified as an input to the functions for M and D
<ul>
<li>Interpretation: There is no reliable estimate of an effect. The most likely effect is a moderately positive one but it could also be negative.</li>
<li>Adding more simulated data to this example will move the point estimate towards zero</li>
</ul></li>
</ul></li>
</ul></li>
<li><span class="ribbon-highlight">Example</span> (Bayesian Peer Bias)
<ul>
<li>Also see Causal Design &gt;&gt; Bad Adjustment Variables &gt;&gt; Peer Bias</li>
<li>Hypothesis: racial discrimination in acceptance of applicatioon to Berkeley grad schools
<ul>
<li>Truth: moderate negative effect, -0.8</li>
</ul></li>
<li>Variables:
<ul>
<li>X is race, E is department, Q is an unobserved confound (latent variable: student quality), Y is binary; Admission/No Admission</li>
<li>R<sub>1</sub> and R<sub>2</sub> are proxy variables for Q (e.g.&nbsp;test scores, lab work, extracurriculars, etc.)</li>
</ul></li>
<li>Assumptions: System is linear</li>
<li>DAG and Code<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (652).png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img src="./_resources/Causal_Inference.resources/Screenshot (652).png" class="img-fluid" width="205"></a>
<ul>
<li>XX is the race variable with X as the coefficient in the code
<ul>
<li>This code uses his <span style="color: #990000">{rethinking}</span> package so some of this syntax is unfamiliar</li>
</ul></li>
<li>R<sub>1</sub> and R<sub>2</sub> are shown in the DAG to be influenced by student quality, Q</li>
<li>Every prior is normal except for Q’s coefficient</li>
</ul></li>
<li>Results<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (654).png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img src="./_resources/Causal_Inference.resources/Screenshot (654).png" class="img-fluid" width="401"></a>
<ul>
<li>Truth: -0.8</li>
<li>1st 3 glm models shows how the unobserved confound, Q, biases the estimate when using a typical logistic regression model to estimate the causal effect</li>
<li>Bayesian model isn’t fooled because Q is specified as an input to the function for Y
<ul>
<li>Interpretation: There is a reliably negative effect (no 0 in the CI). The most likely effect is a moderately negative one.</li>
<li>Not quite equal to the truth but reliably negative and the point estimate is closer than the glms</li>
</ul></li>
</ul></li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li>Assumptions: Relationships between variables are linear and error terms are independent</li>
<li>Equations<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.24.png" class="img-fluid"><br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.25.png" class="img-fluid">,&nbsp; <img src="./_resources/Causal_Inference.resources/unknown_filename.26.png" class="img-fluid"></li>
<li><a href="./_resources/Causal_Inference.resources/unknown_filename.27.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img src="./_resources/Causal_Inference.resources/unknown_filename.27.png" class="img-fluid" width="330"></a>
<ul>
<li>DAG 1 (left) shows the association DAG which represents the SCM</li>
<li>manipulated DAG 1 (middle) shows intervention where z is set to a constant
<ul>
<li><em>incoming</em> causal arrows get cutoff the intervening variable</li>
</ul></li>
<li>manipulated DAG 1 (right) shows intervention where x is set to a constant</li>
</ul></li>
<li>Simulation of the SCM (n = 1000) (code in article)<br>
<a href="./_resources/Causal_Inference.resources/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35"><img src="./_resources/Causal_Inference.resources/unnamed-chunk-6-1.png" class="img-fluid" width="600"></a>
<ul>
<li>Z is more predictive of Y than X</li>
</ul></li>
<li>Simulate interventions (code in article)<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.28.png" class="img-fluid">
<ul>
<li>Left - histogram of SCM for Y without an intervention</li>
<li>Middle - Intervention on Z
<ul>
<li>confirms the DAG which shows no effect on Y and Z is not causal</li>
</ul></li>
<li>Right - intervention on X
<ul>
<li>confirms the DAG which shows an intervention on X produces an effect on Y and X is causal</li>
</ul></li>
<li>Average Causal Effect (ACE) can be determined by subtracting the expected values of interventions where&nbsp; X = x +1 and&nbsp; X = x</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-ctrfact" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-ctrfact">Counterfactuals</h2>
<ul>
<li><span class="ribbon-highlight">Example</span>(code in article): Test whether Grandma’s home remedy can speed recovery time for the common cold
<ul>
<li>SCM<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.29.png" class="img-fluid">
<ul>
<li>T is 1/0, i.e.&nbsp;whether patient receives Grandma’s treatment, with p = 0.5; <img src="./_resources/Causal_Inference.resources/Image.1.png" class="img-fluid"></li>
<li>R is recovery time</li>
<li>μ is the intercept</li>
<li>β is the average causal effect, since<br>
<img src="./_resources/Causal_Inference.resources/unknown_filename.31.png" class="img-fluid">
<ul>
<li>where&nbsp;<img src="./_resources/Causal_Inference.resources/unknown_filename.30.png" class="img-fluid"></li>
</ul></li>
</ul></li>
<li>From fitting the model, we find μ = 7, β = -2, Τ = 0, ε<sub>1</sub> = 0.78
<ul>
<li>Therefore, the Individual Causal Effect for patient 1<br>
<a href="./_resources/Causal_Inference.resources/countfact-ice.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36"><img src="./_resources/Causal_Inference.resources/countfact-ice.png" class="img-fluid" width="300"></a>
<ul>
<li>Just plug and chug where we substitute T = 1 into the SCM and we already have the T = 0 part from the model</li>
</ul></li>
</ul></li>
<li>In this case, the SCM is linear, so the ICE = ACE.</li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-medanal" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-medanal">Mediation Analysis</h2>
<p><a href="./_resources/Causal_Inference.resources/Screenshot (850).png" class="lightbox" data-gallery="quarto-lightbox-gallery-37"><img src="./_resources/Causal_Inference.resources/Screenshot (850).png" class="img-fluid" width="500"></a></p>
<ul>
<li><p>Figure</p>
<ul>
<li>c’ is the <em>direct effect</em> of X on the outcome after the indirect path has been removed (i.e.&nbsp;conditioned upon, outcome ~ X + mediator)</li>
<li>c is the to <em>total effect</em> (outcome ~ X)</li>
<li>c - c’ equals the <em>indirect effect</em></li>
<li>See definitions below</li>
</ul></li>
<li><p>Allows you to test for the influence of a third variable, the mediator, on the relationship between (i.e.&nbsp;effect of) the treatment variable, X, and the Outcome variable, Y.</p></li>
<li><p>Misc</p>
<ul>
<li>Notes from: <a href="https://m-clark.github.io/posts/2019-03-12-mediation-models/">Mediation Models</a>
<ul>
<li>Overview of packages (Aug 2020)<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (853).png" class="lightbox" data-gallery="quarto-lightbox-gallery-38"><img src="./_resources/Causal_Inference.resources/Screenshot (853).png" class="img-fluid" width="486"></a></li>
<li><span style="color: #990000">{brms}</span> very flexible in terms of models. You’ll just have to calculate the effects by hand unless some outside package (e.g.&nbsp;sjstats) takes a brms model and does it for you.
<ul>
<li>See below for formulas. <span style="color: #990000">{mediation}</span> papers should have other formulas for other types of models (e.g.&nbsp;poisson, binomial)</li>
</ul></li>
<li><span style="color: #990000">{mediation}</span> handles a lot for you. Method isn’t bayesian but is very similar to it in a frequentist-bootstrappy-simulation way.
<ul>
<li>Package has been substantially updated since that article was written.</li>
</ul></li>
</ul></li>
<li>Also see
<ul>
<li><a href="../qmd/causal-inference.html#sec-causinf-othart" style="color: green">Other Articles</a> &gt;&gt; Frontdoor Adjustment</li>
<li><a href="https://ercbk.github.io/Statistical-Rethinking-Notebook/qmd/ch11.html" style="color: green">Statistical Rethinking &gt;&gt; Chapter 11</a> &gt;&gt; Conclusion of Berkeley Admissions example
<ul>
<li>also Lecture 9 2022 <a href="https://www.youtube.com/watch?v=nPi5yGbfxuo">video</a></li>
</ul></li>
<li>ebook (w/brms) <a href="https://bookdown.org/ajkurz/recoding_Hayes_2018/fundamentals-of-moderation-analysis.html">Introduction to Mediation, Moderation, and Conditional Process Analysis</a></li>
</ul></li>
<li>Packages
<ul>
<li><span style="color: #990000">{</span><a href="https://github.com/nt-williams/lcmmtp" style="color: #990000">lcmmtp</a><span style="color: #990000">}</span> - Efficient and flexible causal mediation with longitudinal mediators, treatments, and confounders using modified treatment policies
<ul>
<li>Paper: <a href="https://arxiv.org/html/2403.09928v1">Identification and estimation of mediational effects of longitudinal modified treatment policies</a></li>
</ul></li>
</ul></li>
<li>Including a mediator and the independent variable in a regression will result in the independent variable not being signficant and the mediator being significant.
<ul>
<li><span class="ribbon-highlight">Example</span>: Causal effect of education on income
<ul>
<li>Say occupation is your mediator. Education has a big impact on your occupation, which in turn has a big impact on your income. You don’t want to control for a mediator if you are interested in the full effect of X on Y! Because a huge part of how X impacts on Y is precisely through the mediation of C, in our case choice of and access to occupation, given a certain level of education. If you ‘control’ for occupation you will be greatly underestimating the importance of education.</li>
</ul></li>
</ul></li>
<li>When would you want to only measure the Direct Effect?
<ul>
<li><span class="ribbon-highlight">Example</span>: Determining the amount of remuneration for discrimination
<ul>
<li>From <a href="http://freerangestats.info/blog/2023/06/04/causality-sims">Simulating confounders, colliders and mediators</a></li>
<li>Variables
<ul>
<li>Outcome: Pay Gap</li>
<li>Treatment: Gender
<ul>
<li>In this case, this variable is actually “gender discrimination in the current workplace in making a pay decision” (for which we use actual, observed Gender as a proxy)</li>
</ul></li>
<li>Mediators: Occupation and Experience</li>
</ul></li>
<li>When determining whether a type of descrimination exists, you don’t want to condtion on the mediators, because the effect of gender will be underestimated. So, you’d want the total effect. But here, discrimation is already determined and Gender is now a proxy variable. Under Gender’s new definition, Occupation and Experience might influence the amount of “gender discrimiation,” so they can’t be definitively labelled mediators any more.</li>
<li>So if you want to estimate that final “equal pay for equal work” step of the chain then yes it is legitimate to control for occupation and experience.</li>
</ul></li>
</ul></li>
<li>Should always compare a mediation model to a model without mediation
<ul>
<li>An unnecessary mediation model will almost certainly be weaker and probably more confusing than the model you would otherwise have.</li>
</ul></li>
<li><span style="color: #009499"><strong>Average Causal Mediation Effect (ACME)</strong></span> (aka <span style="color: #009499"><strong>Indirect Effect</strong></span>)- the expected difference in the potential outcome when the mediator took the value that it would have under the treatment condition as opposed to the control condition, while the treatment status itself is held constant.
<ul>
<li>If this isn’t significant, there isn’t a mediation effect</li>
<li>It is possible that the ACME takes different values depending on the baseline treatment status. Shown by analyzing the interaction between the treatment variable and the mediator</li>
<li>δ(t) = E[Y (t, M(t<sub>1</sub>)) − Y (t, M(t<sub>0</sub>))]
<ul>
<li>where
<ul>
<li>t, t<sub>1</sub>, t<sub>0</sub> are particular values of the treatment T such that t<sub>1</sub> ≠ t<sub>0</sub>,</li>
<li>M(t) is the potential mediator</li>
<li>Y (t, m) is the potential outcome variable</li>
</ul></li>
</ul></li>
</ul></li>
<li><span style="color: #009499"><strong>Average Direct Effect (ADE)</strong></span> - the expected difference in the potential outcome when the treatment is changed but the mediator is held constant at the value that it would have if the treatment equals t.
<ul>
<li>ζ(t) = E[Y (t<sub>1</sub>, M(t)) − Y (t<sub>0</sub>, M(t))]</li>
</ul></li>
<li>The <span style="color: #009499"><strong>Total Effect</strong></span> of the treatment on the outcome is ACME + ADE.</li>
</ul></li>
<li><p>Conditions where you likely do NOT need mediation analysis :</p>
<ul>
<li>If you cannot think of your model in temporal or physical terms, such that X <em>necessarily</em> leads to the mediator, which then <em>necessarily</em> leads to the outcome.</li>
<li>If you could see the arrows going either direction.</li>
<li>If when describing your model, everyone thinks you’re talking about an interaction (a.k.a. moderation).</li>
<li>If there is NO strong correlation between key variables (variables of interest) and mediator, and if there is NO strong correlation between mediator and the outcome.</li>
</ul></li>
<li><p>Sobel test - tests whether the suspected mediator’s influence on the independent variable is significant.</p>
<ul>
<li>Performing the test in R via <code>bda::mediation.test</code> - <a href="https://www.r-bloggers.com/2022/01/how-to-perform-the-sobel-test-in-r/">article</a></li>
</ul></li>
<li><p>Methods</p>
<ul>
<li>Baron &amp; Kenny’s (1986) 4-step indirect effect method has low power</li>
<li>Product-of-Paths (or difference in coefficients)
<ul>
<li>c - c’ = a*b (see figure at start of this section) where c - c’ is the indirect effect (aka ACME)
<ul>
<li>if either a or b are nearly zero, then the indirect effect can only be nearly zero</li>
<li>Formula only appropriate for the analysis of causal mediation effects when both the mediator and outcome models are linear regressions where treatment (IV) and moderator enter the models additively (e.g.&nbsp;without interaction)</li>
</ul></li>
<li>Effect formulas for models with an interaction between treatment and moderator (<a href="https://imai.fas.harvard.edu/research/files/BaronKenny.pdf">Paper</a>)
<ul>
<li>mediator: M = α<sub>2</sub> + β<sub>2</sub>T<sub>i</sub> + ξ<sup>T</sup><sub>2</sub>X<sub>i</sub> + ε<sub>i2</sub>(T~i`)</li>
<li>outcome: Y = α~3 + β<sub>3</sub>T<sub>i</sub> + γM<sub>i</sub> + κT<sub>i</sub>M<sub>i</sub> + ξ<sup>T</sup><sub>3</sub>X<sub>i</sub> + ε<sub>i3</sub>(T<sub>i</sub>, M<sub>i</sub>)</li>
<li>ACME = β<sub>2</sub>(γ + κt) where t = 0,1</li>
<li>ADE = β<sub>3</sub> + κ{α<sub>2</sub> + β<sub>2</sub>t + ξ<sup>T</sup><sub>2</sub>Ε(X<sub>i</sub>)}</li>
<li>ATE = β<sub>2</sub>γ + β<sub>3</sub> +κ{α<sub>2</sub> + β<sub>2</sub> + ξ<sup>T</sup><sub>2</sub>Ε(X<sub>i</sub>)}
<ul>
<li>Alternatively, fit Y = α<sub>1</sub> + β<sub>1</sub>T<sub>i</sub> + ξ<sup>T</sup><sub>1</sub>X<sub>i</sub> + η<sup>T</sup>T<sub>i</sub>X<sub>i</sub> + ε<sub>i1</sub>
<ul>
<li>Then ATE = β<sub>1</sub> + η<sup>T</sup>E(X<sub>i</sub>)</li>
</ul></li>
</ul></li>
<li>Notes
<ul>
<li>Variables
<ul>
<li>T is treatment, M is mediator, X is a set of adjustment variables
<ul>
<li>The exponentiated T in ξ<sup>T</sup> is to let you know it can be a set of coefficients for a set of adjustment variables (I guess)</li>
</ul></li>
</ul></li>
<li>Couldn’t figure out why curly braces are being used</li>
<li>ACME with have two estimates (t=0, t=1)</li>
<li>ATE (average total effect)</li>
<li>Ε(X<sub>i</sub>) is the sample average of each adjustment variable and it’s multiplied by its associated ξ<sub>2</sub> coefficient</li>
<li>See paper for other types of models</li>
</ul></li>
</ul></li>
<li><span style="color: #990000">{lavaan}</span>, <span style="color: #990000">{brms}</span></li>
</ul></li>
<li>Tingley, Yamamoto, Hirose, Keele, &amp; Imai, 2014
<ul>
<li>Quasi-bayesian approach (<a href="https://imai.fas.harvard.edu/research/files/BaronKenny.pdf">paper</a> ,esp Appendix D, for details)
<ul>
<li>Fits the mediation and outcome models (see 1st example)</li>
<li>Takes the coefficients and vcov matrices from both models
<ul>
<li>Uses the coefs (means) and vcovs (variances) as inputs to a mvnorm function to simulate distributions for the coefficients.</li>
<li>I do not understand what these are used for… would have to look at the code.</li>
</ul></li>
<li>Samples predictions of each model K times for treatment = 1, then for treatment = 0</li>
<li>Calcs difference between predictions for each set of samples, then averages to get the ACME</li>
</ul></li>
<li>Assumes Sequential Ignorability
<ul>
<li>Requires treatment randomization or an equivalent assignment mechanism</li>
<li>mediator is also ignorable given the observed treatment and pre-treatment confounders. This additional assumption is quite strong because it excludes the existence of (measured or unmeasured) post-treatment confounders as well as that of unmeasured pretreatment confounders. This assumption, therefore, rules out the possibility of multiple mediators that are causally related to each other (see Section 6 for the method that is designed to deal with such a scenario).</li>
<li>Can’t be tested but a sensitivity analysis can be conducted using <code>mediation::medsens</code> (see vignette)</li>
</ul></li>
<li><span style="color: #990000">{mediation}</span> (<a href="https://cran.r-project.org/web/packages/mediation/vignettes/mediation.pdf">vignette</a>)
<ul>
<li>Multiple types of models for both mediator and outcome
<ul>
<li>including multilevel model functions from {lme4} supported</li>
</ul></li>
<li>Methods for:
<ul>
<li>‘moderated’ mediation
<ul>
<li>the magnitude of the ACME depends on (or is moderated by) a pre-treatment covariate. Such a pre-treatment covariate is called a moderator. (see Moderator Analysis)</li>
<li>ACME can depend on treatment status (i.e.&nbsp;interaction between treatment and mediator), but this situation is talking about a separate variable moderating the effect of the treatment on the mediator.</li>
</ul></li>
<li>multiple mediators (which violates sequential ingnorability but can be handled)</li>
<li>various experimental designs (e.g.&nbsp;parallel, crossover)</li>
<li>treatment non-compliance</li>
</ul></li>
<li>Uses MASS (so may have conflicts with dplyr)</li>
<li>No latent variable capabilities</li>
</ul></li>
</ul></li>
<li>Etsy <a href="https://codeascraft.com/2020/02/24/the-causal-analysis-of-cannibalization-in-online-products/">article</a> calculates generalized average causal mediation effect (GACME) and generalized average direct effect (GADE) and uses a known mediator to measure the direct causal effect even when the DAG has multiple unknown mediators (paper, video, R code linked in article)</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Tingley, 2014 Method</p>
<ul>
<li><p>Equations<br>
<img src="./_resources/Causal_Inference.resources/Screenshot (848).png" class="img-fluid"><br>
<img src="./_resources/Causal_Inference.resources/Screenshot (844).png" class="img-fluid"></p>
<ul>
<li>Predictions for “job_seek” in the mediator model (top) are used as predictor values in the outcome model (bottom).</li>
</ul></li>
<li><p>Data: <code>data(jobs, package = 'mediation')</code></p>
<ul>
<li>depress2: outcome, numeric: Measure of depressive symptoms post-treatment. The outcome variable.</li>
<li>treat: treatment, binary: whether participant was randomly selected for the JOBS II training program.
<ul>
<li>1 = assignment to participation.</li>
</ul></li>
<li>job_seek: mediator, ordinal: measures the level of job-search self-efficacy with values from 1 to 5.</li>
<li>econ_hard: adjustment, ordinal: Level of economic hardship pre-treatment with values from 1 to 5.</li>
<li>sex: adjustment, binary: 1 = female</li>
<li>age: adjustment, numeric: Age in years</li>
</ul></li>
<li><p><span style="color: #990000">{mediation}</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>model_mediator <span class="ot">&lt;-</span> <span class="fu">lm</span>(job_seek <span class="sc">~</span> treat <span class="sc">+</span> econ_hard <span class="sc">+</span> sex <span class="sc">+</span> age, <span class="at">data =</span> jobs)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>model_outcome&nbsp; <span class="ot">&lt;-</span> <span class="fu">lm</span>(depress2 <span class="sc">~</span> treat <span class="sc">+</span> econ_hard <span class="sc">+</span> sex <span class="sc">+</span> age <span class="sc">+</span> job_seek, <span class="at">data =</span> jobs)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimation via quasi-Bayesian approximation&nbsp;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>mediation_result <span class="ot">&lt;-</span> <span class="fu">mediate</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>&nbsp; model_mediator,&nbsp;</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>&nbsp; model_outcome,&nbsp;</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="at">sims =</span> <span class="dv">500</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="at">treat =</span> <span class="st">"treat"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="at">mediator =</span> <span class="st">"job_seek"</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Summary - <code>summary(mediation_result)</code><br>
<a href="./_resources/Causal_Inference.resources/Screenshot (846).png" class="lightbox" data-gallery="quarto-lightbox-gallery-39"><img src="./_resources/Causal_Inference.resources/Screenshot (846).png" class="img-fluid" width="419"></a>
<ul>
<li>error bar plot also available via <code>plot(mediation_result)</code></li>
<li>Says ACME isn’t significant, therefore no mediation effect detected.</li>
<li>“Prop Mediated” is supposed to be the ratio of the indirect effect to the total.
<ul>
<li>However this is not a proportion, and can even be negative, and so “it is mostly a meaningless number.”</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: product-of-paths (or difference in coefficients)</p>
<ul>
<li><p><span style="color: #990000">{lavaan}</span></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>sem_model <span class="ot">=</span> <span class="st">'</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; job_seek ~ a*treat + econ_hard + sex + age</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; depress2 ~ c*treat + econ_hard + sex + age + b*job_seek</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; # direct effect</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; direct := c</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; # indirect effect</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; indirect := a*b</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; # total effect</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; total := c + (a*b)</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>model_sem <span class="ot">=</span> <span class="fu">sem</span>(sem_model, <span class="at">data=</span>jobs, <span class="at">se=</span><span class="st">'boot'</span>, <span class="at">bootstrap=</span><span class="dv">500</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_sem, <span class="at">rsq=</span>T)&nbsp; <span class="co"># compare with ACME in mediation</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>Defined Parameters<span class="sc">:</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Estimate&nbsp; Std.Err&nbsp; z<span class="sc">-</span>value&nbsp; <span class="fu">P</span>(<span class="sc">&gt;</span><span class="er">|</span>z<span class="sc">|</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; direct&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc">-</span><span class="fl">0.040</span>&nbsp; &nbsp; <span class="fl">0.045</span>&nbsp; <span class="sc">-</span><span class="fl">0.904</span>&nbsp; &nbsp; <span class="fl">0.366</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; indirect&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc">-</span><span class="fl">0.016</span>&nbsp; &nbsp; <span class="fl">0.012</span>&nbsp; <span class="sc">-</span><span class="fl">1.324</span>&nbsp; &nbsp; <span class="fl">0.185</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="sc">-</span><span class="fl">0.056</span>&nbsp; &nbsp; <span class="fl">0.046</span>&nbsp; <span class="sc">-</span><span class="fl">1.224</span>&nbsp; &nbsp; <span class="fl">0.221</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Also outputs the typical summary regression estimates, std.errors, pvals, R<sup>2</sup> etc.</li>
<li>Bootstraps std.errors</li>
<li>Same results for “indirect” here as with <span style="color: #990000">{mediation}</span> ACME estimate</li>
<li>R<sup>2</sup>s are poor for both regression models which could be why no mediation effect is detected.</li>
</ul></li>
<li><p><span style="color: #990000">{brms}</span></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>model_mediator <span class="ot">&lt;-</span> <span class="fu">bf</span>(job_seek <span class="sc">~</span> treat <span class="sc">+</span> econ_hard <span class="sc">+</span> sex <span class="sc">+</span> age)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>model_outcome&nbsp; <span class="ot">&lt;-</span> <span class="fu">bf</span>(depress2 <span class="sc">~</span> treat <span class="sc">+</span> job_seek <span class="sc">+</span> econ_hard <span class="sc">+</span> sex <span class="sc">+</span> age)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>med_result <span class="ot">=</span> <span class="fu">brm</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>&nbsp; model_mediator <span class="sc">+</span> model_outcome <span class="sc">+</span> <span class="fu">set_rescor</span>(<span class="cn">FALSE</span>),&nbsp;</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="at">data =</span> jobs</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(med_result) <span class="co"># regression results</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># using brms we can calculate the indirect effect as follows</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">hypothesis</span>(med_result, <span class="st">'jobseek_treat*depress2_job_seek = 0'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Exact same brms syntax (except priors are specified) as in <a href="https://ercbk.github.io/Statistical-Rethinking-Notebook/qmd/ch5.html" style="color: green">Statistical Rethinking &gt;&gt; Chapter 5</a> &gt;&gt; Counterfactual Plots</li>
<li>Example has a mediator DAG as well.</li>
<li><code>hypothesis</code> tests H<sub>0</sub>: a*b == 0
<ul>
<li>pval &lt; 0.05 says there is a mediation effect.</li>
</ul></li>
</ul></li>
<li><p><span style="color: #990000">{sjstats}</span><br>
<a href="./_resources/Causal_Inference.resources/Screenshot (854).png" class="lightbox" data-gallery="quarto-lightbox-gallery-40"><img src="./_resources/Causal_Inference.resources/Screenshot (854).png" class="img-fluid" width="263"></a></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>sjstats<span class="sc">::</span><span class="fu">mediation</span>(med_result) <span class="sc">%&gt;%</span> <span class="fu">kable_df</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>mediator (b): the effect of “job_seek” on “depress2”</li>
<li>indirect (c-c’): ACME</li>
<li>direct (c’): ADE</li>
<li>proportion mediated: See <span style="color: #990000">{mediation}</span> example</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-modanal" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-modanal">Moderation Analysis</h2>
<p><a href="./_resources/Causal_Inference.resources/moderation.png" class="lightbox" data-gallery="quarto-lightbox-gallery-41"><img src="./_resources/Causal_Inference.resources/moderation.png" class="img-fluid" width="555"></a></p>
<ul>
<li><p>Misc</p>
<ul>
<li>Also see <a href="https://bookdown.org/ajkurz/recoding_Hayes_2018/fundamentals-of-moderation-analysis.html">Introduction to Mediation, Moderation, and Conditional Process Analysis</a></li>
</ul></li>
<li><p>Like mediation analysis, it allows you to test for the influence of a third variable, Z (moderator), on the relationship between variables X and Y, but rather than testing a causal link between these other variables, moderation tests for when or under what conditions an effect occurs.</p>
<ul>
<li>Moderators are conceptually different from mediators (“when” (moderator) vs “how/why” (mediator)).
<ul>
<li>There can be moderated mediation effect though. (see <a href="../qmd/causal-inference.html#sec-causinf-medanal" style="color: green">Mediation Analysis</a> &gt;&gt; Methods &gt;&gt; <span style="color: #990000">{mediation}</span>)</li>
</ul></li>
<li>Moderators can stengthen, weaken, or reverse the nature of a relationship.</li>
<li>Some variables may be a moderator or a mediator depending on your question.</li>
</ul></li>
<li><p>Assumption: assumes that there is little to no measurement error in the moderator variable and that the DV did not CAUSE the moderator.</p>
<ul>
<li>If moderator error is likely to be high, researchers should collect multiple indicators of the construct and use SEM to estimate latent variables.</li>
<li>The safest ways to make sure your moderator is not caused by your DV are to experimentally manipulate the variable or collect the measurement of your moderator before you introduce your IV.</li>
</ul></li>
<li><p>Moderation can be tested by interacting variables of interest (moderator x IV) and plotting the simple slopes of the interaction, if present.</p>
<ul>
<li>See <a href="../qmd/regression-interactions.html" style="color: green">Regression, Interactions</a> for simple slopes/effects analysis</li>
<li>Mean center both your moderator and your IV to reduce multicolinearity and make interpretation easier. (“c” in variable names indicates variable was centered)</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: academic self-efficacy (moderator)(confidence in own’s ability to do well in school) moderates the relationship between task importance (independent variable (IV)) and the amount of test anxiety (outcome) a student feels (Nie, Lau, &amp; Liau, 2011).</p>
<ul>
<li>Students with high self-efficacy experience less anxiety on <em>important</em> tests (task importance) than students with low self-efficacy while all students feel relatively low anxiety for less important tests.</li>
<li>Self-efficacy (Z) is considered a moderator in this case because it interacts with task importance (X), creating a different effect on test anxiety (Y) at different levels of task importance.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: What is the relationship between the number of hours of sleep (X, independent variable (IV)) a graduate student receives and the attention that they pay to this tutorial (Y, outcome) and is this relationship influenced by their consumption of coffee (Z, moderator)</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(Y <span class="sc">~</span> Xc <span class="sc">+</span> Zc <span class="sc">+</span> Xc<span class="sc">*</span>Zc)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Coefficients:</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Estimate Std. Error t value Pr(&gt;|t|)&nbsp; &nbsp;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="do">## (Intercept) 48.54443&nbsp; &nbsp; 1.17286&nbsp; 41.390&nbsp; &lt; 2e-16 ***</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Xc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5.20812&nbsp; &nbsp; 0.34870&nbsp; 14.936&nbsp; &lt; 2e-16 ***</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Zc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.10443&nbsp; &nbsp; 0.15537&nbsp; 7.108 2.08e-10 ***</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Xc:Zc&nbsp; &nbsp; &nbsp; &nbsp; 0.23384&nbsp; &nbsp; 0.04134&nbsp; 5.656 1.59e-07 ***</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Since we have significant interactions in this model, there is no need to interpret the separate main effects of either our IV or our moderator</li>
<li>Plot the simple slopes (1 SD above and 1 SD below the mean) of the moderating effect<br>
<a href="./_resources/Causal_Inference.resources/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-42"><img src="./_resources/Causal_Inference.resources/unnamed-chunk-7-1.png" class="img-fluid" width="473"></a>
<ul>
<li>For details on this plot and analysis, see <a href="../qmd/regression-interactions.html" style="color: green">Regression, Interactions</a> &gt;&gt; OLS &gt;&gt; numeric:numeric &gt;&gt; Calculate simple slopes for the IV at 3 representative values for the moderator variable</li>
<li>Interpretation
<ul>
<li>Those who drank less coffee (moderator, black line) paid more attention (outcome) with the more sleep (IV) that they got last night but paid less attention overall than average (the red line).</li>
<li>Those who drank more coffee (moderator, green line) paid more attention (outcome) when they slept more (IV) as well and paid more attention than average.</li>
<li>The difference in the slopes for those who drank more or less coffee (moderator) shows that coffee consumption moderates the relationship between hours of sleep and attention paid</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-sr" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-sr">Statistical Rethinking</h2>
<section id="sec-causinf-sr-misc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-causinf-sr-misc">Misc</h3>
<ul>
<li>Arrows indicate directions of influence</li>
<li>Arrows in DAGs “create” correlations
<ul>
<li>i.e.&nbsp;if arrow, then correlation</li>
<li>The direction it points determines whether its association is causal or not.</li>
</ul></li>
<li>Unlike a statistical model, a DAG, if it is correct, will tell you the consequences of intervening to change a variable.</li>
<li>** The data alone can never tell us when a DAG is right. But the data can tell us when a DAG is wrong. **</li>
<li>Many dynamical systems cannot be usefully represented by DAGs, because they have complex behavior that is sensitive to initial conditions. But these models can still be analyzed and causal interventions designed from them.</li>
<li>A DAG <strong>path</strong> means any series of variables you could walk through to get from one variable to another, ignoring the directions of the arrows.</li>
<li>The variable, <strong>U</strong>, in DAGs represents one or more unobserved variables
<ul>
<li>Usually has circle around the U or is just represented by a dashed line</li>
</ul></li>
<li>“Conditioned upon,” “adjusted for,” or “controlled for” is all the same thing</li>
<li>“a” or “α” is used in bayesian formulas to represent the intercept</li>
<li>Notation
<ul>
<li>X is not independent of Y, i.e <a href="./_resources/Causal_Inference.resources/ql_b610f9bb0614dc064c09e0854f572246_l3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-43"><img src="./_resources/Causal_Inference.resources/ql_b610f9bb0614dc064c09e0854f572246_l3.png" class="img-fluid" width="49"></a></li>
<li><strong>conditional independence</strong>: Y is not associated with some variable X, after conditioning on some other variable Z, i.e.&nbsp;<a href="./_resources/Causal_Inference.resources/ql_ef21391bca130a6e9d5b600964aa3b19_l3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-44"><img src="./_resources/Causal_Inference.resources/ql_ef21391bca130a6e9d5b600964aa3b19_l3.png" width="67" height="16"></a>
<ul>
<li>they are statements of which variables should be associated with one another (or not) in the data.</li>
<li>they are statements of which variables become dis-associated when we condition on some other set of variables.</li>
<li>There is no other path of influence from X to Y except through Z</li>
</ul></li>
</ul></li>
<li>(<em>Total</em> ) Causal Effect and <em>Direct</em> Causal Effect<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (707).png" class="lightbox" data-gallery="quarto-lightbox-gallery-45"><img src="./_resources/Causal_Inference.resources/Screenshot (707).png" class="img-fluid" width="426"></a>
<ul>
<li>Weight (W) is the outcome, Height (H) and Sex (S) are explanatory</li>
<li>(Total) Causal Effect is simply, W ~ S</li>
<li>Direct Causal Effect shuts the backdoor paths, W ~ S + H
<ul>
<li>Sometimes we want the total causal effect and not the direct causal effect. (e.g.&nbsp;if H is a post-treatment variable, see SR, Ch.6)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-sr-testimp" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-causinf-sr-testimp">Testable Implications</h3>
<ul>
<li>Differing associations between plausible DAGs that are testable through statistical models</li>
<li>Any DAG may imply that some variables are independent of others under certain conditions.</li>
<li>NO conditional independencies → NO testable implications</li>
<li><a href="http://www.dagitty.net">www.dagitty.net</a> - Enter DAG and it will give you the Adjustment Set and Testable Implications</li>
<li><span class="ribbon-highlight">Example</span>
<ul>
<li>Question: What is the causal relationship between Divorce Rate (D), Marriage Rate (M), and Median Age at Marriage (A)</li>
<li>Data:
<ul>
<li>2 regressions are fit
<ol type="1">
<li>D ~ α + βM
<ul>
<li>Shows that M is positively correlated with D</li>
</ul></li>
<li>D ~ α + βA
<ul>
<li>Shows that A is negatively correlated with D</li>
</ul></li>
</ol></li>
</ul></li>
<li>Plausible DAGs (note: marriage cannot influence your age… technically)
<ol type="1">
<li><a href="./_resources/Causal_Inference.resources/Screenshot (90).png" class="lightbox" data-gallery="quarto-lightbox-gallery-46"><img src="./_resources/Causal_Inference.resources/Screenshot (90).png" class="img-fluid" width="131"></a>
<ul>
<li>A directly influences D</li>
<li>M directly influences D</li>
<li>A directly influences M</li>
<li>Reasoning: First, Age can have a direct effect, perhaps because younger people change faster than older people and are therefore more likely to grow incompatible with a partner. Second, it can have an indirect effect by influencing the marriage rate. If people get married earlier, then the marriage rate may rise, because there are more young people. Consider for example if an evil dictator forced everyone to marry at age 65. Since a smaller fraction of the population lives to 65 than to 25, forcing delayed marriage will also reduce the marriage rate. If marriage rate itself has any direct effect on divorce, maybe by making marriage more or less normative, then some of that direct effect could be the indirect effect of age at marriage.</li>
</ul></li>
<li><a href="./_resources/Causal_Inference.resources/Screenshot (92).png" class="lightbox" data-gallery="quarto-lightbox-gallery-47"><img src="./_resources/Causal_Inference.resources/Screenshot (92).png" class="img-fluid" width="159"></a>
<ul>
<li>Similar to 1 except M does not directly influence D</li>
<li>Reasoning This DAG is plausible even though there’s a correlation between M and D (regression 1). It could be that M derives it’s correlation with D through it’s association with A.
<ul>
<li>The direction of influence doesn’t prevent a correlation between M and D</li>
</ul></li>
</ul></li>
</ol></li>
<li>Testable implications
<ul>
<li>DAG 1
<ul>
<li>The DAG shows all three are associated to each other, i.e.&nbsp;<a href="./_resources/Causal_Inference.resources/ql_e69972d8fda85bb78dbb36718aecad23_l3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-48"><img src="./_resources/Causal_Inference.resources/ql_e69972d8fda85bb78dbb36718aecad23_l3.png" width="179" height="15"></a></li>
<li>It would be natural to think about measuring correlation and if a pair shows no correlation you could discard the DAG, but it is NOT a good test since there are many ways two variables can show correlation yet not be directly associated. (see reasoning under DAG 2 above and under DAG2 below)</li>
<li>DAG1 has NO conditional independencies and therefore, NO testable implications</li>
</ul></li>
<li>DAG 2
<ul>
<li>This DAG also shows all three variables are associated with each other.</li>
<li>D and M are associated with one another, because A influences them both. They share a cause, and this leads them to be correlated with one another through that cause. But suppose we condition on A. All of the information in M that is relevant to predicting D is in A. So once we’ve conditioned on A, M tells us nothing more about D</li>
<li>The testable implication is that D is independent of M, conditional on A, i.e.&nbsp;<a href="./_resources/Causal_Inference.resources/ql_1537f13742e0be4122a8d8a30a61b41a_l3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img src="./_resources/Causal_Inference.resources/ql_1537f13742e0be4122a8d8a30a61b41a_l3.png" width="63" height="15"></a>
<ul>
<li>(Conditioning on A does not make D independent of M, because M really influences D all by itself in this model.)
<ul>
<li>i.e A and M are marginally dependent</li>
</ul></li>
</ul></li>
</ul></li>
<li>Only difference between both DAGs is the conditional independence in DAG2.</li>
</ul></li>
<li>Test
<ul>
<li>Run a multiple regression D ~ α + βMM + βAA</li>
<li>If the effect measured from regression 1 disappears in the multiple regression, then we can discard DAG 1. If the effect remains, then we discard DAG 2.</li>
</ul></li>
</ul></li>
<li>DAGs that are consistent with the data associations (M &amp; N are associated but the causal relationship isn’t known)<br>
<a href="./_resources/Causal_Inference.resources/Screenshot (111).png" class="lightbox" data-gallery="quarto-lightbox-gallery-50"><img src="./_resources/Causal_Inference.resources/Screenshot (111).png" class="img-fluid" width="510"></a><br>
where U is an unknown variable. Unobserved variables are circled.
<ul>
<li>All three DAGs have no conditional independencies and therefore not testable implications
<ul>
<li>A set of DAGs, each with the same conditional independencies known as a <em>Markov Equivalence</em></li>
</ul></li>
<li>Data cannot eliminate any of these DAGS. Domain knowledge must be used to reduce the number of Markov Equivalent DAGs.</li>
</ul></li>
</ul>
</section>
<section id="sec-causinf-sr-shutbdr" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-causinf-sr-shutbdr">“Shutting the backdoor” to potential confounding paths</h3>
<ul>
<li>Section 6.4</li>
<li><a href="http://www.dagitty.net">www.dagitty.net</a> - Enter DAG and it will give you the Adjustment Set and Testable Implications</li>
<li>Recipe
<ol type="1">
<li>List all of the paths connecting X (the potential cause of interest) and Y (the outcome).</li>
<li>Classify each path by whether it is open or closed. A path is open unless it contains a collider.</li>
<li>Classify each path by whether it is a backdoor path. A backdoor path has an arrow entering X.</li>
<li>If there are any backdoor paths that are also open, decide which variable(s) to condition on to close it.
<ul>
<li>If you have a choice between two variables where conditioning on either will close a backdoor path and one of them is causal to the outcome variable, then condition on the variable that is causal to the outcome variable. It will add precision to the estimate of the treatment effect.</li>
<li>Any frontdoor paths that lead to backdoor paths must also be closed (see <a href="../qmd/causal-inference.html#sec-causinf-misc" style="color: green">Misc</a> &gt;&gt; Table 2 fallacy)</li>
</ul></li>
</ol></li>
<li><span class="ribbon-highlight">Examples</span>:
<ul>
<li><p><a href="./_resources/Causal_Inference.resources/Screenshot (134).png" class="lightbox" data-gallery="quarto-lightbox-gallery-51"><img src="./_resources/Causal_Inference.resources/Screenshot (134).png" class="img-fluid" width="200"></a></p>
<ul>
<li>Problem: We want to measure the causal effect of X –&gt; Y</li>
<li>Potential confounding paths: XUAC, XUBC
<ul>
<li>XUAC doesn’t have a collider so a variable needs conditioned on (aka adjusted for)
<ul>
<li>U is unobserved, so either A or C. C directly influences Y, so it’s more efficient and will “aid in precision.”</li>
</ul></li>
<li>XUBC has a collider, B. So, no need to condition on any variable</li>
</ul></li>
<li>Solution: Y ~ a + X + C</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dagitty)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>dag_6<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">dagitty</span>( <span class="st">"dag {&nbsp;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; U [unobserved]</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; X -&gt; Y</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; X &lt;- U &lt;- A -&gt; C -&gt; Y</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; U -&gt; B &lt;- C</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="st">}"</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">adjustmentSets</span>( dag_6<span class="fl">.1</span> , <span class="at">exposure=</span><span class="st">"X"</span> , <span class="at">outcome=</span><span class="st">"Y"</span> )</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; { C }</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; { A }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><a href="./_resources/Causal_Inference.resources/Screenshot (136).png" class="lightbox" data-gallery="quarto-lightbox-gallery-52"><img src="./_resources/Causal_Inference.resources/Screenshot (136).png" class="img-fluid" width="200"></a></p>
<ul>
<li>Problem: We want to measure the causal effect of the number of Waffle Houses, W, on Divorce, D.</li>
<li>Potential confounding paths: WSM, WSA, WSMA (Also WSAM but McElreath on says there are 3. Maybe a combo of same letters is equivalent?)
<ul>
<li>WSM doesn’t have a collider and therefore either S or M needs conditioned on</li>
<li>WSA doesn’t have a collider and therefor either S or A needs conditioned on</li>
<li>WSMA has a collider, M. So that path is blocked</li>
<li>M is a choice for WSM but it’s a collider so it’s out. S is in both WSM and WSA, so conditioning on it kills two birds.</li>
</ul></li>
<li>Solution: D ~ a + W + S</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dagitty)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>dag_6<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">dagitty</span>( <span class="st">"dag {</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; A -&gt; D</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; A -&gt; M -&gt; D</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; A &lt;- S -&gt; M</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; S -&gt; W -&gt; D</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="st">}"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">adjustmentSets</span>( dag_6<span class="fl">.2</span> , <span class="at">exposure=</span><span class="st">"W"</span> , <span class="at">outcome=</span><span class="st">"D"</span> )</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; { A, M }</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; { S }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Evidently conditioning on A <em>and</em> M is also a solution</p>
<ul>
<li>Conditioning on M does close WSM but would then open WSMA. So, by then conditioning on A which is on a fork (or pipe depending on the path) it closes WSMA.</li>
</ul></li>
<li><p>In his brms ebook, Kurz fits these regressions and a couple others for comparison. There wasn’t a consensus point estimate for W in the regressions that adjust for S and A + M.</p>
<ul>
<li>McElreath mentions, “This DAG is obviously not satisfactory–it assumes there are no unobserved confounds, which is very unlikely for this sort of data.”</li>
<li>The inconsistent point estimates are probably do to an omitted variable(s) that is confounding the regression.</li>
</ul></li>
<li><p>Conditional independencies:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">impliedConditionalIndependencies</span>( dag_6<span class="fl">.2</span> )</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A _||_ W | S</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; D _||_ S | A, M, W</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; M _||_ W | S</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-causinf-othart" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-causinf-othart">Other Articles</h2>
<ul>
<li><u>Frontdoor Adjustment</u>
<ul>
<li>From http://arelbundock.com/posts/frontdoor/</li>
<li>Useful when an unobserved confounder creates a backdoor path that prevents direct causal estimation</li>
<li>In a causal chain with three nodes X→Z→Y, we can estimate the effect of X on Y <em>indirectly</em> by combining two distinct quantities:
<ol type="1">
<li>The estimate of the effect of X on Z, P(Z|do(X))</li>
<li>The estimate of the effect of Z on Y, P(Y|do(Z), X)</li>
</ol></li>
<li>Assumptions
<ul>
<li>Full mediation: there is no direct path from X to Y, except through Z.</li>
<li>Un-confoundedness 1: There is no open backdoor from X to Z.</li>
<li>Un-confoundedness 2: All backdoors from Z to Y are blocked by X</li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>: 1
<ul>
<li><p>Our goal is to estimate P(Y|do(X)). Unfortunately, this relationship between X and Y is confounded by the unobserved variable U, via this backdoor path: X←U→Y. Therefore, we cannot estimate the causal quantity of interest <em>directly.</em><br>
<a href="./_resources/Causal_Inference.resources/unnamed-chunk-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-53"><img src="./_resources/Causal_Inference.resources/unnamed-chunk-2-1.png" class="img-fluid" width="260"></a></p>
<ul>
<li>cause X, a mediator Z, an outcome Y, and an unobserved confounder U</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">731460</span>)&nbsp;</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>N <span class="ot">=</span> <span class="fl">1e5</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>U <span class="ot">=</span> <span class="fu">rbinom</span>(N, <span class="dv">1</span>, <span class="at">prob =</span> .<span class="dv">2</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">rbinom</span>(N, <span class="dv">1</span>, <span class="at">prob =</span> .<span class="dv">1</span> <span class="sc">+</span> U <span class="sc">*</span> .<span class="dv">6</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>Z <span class="ot">=</span> <span class="fu">rbinom</span>(N, <span class="dv">1</span>, <span class="at">prob =</span> .<span class="dv">3</span> <span class="sc">+</span> X <span class="sc">*</span> .<span class="dv">5</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">=</span> <span class="fu">rbinom</span>(N, <span class="dv">1</span>, <span class="at">prob =</span> .<span class="dv">1</span> <span class="sc">+</span> U <span class="sc">*</span> .<span class="dv">3</span> <span class="sc">+</span> Z <span class="sc">*</span> .<span class="dv">5</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">=</span> <span class="fu">data.table</span>(X, Z, Y)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># truth</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(<span class="fu">lm</span>(Y <span class="sc">~</span> X <span class="sc">+</span> U))[<span class="st">"X"</span>]</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 0.2549541</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Estimate the effect of X on Z, P(Z|do(X))</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>step1 <span class="ot">=</span> <span class="fu">lm</span>(Z <span class="sc">~</span> X, dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Estimate the effect of Z on Y, P(Y|do(Z), X)</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>step2 <span class="ot">=</span> <span class="fu">lm</span>(Y <span class="sc">~</span> Z <span class="sc">+</span> X, dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Combine both estimates by multiplication</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(step1)[<span class="st">"X"</span>] <span class="sc">*</span> <span class="fu">coef</span>(step2)[<span class="st">"Z"</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 0.2496002</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><span class="ribbon-highlight">Example</span> 2
<ul>
<li><p>Same as first example but using <span style="color: #990000">{dosearch}</span> package</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'dosearch'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>   data1 <span class="ot">&lt;-</span> <span class="st">"P(X, Y, Z)"</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>query1 <span class="ot">&lt;-</span> <span class="st">"P(Y | do(X))"</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>graph1 <span class="ot">&lt;-</span> <span class="st">"U -&gt; X</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; U -&gt; Y</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X -&gt; Z</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Z -&gt; Y "</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>   <span class="co"># compute</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>   frontdoor <span class="ot">&lt;-</span> <span class="fu">dosearch</span>(data1, query1, graph1)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>   frontdoor</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Output:<a href="./_resources/Causal_Inference.resources/Screenshot (203).png" class="lightbox" data-gallery="quarto-lightbox-gallery-54"><img src="./_resources/Causal_Inference.resources/Screenshot (203).png" class="img-fluid" width="300"></a></li>
</ul></li>
<li><p>Estimate the causal effect</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>dat[, <span class="st">`</span><span class="at">P(X)</span><span class="st">`</span>&nbsp; &nbsp; <span class="sc">:</span><span class="er">=</span> <span class="fu">fifelse</span>(X <span class="sc">==</span> <span class="dv">1</span>, <span class="fu">mean</span>(X), <span class="dv">1</span> <span class="sc">-</span> <span class="fu">mean</span>(X)) ][</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; , <span class="st">`</span><span class="at">P(Z|X)</span><span class="st">`</span>&nbsp; <span class="sc">:</span><span class="er">=</span> <span class="fu">mean</span>(Z), by <span class="ot">=</span> X&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ][</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; , <span class="st">`</span><span class="at">P(Y|Z,X)</span><span class="st">`</span> <span class="sc">:</span><span class="er">=</span> <span class="fu">mean</span>(Y), by <span class="ot">=</span> .(Z, X)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ][</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; , <span class="st">`</span><span class="at">P(Z|X)</span><span class="st">`</span>&nbsp; <span class="sc">:</span><span class="er">=</span> <span class="fu">mean</span>(Z), by <span class="ot">=</span> X&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ][</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; , Y <span class="sc">:</span><span class="er">=</span> NULL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">=</span> <span class="fu">unique</span>(dat)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>dat[, <span class="st">`</span><span class="at">P(Y|do(Z))</span><span class="st">`</span> <span class="sc">:</span><span class="er">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">P(Y|Z,X)</span><span class="st">`</span> <span class="sc">*</span> <span class="st">`</span><span class="at">P(X)</span><span class="st">`</span>), by <span class="ot">=</span> Z]</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">P(Y|do(X=0))</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">with</span>(dat[X <span class="sc">==</span> <span class="dv">0</span>],&nbsp;</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">`</span><span class="at">P(Z|X)</span><span class="st">`</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">1</span>] <span class="sc">*</span>&nbsp;</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">`</span><span class="at">P(Y|do(Z))</span><span class="st">`</span>&nbsp; &nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">1</span>] <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>&nbsp; (<span class="dv">1</span> <span class="sc">-</span> <span class="st">`</span><span class="at">P(Z|X)</span><span class="st">`</span>)&nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">0</span>] <span class="sc">*</span>&nbsp;</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">`</span><span class="at">P(Y|do(Z))</span><span class="st">`</span>&nbsp; &nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">P(Y|do(X=1))</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">with</span>(dat[X <span class="sc">==</span> <span class="dv">1</span>], {</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">`</span><span class="at">P(Z|X)</span><span class="st">`</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">1</span>] <span class="sc">*</span>&nbsp;</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">`</span><span class="at">P(Y|do(Z))</span><span class="st">`</span>&nbsp; &nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">1</span>] <span class="sc">+</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>&nbsp; (<span class="dv">1</span> <span class="sc">-</span> <span class="st">`</span><span class="at">P(Z|X)</span><span class="st">`</span>)&nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">0</span>] <span class="sc">*</span>&nbsp;</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="st">`</span><span class="at">P(Y|do(Z))</span><span class="st">`</span>&nbsp; &nbsp; &nbsp; [Z <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">P(Y|do(X=1))</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">P(Y|do(X=0))</span><span class="st">`</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 0.249766</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Comparison</p>
<ul>
<li>Truth: 0.2549541</li>
<li>lm: 0.2496002</li>
<li>dosearch: 0.249766</li>
</ul></li>
</ul></li>
</ul></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/business-plots.html" class="pagination-link" aria-label="Business Plots">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Business Plots</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/classification.html" class="pagination-link" aria-label="Classification">
        <span class="nav-page-text">Classification</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../LICENSE.html">
<p>Creative Commons Attribution-NonCommercial 4.0 International License</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"loop":false,"closeEffect":"zoom","descPosition":"bottom","selector":".lightbox","openEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>