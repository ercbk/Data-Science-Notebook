<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ordinal – Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/regression-other.html" rel="next">
<link href="../qmd/regression-multivariate.html" rel="prev">
<link href="../images/ds-favicon-32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/regression-discrete.html">Regression</a></li><li class="breadcrumb-item"><a href="../qmd/regression-ordinal.html">Ordinal</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://ericbook.netlify.app/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house"></i></a>
    <a href="https://ercbk.github.io/Domain-Knowledge-Notebook/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-lightbulb"></i></a>
    <a href="https://ercbk.github.io/Statistical-Rethinking-Notebook/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-book"></i></a>
    <a href="https://github.com/ercbk/Data-Science-Notebook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Algorithms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-learn-to-rank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learn-to-Rank</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-marketing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Marketing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Algorithms, Product</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-recommendation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommendation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anomaly Detection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Apache</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spark</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">APIs</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Association</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-copulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Copulas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-priors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Priors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-reporting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reporting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-troubleshooting-hmc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting HMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/big-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Big Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/business-plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Business Plots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/causal-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-windows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Windows</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cloud-services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Services</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/confidence-and-prediction-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confidence &amp; Prediction Intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cross-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Validation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">CSS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recipes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-dbt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DuckDB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-feature-stores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Stores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-lakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lakes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-normalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-nosql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NoSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-postgres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Postgres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-relational.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-warehouses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Warehouses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/decision-intelligence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Intelligence</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false">
 <span class="menu-text">Diagnostics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-model-agnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Agnostic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-probabilistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">Deep Learning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-audio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Audio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graph</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Image</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Training</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false">
 <span class="menu-text">Docker</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Docker, Fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false">
 <span class="menu-text">Econometrics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-discrete-choice-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Choice Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-fixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-psa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity Score Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-multilevel-longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel, Longitudinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false">
 <span class="menu-text">Experiments</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-a_b-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Designs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-rct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RCT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-stepped-wedge-cluster-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stepped Wedge Cluster Design</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/extreme-value-theory-(evt).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Extreme Value Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Engineering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embeddings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-splines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Splines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-tokenization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tokenization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Reduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Selection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false">
 <span class="menu-text">Forecasting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-hierarchical_grouped.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical/Grouped</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonlinear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-statistical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/generalized-additive-models-(gam).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalized Additive Models</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false">
 <span class="menu-text">Geospatial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-remote-sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Remote Sensing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preprocessing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false">
 <span class="menu-text">Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-github-actions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Github Actions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/glossary-ds-terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary: DS terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gnu-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GNU Make</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false">
 <span class="menu-text">Google</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analytics, Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analytics, Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-bigquery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BigQuery</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HTML</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false">
 <span class="menu-text">IDEs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-vscode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VS Code</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/information-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/inkscape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inkscape</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false">
 <span class="menu-text">Job</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-management-leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management / Leadership</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-on-the-job.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On the job</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-organizational-and-team-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizational and Team Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false">
 <span class="menu-text">Javascript</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js-observable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Observable</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JSON</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/kubernetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kubernetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LaTeX</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false">
 <span class="menu-text">LLMs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-agent-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent Chains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-fine-tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine Tuning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-prompt-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prompt Engineering</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/loss-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Loss Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false">
 <span class="menu-text">Mathematics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-linear-algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Probability</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/missingness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missingness</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false">
 <span class="menu-text">Mixed Effects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-bmlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BMLR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-glmm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLMM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-residual-covar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Residual Covariance Structures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MLOps</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false">
 <span class="menu-text">Model Building</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-brms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">brms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-h2o-automl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2O AutoML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-modeltime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeltime</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-rstanarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sklearn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false">
 <span class="menu-text">Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-knowledge-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false">
 <span class="menu-text">NLP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-sentiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentiment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-summarization-extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarization and Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-topic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-transformers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transformers</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/optimization-equation-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Package Development</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false">
 <span class="menu-text">Post-Hoc Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-ab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-emmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">emmeans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Privacy/Security</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false">
 <span class="menu-text">Production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-ml-monitoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">ML Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tools</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-analyses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas, Recipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-reticulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reticulate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/quarto-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-base-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-data-table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyverse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regex</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="true">
 <span class="menu-text">Regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-discrete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-interactions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multinomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-ordinal.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-regularized.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regularized</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Renv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scraping</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false">
 <span class="menu-text">Shiny</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-hosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hosting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mobile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI Examples</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/simulation-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation, Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreadsheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/stochastic-processes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Stochastic Processes</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false">
 <span class="menu-text">Surveys</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-38" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-census-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Census Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-sampling-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyeval</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuning</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-39" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-gtable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gtable</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-diagrams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagrams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false">
 <span class="menu-text">Web</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-40" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-servers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Server</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-reg-ord-misc" id="toc-sec-reg-ord-misc" class="nav-link active" data-scroll-target="#sec-reg-ord-misc">Misc</a></li>
  <li><a href="#sec-reg-ord-eda" id="toc-sec-reg-ord-eda" class="nav-link" data-scroll-target="#sec-reg-ord-eda">EDA</a></li>
  <li><a href="#sec-reg-ord-diag" id="toc-sec-reg-ord-diag" class="nav-link" data-scroll-target="#sec-reg-ord-diag">Diagnostics</a></li>
  <li><a href="#sec-reg-ord-clm" id="toc-sec-reg-ord-clm" class="nav-link" data-scroll-target="#sec-reg-ord-clm">Cumulative Link Models (CLM)</a></li>
  <li><a href="#sec-reg-ord-po" id="toc-sec-reg-ord-po" class="nav-link" data-scroll-target="#sec-reg-ord-po">Proportional Odds (PO)</a>
  <ul>
  <li><a href="#sec-reg-ord-po-misc" id="toc-sec-reg-ord-po-misc" class="nav-link" data-scroll-target="#sec-reg-ord-po-misc">Misc</a></li>
  <li><a href="#sec-reg-ord-po-ass" id="toc-sec-reg-ord-po-ass" class="nav-link" data-scroll-target="#sec-reg-ord-po-ass">Assumption</a></li>
  <li><a href="#sec-reg-ord-po-ex" id="toc-sec-reg-ord-po-ex" class="nav-link" data-scroll-target="#sec-reg-ord-po-ex">Examples</a></li>
  </ul></li>
  <li><a href="#sec-reg-ord-ppo" id="toc-sec-reg-ord-ppo" class="nav-link" data-scroll-target="#sec-reg-ord-ppo">Partial Proportional Odds (PPO)</a></li>
  <li><a href="#sec-reg-ord-se" id="toc-sec-reg-ord-se" class="nav-link" data-scroll-target="#sec-reg-ord-se">Scale Effects</a></li>
  <li><a href="#sec-reg-ord-prob" id="toc-sec-reg-ord-prob" class="nav-link" data-scroll-target="#sec-reg-ord-prob">Probit</a></li>
  <li><a href="#sec-reg-ord-gor" id="toc-sec-reg-ord-gor" class="nav-link" data-scroll-target="#sec-reg-ord-gor">Generalized Ordinal Regression</a></li>
  <li><a href="#sec-reg-ord-me" id="toc-sec-reg-ord-me" class="nav-link" data-scroll-target="#sec-reg-ord-me">Mixed Effects</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/regression-discrete.html">Regression</a></li><li class="breadcrumb-item"><a href="../qmd/regression-ordinal.html">Ordinal</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-reg-ord" class="quarto-section-identifier">Ordinal</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
todo
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Harrell’s RMS notes/chapters</li>
<li>Harrell’s data methods post</li>
<li>Both TDS articles</li>
</ul>
</div>
</div>
</div>
<section id="sec-reg-ord-misc" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-misc">Misc</h2>
<ul>
<li>Also see
<ul>
<li><a href="../qmd/post-hoc-analysis-general.html#sec-phoc-gen-ord" style="color: green">Post-Hoc Analysis, General &gt;&gt; Ordinal Data</a></li>
</ul></li>
<li>Notes from
<ul>
<li><a href="http://people.vcu.edu/~dbandyop/BIOS625/CLM_R.pdf">Analysis of ordinal data with cumulative link models — estimation with the R-package ordinal</a></li>
<li><span style="color: #990000">{ordinal}</span> vignette, see below</li>
<li><a href="https://tdunn.ca/posts/2020-03-15-ordinal-regression-in-r-part-1/">Ordinal regression in R: part 1</a></li>
</ul></li>
<li>Packages
<ul>
<li>Cumulative Link Models (CLMs)
<ul>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/ordinal/index.html" style="color: #990000">ordinal</a><span style="color: #990000">}</span> (<a href="https://cran.r-project.org/web/packages/ordinal/vignettes/clm_article.pdf">Vignette</a>)
<ul>
<li>CLMs and CLMMs with location, scale and nominal effects (aka partial proportional odds), structured thresholds and flexible link functions</li>
<li>Methods for marginal means, tests of functions of the coefficients, goodness-of-fit tests</li>
<li>*Response variable should be an ordered factor class*</li>
<li>Compatible with <span style="color: #990000">{marginaleffects}</span>, <span style="color: #990000">{emmeans}</span>, <span style="color: #990000">{ggeffects}</span></li>
<li>Package owner doesn’t seem to be developing the package further except for keeping on CRAN. Still has plenty of functionality, but it can take extra effort to get certain metrics and external packages to work with certain models (e.g.&nbsp;<code>clmm</code>, <code>clmm2</code> for mixed effects)</li>
<li>Check issues on its github for extra functionality since some users have added code there.</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/MASS/index.html" style="color: #990000">MASS::polr</a><span style="color: #990000">}</span>
<ul>
<li>Standard CLMs allowing for the 5 standard link functions but no further extensions</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/VGAM/index.html" style="color: #990000">VGAM::vglm</a><span style="color: #990000">}</span>
<ul>
<li>CLMs using the cumulative link; allows for several link functions as well as partial effects.</li>
<li>Proportional odds model (cumulative logit model)</li>
<li>Proportional hazards model (cumulative cloglog model)</li>
<li>Continuation ratio model (sequential logit model)</li>
<li>Stopping ratio model</li>
<li>Adjacent categories model</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/rms/index.html" style="color: #990000">rms::lrm, orm</a><span style="color: #990000">}</span>
<ul>
<li>CLMs with the 5 standard link functions but without scale effects, partial or structured thresholds.</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/mvord/index.html" style="color: #990000">mvord</a><span style="color: #990000">}</span>:
<ul>
<li>An R Package for Fitting Multivariate Ordinal Regression Models</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/ordinalNet/index.html" style="color: #990000">ordinalNet</a><span style="color: #990000">}</span> (<a href="https://www.jstatsoft.org/article/view/v099i06">Vignette</a>):
<ul>
<li>Fits ordinal regression models with elastic net penalty. Supported model families include cumulative probability, stopping ratio, continuation ratio, and adjacent category</li>
</ul></li>
<li><span style="color: #990000">{brms}</span>
<ul>
<li>CLMs that include structured thresholds in addition to random-effects.</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://kelliejarcher.r-universe.dev/ordinalgmifs" style="color: #990000">ordinalgmifs</a><span style="color: #990000">}</span>
<ul>
<li>Ordinal Regression for High-Dimensional Data</li>
</ul></li>
<li><span style="color: goldenrod">{{</span><a href="https://www.statsmodels.org/stable/examples/notebooks/generated/ordinal_regression.html#" style="color: goldenrod">statsmodels</a><span style="color: goldenrod">}}</span>
<ul>
<li>Probit, Logit, and Complementary Log-Log model</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/brglm2/index.html" style="color: #990000">brglm2</a><span style="color: #990000">}</span>
<ul>
<li>Estimation and inference from generalized linear models using various methods for bias reduction</li>
<li>Can be used in models with Separation (See <a href="../qmd/diagnostics-glm.html#sec-diag-glm-sep" style="color: green">Diagnostics, GLM &gt;&gt; Separation</a>)</li>
<li>Able to fit proportional-odds models and <em>non</em>-proportional odds models</li>
<li>Reduction of estimation bias is achieved by solving either:
<ul>
<li>The mean-bias reducing adjusted score equations in&nbsp;<a href="https://doi.org/10.1093/biomet/80.1.27">Firth (1993)</a>&nbsp;and&nbsp;<a href="https://doi.org/10.1093/biomet/asp055">Kosmidis &amp; Firth (2009)</a></li>
<li>The median-bias reducing adjusted score equations in&nbsp;<a href="https://doi.org/10.1093/biomet/asx046">Kenne et al (2017)</a></li>
<li>The direct subtraction of an estimate of the bias of the maximum likelihood estimator from the maximum likelihood estimates as prescribed in&nbsp;<a href="https://www.jstor.org/stable/2345592">Cordeiro and McCullagh (1991)</a>.</li>
</ul></li>
</ul></li>
</ul></li>
<li>ML
<ul>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/partykit/index.html" style="color: #990000">partykit::ctree</a><span style="color: #990000">}</span>
<ul>
<li>Takes ordered factors as response vars and handles the rest (see vignette)</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://romanhornung.r-universe.dev/ordinalForest" style="color: #990000">ordinalForest</a><span style="color: #990000">}</span>
<ul>
<li>Prediction and Variable Ranking with Ordinal Target Variables</li>
</ul></li>
</ul></li>
<li>Support
<ul>
<li><span style="color: #990000">{</span><a href="https://marginaleffects.com/" style="color: #990000">marginaleffects</a><span style="color: #990000">}</span> - Supports <span style="color: #990000">{ordinal}</span></li>
</ul></li>
</ul></li>
<li>Resources
<ul>
<li><a href="https://bookdown.org/content/3686/ordinal-predicted-variable.html">Chapter 23</a> (Kurz’s brms, tidyverse version), Doing Bayesian Analysis by Kruschke</li>
</ul></li>
<li>Power and Sample Size Calculations for a Proportional Odds Model (<a href="https://www.fharrell.com/post/pop/">Harrell</a>)</li>
<li>Paired data: Use robust cluster sandwich covariance adjustment to allow ordinal regression to work on paired data. (<a href="https://twitter.com/f2harrell/status/1690837549340598272?s=20">Harrell</a>)</li>
<li>Ordered probit regression: This is very, very similar to running an ordered logistic regression. The main difference is in the interpretation of the coefficients.</li>
<li>Sample size: Both ordered logistic and ordered probit, using maximum likelihood estimates, require sufficient sample size. How big is big is a topic of some debate, but they almost always require more cases than OLS regression.</li>
<li>Harrell summary and comparison of a PO model vs Logistic in the case of an ordinal outcome<br>
<a href="./_resources/Regression,_Ordinal.resources/Screenshot (763).png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="./_resources/Regression,_Ordinal.resources/Screenshot (763).png" class="img-fluid" width="632"></a>
<ul>
<li>Formula is an ordinal outcome, Y, with binary treatment variable, Tx, and adjustment variables, X.</li>
<li>Sometimes researchers tend to collapse an ordinal outcome into a binary outcome. Harrell is showing how using a logistic model is inefficient and lower power than a PO model</li>
<li>Original is interactive with additional information (<a href="https://atlas.mindmup.com/vbiostat/po/#">link</a>)</li>
<li>Includes: efficiency, infomation used, assumptions, special cases, estimands, misc</li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-eda" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-eda">EDA</h2>
<ul>
<li><p>Misc</p>
<ul>
<li>Also see <a href="../qmd/surveys-analysis.html#sec-surveys-anal-viz" style="color: green">Surveys, Analysis &gt;&gt; Visualization</a></li>
</ul></li>
<li><p>Crosstabs</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: Aggregated Counts</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(<span class="fu">xtabs</span>(<span class="sc">~</span> public <span class="sc">+</span> apply <span class="sc">+</span> pared, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dat))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pared&nbsp;  0&nbsp;  1</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="do">## public apply&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 0&nbsp; &nbsp; &nbsp; unlikely&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 175&nbsp; 14</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; somewhat likely&nbsp; &nbsp; &nbsp; &nbsp; 98&nbsp; 26</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; very likely&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 20&nbsp; 10</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 1&nbsp; &nbsp; &nbsp; unlikely&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  25&nbsp;  6</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; somewhat likely&nbsp; &nbsp; &nbsp; &nbsp; 12&nbsp;  4</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; very likely&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  7&nbsp;  3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><span class="var-text">apply</span> is the response variable</p></li>
<li><p>Empty cells or small cells: If a cell has very few cases, the model may become unstable or it might not run at all.</p></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Observation Level (<a href="https://tdunn.ca/posts/2020-03-15-ordinal-regression-in-r-part-1/">article</a>)<br>
<a href="_resources/Regression,_Ordinal.resources/eda-4factor-gt-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="_resources/Regression,_Ordinal.resources/eda-4factor-gt-1.png" class="img-fluid" width="268"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>wine <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">transmute</span>(temp, contact, bottle, judge, <span class="at">rating =</span> <span class="fu">as.numeric</span>(rating)) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> judge, <span class="at">values_from =</span> rating) <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_spanner</span>(<span class="at">columns =</span> <span class="st">`</span><span class="at">1</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">9</span><span class="st">`</span>, <span class="at">label =</span> <span class="st">"judge"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">data_color</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="st">`</span><span class="at">1</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">9</span><span class="st">`</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">colors =</span> scales<span class="sc">::</span><span class="fu">col_numeric</span>(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"white"</span>, wine_red), <span class="at">domain =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Data from <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1</li>
<li>Most <span class="var-text">judges</span> seem to <span class="var-text">rate</span> <span class="var-text">warm</span> bottles highest especially when <span class="var-text">contact = yes</span>.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Look for variation in a potential random effect<br>
<a href="_resources/Regression,_Ordinal.resources/eda-xtab-re-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="_resources/Regression,_Ordinal.resources/eda-xtab-re-1.png" class="img-fluid" width="332"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>wine <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(judge, rating) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> judge, <span class="at">y =</span> rating)) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> n)) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of ratings by judge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>There’s some judge-specific variability in the perception of bitterness of wine. judge 5, for instance, doesn’t stray far from rating = 3, while judge 7 didn’t consider any of the wines particularly bitter.</li>
</ul></li>
</ul></li>
<li><p>Grouped Bar</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span><br>
<img src="_resources/Regression,_Ordinal.resources/eda-grouped-bar-1.webp" class="img-fluid" width="332"></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Response), <span class="at">fill =</span> Group)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Response"</span>, <span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">title =</span> <span class="st">"Response by Group"</span>) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_theme</span>() <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>, <span class="at">legend.direction =</span> <span class="st">"horizontal"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>This is just to get an idea of the frequencies for each group level.</li>
</ul></li>
</ul></li>
<li><p>Histograms</p>
<ul>
<li><p>The shape can help you choose a link function (See <a href="../qmd/regression-ordinal.html#sec-reg-ord-clm" style="color: green">Cumalative Link Models (CLM)</a> &gt;&gt; Link Functions)</p></li>
<li><p>If distributions of a pre-treatment/baseline (outcome) variable looks substantially different than the (post-treatment) outcome variable, then the treatment likely had an effect</p></li>
<li><p><span class="ribbon-highlight">Example</span>: Simple Percentages<br>
<span class="math inline">\(\mbox{lvl}_1 = \mbox{lvl}_{1/N} = 0.2219\)</span>, <span class="math inline">\(\mbox{lvl}_2 = 0.2488\)</span>, <span class="math inline">\(\mbox{lvl}_3 = 0.25\)</span>, and <span class="math inline">\(\mbox{lvl}_4 = 0.2794\)</span></p>
<ul>
<li>Monotonicly increasing, so skewing left</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Histogram, Cumulative Proportion, Log Cumulative Proportion (<a href="https://tdunn.ca/posts/2020-03-15-ordinal-regression-in-r-part-1/">article</a>)<br>
<a href="_resources/Regression,_Ordinal.resources/eda-hist-cum-logcum-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="_resources/Regression,_Ordinal.resources/eda-hist-cum-logcum-1.png" class="img-fluid" width="532"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>wine_prop <span class="ot">&lt;-</span> wine <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(rating) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n), <span class="at">cumsum_p =</span> <span class="fu">cumsum</span>(p))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(wine_prop, <span class="fu">aes</span>(<span class="at">x =</span> rating, <span class="at">y =</span> p)) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">fill =</span> wine_red) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"j"</span>, <span class="at">y =</span> <span class="st">"proportion"</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  (</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(wine_prop, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.integer</span>(rating), <span class="at">y =</span> cumsum_p)) <span class="sc">+</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"j"</span>, <span class="at">y =</span> <span class="st">"cumulative proportion"</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  (</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(wine_prop,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.integer</span>(rating), <span class="at">y =</span> <span class="fu">log</span>(cumsum_p) <span class="sc">-</span> <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">-</span> cumsum_p))) <span class="sc">+</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"j"</span>, <span class="at">y =</span> <span class="st">"logit(cumulative proportion)"</span>)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Data from <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1</li>
<li>Proportions are used since the response is from a multinomial distribution
<ul>
<li>See <a href="../qmd/regression-ordinal.html#sec-reg-ord-clm" style="color: green">Cumulative Link Models (CLM)</a> &gt;&gt; Response variable follows the Multinomial distribution</li>
</ul></li>
<li>Distribution looks a little right-skewed.</li>
</ul></li>
</ul></li>
<li><p>Bi-variate boxplots</p>
<ul>
<li><p>Look for trends of the median</p></li>
<li><p><span class="ribbon-highlight">Example</span>: Numeric vs Ordinal<br>
<a href="./_resources/Regression,_Ordinal.resources/image.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="./_resources/Regression,_Ordinal.resources/image.png" class="img-fluid" width="432"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(<span class="at">x =</span> apply, <span class="at">y =</span> gpa)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_boxplot</span>(<span class="at">size =</span> .<span class="dv">75</span>) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">facet_grid</span>(pared <span class="sc">~</span> public, <span class="at">margins =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>In the lower right hand corner, is the overall relationship between apply and gpa which appears slightly positive.</li>
</ul></li>
</ul></li>
<li><p>Pre-intervention means of the outcome by explanatory variables</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span></p>
<pre><code>CC = 0, TV = 0 2.152
CC = 0, TV = 1 2.087
CC = 1, TV = 0 2.050
CC = 1, TV = 1 1.979</code></pre>
<ul>
<li>CC and TV are binary explanatory variables</li>
<li>The mean score of the pre-treatment outcome doesn’t change much given these two explanatory variables.</li>
<li>I think this shows that for the most part that assignment of the two different treatments was balanced in terms of the scores of the baseline variable.</li>
</ul></li>
</ul></li>
<li><p>Dot Plots</p>
<ul>
<li><p><span class="ribbon-highlight">Example</span>: 4 explanatory factor variables (<a href="https://tdunn.ca/posts/2020-03-15-ordinal-regression-in-r-part-1/">article</a>)<br>
<a href="_resources/Regression,_Ordinal.resources/eda-4factor-dot-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="_resources/Regression,_Ordinal.resources/eda-4factor-dot-1.png" class="img-fluid" width="332"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>wine <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(contact, rating, temp) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">temp =</span> <span class="fu">fct_rev</span>(temp)) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> rating, <span class="at">color =</span> temp)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">group =</span> temp, <span class="at">size =</span> n)) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>contact, <span class="at">scales =</span> <span class="st">"free_x"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">labeller =</span> <span class="fu">labeller</span>(<span class="at">contact =</span> label_both)) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_facet_borders</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Data from <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1</li>
<li>Most <span class="var-text">judges</span> seem to <span class="var-text">rate</span> <span class="var-text">warm</span> bottles highest especially when <span class="var-text">contact = yes</span>.</li>
<li>Compared to the crosstab, I think this more clearly shows that there is an effect present between <span class="var-text">temp</span> and <span class="var-text">rating</span> especially when moderated by <span class="var-text">contact</span>.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-diag" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-diag">Diagnostics</h2>
<ul>
<li><p><span class="arg-text">cond.H</span> - Located in top row of GOF metrics. The condition number of the Hessian is a measure of how identifiable the model is.</p>
<ul>
<li>Values larger than <span class="arg-text">1e4</span> indicate that the model may be ill defined</li>
</ul></li>
<li><p>Deviance: <span class="math inline">\(-2 \cdot (\mbox{LogLik Reduced Model} - \mbox{LogLik Saturated model})\)</span></p>
<ul>
<li>Likelihood ratio statistic for the comparison of the full and reduced models</li>
<li>Reduced model is the model you just fit.
<ul>
<li>Can usually be extracted from the model object (e.g.&nbsp;<span style="color: #990000">{ordinal}</span>: <code>ll_reduced &lt;- mod$logLik</code>)</li>
</ul></li>
<li>Saturated Model also called the Full Model
<ul>
<li><p>Also see <a href="../qmd/regression-discrete.html#sec-reg-disc-terms" style="color: green">Regression, Discrete &gt;&gt; Terms</a></p></li>
<li><p>The Full Model has a parameter for each observation and describes the data perfectly while the reduced model provides a more concise description of the data with fewer parameters.</p></li>
<li><p>Usually calculated from the data themselves</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(wine, <span class="at">package =</span> <span class="st">"ordinal"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">with</span>(wine, <span class="fu">table</span>(temp<span class="sc">:</span>contact, rating))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Get full log-likelihood (aka saturated model log-likelihood)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>pi.hat <span class="ot">&lt;-</span> tab <span class="sc">/</span> <span class="fu">rowSums</span>(tab)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>(ll.full <span class="ot">&lt;-</span> <span class="fu">sum</span>(tab <span class="sc">*</span> <span class="fu">ifelse</span>(pi.hat <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="fu">log</span>(pi.hat), <span class="dv">0</span>))) <span class="do">## -84.01558</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul></li>
<li><p>GOF (rule of thumb): If the deviance about the same size as the difference in the number of parameters (i.e.&nbsp;<span class="math inline">\(p_{\mbox{full}} - p_{\mbox{reduced}}\)</span>), there is NOT evidence of lack of fit. (ordinal <a href="http://people.vcu.edu/~dbandyop/BIOS625/CLM_R.pdf">vignette</a>, pg 14)</p>
<ul>
<li><span class="ribbon-highlight">Example</span> (Have doubts this is correct)
<ul>
<li>Looking at the number of parameters (<span class="arg-text">no.par</span>) for <span class="var-text">fm1</span> in Example 1 (below) and the model summary in <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1, the number of parameters for the reduced model is the <span class="math inline">\(\mbox{number of regression parameters} (2) + \mbox{number of thresholds} (4)\)</span></li>
<li>For the full model (aka saturated), the number of thresholds should be the same, and there should be one more regression parameter, an interaction between <span class="var-text">temp</span> and <span class="var-text">contact</span>. So, 7 should be the number of parameters for the full model</li>
<li>Therefore, for a good-fitting model, the deviance should be close to <span class="math inline">\(p_{\text{full}} - p_{\text{reduced}} = 7 - 6 = 1\)</span></li>
<li>This example uses “number of parameters” which is the phrase in the vignette, but I think it’s possible he might mean degrees of freedom (dof) which he immediatedly discusses afterwards. In the LR Test example below, under LR.Stat, which is essentially what deviance is, the number is around 11 which is quite aways from 1. Not exactly an apples to apples comparison, but the size after adding 1 parameter just makes me wonder if dof would match this scale of numbers for deviances better.</li>
</ul></li>
</ul></li>
<li><p><u>Model Selection</u>: A difference in deviance between two nested models is identical to the likelihood ratio statistic for the comparison of these models</p>
<ul>
<li>See Example 1 (below)</li>
</ul></li>
<li><p><u>Requirement</u>: Deviance tests are fine if the expected frequencies under the reduced model are not too small and as a general rule they should all be at least five.</p>
<ul>
<li>Also see Discrete Analysis notebook</li>
</ul></li>
<li><p><u>Residual Deviance</u>: <span class="math inline">\(D_{\text{resid}} = D_{\text{total}} - D_{\text{reduced}}\)</span></p>
<ul>
<li>A concept similar to a residual sums of squares (RSS)</li>
<li>Total Deviance (<span class="math inline">\(D_{\text{total}}\)</span>) is the Null Deviance: <span class="math inline">\(-2*(\mbox{LogLik Null Model} - \mbox{LogLik Saturated model})\)</span>
<ul>
<li>Analogous to the total sums of squares for linear models</li>
</ul></li>
<li><span class="math inline">\(D_{\text{reduced}}\)</span> is the calculation of Deviance shown above</li>
<li>See example 7, pg 13 (<span style="color: #990000">{ordinal}</span> <a href="http://people.vcu.edu/~dbandyop/BIOS625/CLM_R.pdf">vignette</a>) for (manual) code</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 1</span>: Model selection with LR tests</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>fm2 <span class="ot">&lt;-</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  ordinal<span class="sc">::</span><span class="fu">clm</span>(rating <span class="sc">~</span> temp, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> wine)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fm2, fm1)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Likelihood ratio tests of cumulative link models:</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; formula:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; link:&nbsp; threshold:</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm2 rating ~ temp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  logit&nbsp; flexible</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1 rating ~ temp + contact logit&nbsp; flexible</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; no.par AIC&nbsp; &nbsp;  logLik&nbsp; LR.stat df  Pr(&gt;Chisq)</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm2 5&nbsp; &nbsp; &nbsp; 194.03 -92.013</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1 6&nbsp; &nbsp; &nbsp; 184.98 -86.492&nbsp; 11.043&nbsp; 1&nbsp;  0.0008902 ***</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>For <span class="var-text">fm1</span> model, see <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1</li>
<li>Special method for clm objects from the package; produces an Analysis of Deviance (ANODE) table</li>
<li>Adding <span class="var-text">contact</span> produces a better model (pval &lt; 0.05)</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 2</span>: LR tests for variables</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">drop1</span>(fm1, </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">test =</span> <span class="st">"Chi"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; rating ~ contact + temp</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp;   Df&nbsp; AIC&nbsp; &nbsp; LRT&nbsp; &nbsp; Pr(&gt;Chi)</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;none&gt;&nbsp; &nbsp;   184.98</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contact 1&nbsp;  194.03 11.043 0.0008902 ***</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; temp&nbsp; &nbsp; 1&nbsp;  209.91 26.928 2.112e-07 ***</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># fit null model</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>fm0 <span class="ot">&lt;-</span> </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  ordinal<span class="sc">::</span><span class="fu">clm</span>(rating <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> wine)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">add1</span>(fm0, </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">scope =</span> <span class="sc">~</span> temp <span class="sc">+</span> contact, </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">test =</span> <span class="st">"Chi"</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; Df&nbsp; AIC&nbsp; &nbsp; LRT&nbsp; &nbsp; &nbsp; Pr(&gt;Chi)</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;none&gt;&nbsp; &nbsp; &nbsp; 215.44</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; temp&nbsp; &nbsp; 1&nbsp; &nbsp;194.03&nbsp;23.4113&nbsp; 1.308e-06 ***</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contact 1&nbsp; &nbsp;209.91&nbsp;7.5263&nbsp;  0.00608   **</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>For <span class="var-text">fm1</span> model, see <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1</li>
<li><code>drop1</code>
<ul>
<li>Tests the same thing as the Wald tests in the summary except with <span class="math inline">\(\chi^2\)</span> instead of t-tests
<ul>
<li>i.e.&nbsp;Whether the estimates, while <em>controlling</em> for the other variables, differ from 0, except with LR tests.</li>
</ul></li>
<li>In this case, LR tests slightly more significant than the Wald tests</li>
</ul></li>
<li><code>add1</code>
<ul>
<li>Tests variables where they’re the only explanatory variable in the model (i.e.&nbsp;<em>ingores</em> other variables)</li>
<li>Both variables still significant even without controlling for the other variable</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-clm" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-clm">Cumulative Link Models (CLM)</h2>
<ul>
<li><p>A general class of ordinal regression models that include many of the models in this note.</p></li>
<li><p><u>Types</u></p>
<ul>
<li><strong>Proportional Odds Model</strong>: CLM with a logit link</li>
<li><strong>Proportional Hazards Model</strong>: CLM with a log-log link, for grouped survival times<br>
<span class="math display">\[
-\log(1-\gamma_j(\boldsymbol{x}_i)) = e^{\theta_j - \boldsymbol{x}_i^T \boldsymbol{\beta}}
\]</span>
<ul>
<li>Link Function: <span class="math inline">\(\log(− \log(1 − \gamma))\)</span></li>
<li>Inverse Link: <span class="math inline">\(1 − e^{− e^\eta}\)</span></li>
<li>Distribution: <span class="math inline">\(\mbox{Gumbel} (\min)^b\)</span> (?)</li>
<li><span class="math inline">\(1 − \gamma_j(x_i)\)</span> is the probability or survival beyond category <span class="math inline">\(j\)</span> given <span class="math inline">\(x_i\)</span>.</li>
</ul></li>
<li><strong>Partial Proportional Odds</strong>: Also referred to as <strong>Unequal Slopes</strong>, <strong>Partial Effects</strong>, and <strong>Nominal Effects</strong></li>
<li><strong>Cumulative Link Mixed Models (CLMM)</strong>: CLMs with normally distributed random effects</li>
</ul></li>
<li><p><u>Link Functions</u><br>
<a href="./_resources/Regression,_Ordinal.resources/Screenshot (1139).png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="./_resources/Regression,_Ordinal.resources/Screenshot (1139).png" class="img-fluid" width="632"></a></p>
<ul>
<li>Note the shape of the distributions of the response (see <a href="../qmd/regression-ordinal.html#sec-reg-ord-eda" style="color: green">EDA</a>) to help choose a link function
<ul>
<li>See <a href="regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 2</li>
<li>e.g.&nbsp;A logit link assumes the latent variable probability (and error distribution) is a logistic distribution (fatter tails than a Normal distribution) while a probit link assumes a Normal latent variable probability distribution.</li>
<li>Kurtotic, see <a href="../qmd/mathematics-statistics.html#sec-math-statc-desc-kurt" style="color: green">Mathematics, Statistics &gt;&gt; Descriptive Statistics &gt;&gt; Kurtosis</a> (i.e.&nbsp;Higher sharper peaks w/short tails, flatter peaks w/long tails)
<ul>
<li>Default parameter values fit a symmetric heavy tailed distribution (high, sharp peak)</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Model</u><br>
<a href="./_resources/Regression,_Ordinal.resources/Screenshot (1136).png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="./_resources/Regression,_Ordinal.resources/Screenshot (1136).png" class="img-fluid" width="632"></a></p>
<ul>
<li><span class="math inline">\(j\)</span> is the j<sup>th</sup> ordinal category where <span class="math inline">\(j_1 \lt j_2 \lt \ldots\)</span></li>
<li><span class="math inline">\(i\)</span> is the i<sup>th</sup> observation</li>
<li>The regression part <span class="math inline">\(x^T_i \beta\)</span> is independent of <span class="math inline">\(j\)</span>, so <span class="math inline">\(\beta\)</span> <em>has the same effect for each of the</em> <span class="math inline">\(J − 1\)</span> <em>cumulative logits</em></li>
<li>The <span class="math inline">\(\{\theta_j\}\)</span> parameters provide each cumulative logit (for each <span class="math inline">\(j,\)</span> see below) with its own intercept
<ul>
<li><span class="math inline">\(\theta\)</span> is called a “threshold.” See below, Latent Variable Concept</li>
</ul></li>
<li><span class="math inline">\(z_i\)</span>: A vector of covariates affecting the scale</li>
<li><span class="math inline">\(\zeta\)</span>: A vector of scale parameters to be estimated</li>
</ul></li>
<li><p><u>Response variable follows the Multinomial distribution</u><br>
<span class="math display">\[
\begin{aligned}
&amp;\gamma_{i,j} = P(Y_i \le j) = \pi_{i,1} + \cdots + \pi_{i,j}\\
&amp;\text{with} \quad \sum_{j=1}^J \pi_{i,j} = 1
\end{aligned}
\]</span></p>
<ul>
<li>The output is the probability that the response is the j<sup>th</sup> category or lower.</li>
<li><span class="math inline">\(\pi_{i,j}\)</span> denotes the probability that the i<sup>th</sup> observation falls in response category <span class="math inline">\(j\)</span></li>
<li>This distribution can be visualized by looking at the cumulative proportions in the observed data (See <a href="../qmd/regression-ordinal.html#sec-reg-ord-eda" style="color: green">EDA</a> &gt;&gt; Histograms)</li>
</ul></li>
<li><p><u>Cumulative Logits (Logit Link)</u><br>
<a href="./_resources/Regression,_Ordinal.resources/Screenshot (1129).png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="./_resources/Regression,_Ordinal.resources/Screenshot (1129).png" class="img-fluid" width="632"></a></p>
<ul>
<li><span class="math inline">\(j = 1 , \ldots , J - 1\)</span> , so cumulative logits are defined for all but the last category</li>
<li>If <span class="math inline">\(x\)</span> represent a treatment variable with two levels (e.g., placebo and treatment), then <span class="math inline">\(x_2 − x_1 = 0 - 1 = -1\)</span> and the odds ratio is <span class="math inline">\(e^{−\beta_{\text{treatment}}}\)</span>.
<ul>
<li>Similarly the odds ratio of the event <span class="math inline">\(Y \ge j\)</span> is <span class="math inline">\(e^{\beta_\text{treatment}}\)</span> (i.e.&nbsp;inverse of <span class="math inline">\(Y \le j\)</span>).</li>
</ul></li>
</ul></li>
<li><p><u>Latent Variable Concept</u></p>
<ul>
<li>Notes from <a href="https://ssicentral.com/wp-content/uploads/2021/06/Models_for_proportional_and_non_proportional_odds.pdf">Models for Proportional and Nonproportional Odds</a></li>
<li>Also see the <a href="../qmd/regression-ordinal.html#sec-reg-ord-prob" style="color: green">Proportional Odds (PO) &gt;&gt; Probit Link</a> section</li>
<li>“To motivate the ordinal regression model, it is often assumed that there is an unobservable latent variable ( <span class="math inline">\(y^*\)</span> ) which is related to the actual response through the”<strong>threshold concept</strong>.” An example of this is when respondents are asked to rate their agreement with a given statement using the categories “Disagree,” “Neutral,” “Agree.” These three options leave no room for any other response, though one can argue that these are three possibilities along a continuous scale of agreement that would also make provision for “Strongly Agree” and “Disagree somewhat.” The ordinal responses captured in <span class="math inline">\(y\)</span> and the latent continuous variable <span class="math inline">\(y^*\)</span> are linked through some fixed, but unknown, thresholds.”</li>
<li>A response occurs in category <span class="math inline">\(j\)</span> (<span class="math inline">\(Y = j\)</span>) if the latent response process <span class="math inline">\(y^*\)</span> exceeds the threshold value, <span class="math inline">\(\theta_{j-1}\)</span> , but does not exceed the threshold value, <span class="math inline">\(\theta_j\)</span> .
<ul>
<li>I think <span class="math inline">\(y^*\)</span> is continous on the scale of logits. <span class="math inline">\(\theta_j\)</span>s are also intercepts in the model equations and also on the scale of logits (see <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 3)</li>
</ul></li>
<li>The cumulative probabilities are given in terms of the cumulative logits with <span class="math inline">\(J−1\)</span> strictly increasing model thresholds <span class="math inline">\(\theta_1, \theta_2, \ldots , \theta_{J-1}\)</span>.
<ul>
<li>With <span class="math inline">\(J = 4\)</span>, we would have <span class="math inline">\(J −1 = 3\)</span> cumulative probabilities, given in terms of 3 thresholds <span class="math inline">\(\theta_1\)</span>, <span class="math inline">\(\theta_2\)</span>, and <span class="math inline">\(\theta_3\)</span> . The thresholds represent the marginal response probabilities in the <span class="math inline">\(J\)</span> categories.</li>
<li><strong>Each cumulative logit is a model equation with a threshold for an intercept</strong></li>
</ul></li>
<li>To set the <em>location</em> of the latent variable, it is common to set a threshold to zero. Usually, the first of the threshold parameters ( <span class="math inline">\(\theta_1\)</span>) is set to zero.
<ul>
<li>Alternatively, the model intercept (<span class="math inline">\(\beta_0\)</span>) is set to zero and <span class="math inline">\(J −1\)</span> thresholds are estimated. (Think this is the way <span style="color: #990000">{ordinal}</span> does it.)</li>
</ul></li>
</ul></li>
<li><p><u>Structured Thresholds</u></p>
<ul>
<li>If ratings are the response variable, placing restrictions on thresholds and fitting a model allows us to test assumptions on how the judges are using the response scale</li>
<li>An advantage of applying additional restrictions on the thresholds is that the model has fewer parameters to estimate which increases model sensitivity.</li>
<li>Threshold distances are affected by the shape of the latent variable distribution which is determined by the link function used
<ul>
<li>i.e.&nbsp;If it’s determined that threshold distances are equidistant under a normal distribution (logit link) assumption, then they will not be equidistant if a different link function is used.</li>
</ul></li>
<li><span class="ribbon-highlight">Example</span>: Is the reponse scale being treated by judges as equidistant between values.
<ul>
<li><p>e.g.&nbsp;Is the distance between a rating of 2 and a rating of 1 the same as the distance between a rating of 2 and a rating of 3?</p></li>
<li><p>Mathematically: <span class="math inline">\(\theta_j − \theta_{j−1}\)</span> = constant for <span class="math inline">\(j = 2, ..., J−1\)</span> where <span class="math inline">\(\theta\)</span> are the thresholds and <span class="math inline">\(J\)</span> is the number of levels in the response variable.</p></li>
<li><p>Fit equidistant, PO model</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fm.equi <span class="ot">&lt;-</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clm</span>(rating <span class="sc">~</span> temp <span class="sc">+</span> contact, </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> wine, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">threshold =</span> <span class="st">"equidistant"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fm.equi)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; link&nbsp; threshold&nbsp;  nobs&nbsp; logLik&nbsp; AIC&nbsp; &nbsp; niter&nbsp; max.grad&nbsp; cond.H</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; logit equidistant 72&nbsp;  -87.86&nbsp;  183.73 5(0)&nbsp;  4.80e-07&nbsp; 3.2e+01</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Estimate Std.Error z.value Pr(&gt;|z|)</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tempwarm&nbsp;  2.4632&nbsp;  0.5164&nbsp; &nbsp; 4.77&nbsp; &nbsp; 1.84e-06 ***</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contactyes 1.5080&nbsp;  0.4712&nbsp; &nbsp; 3.20&nbsp; &nbsp; 0.00137 **</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Threshold coefficients:</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Estimate Std.Error z.value</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; threshold.1 -1.0010&nbsp;  0.3978&nbsp;  -2.517</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; spacing&nbsp; &nbsp; &nbsp; 2.1229&nbsp;  0.2455&nbsp; &nbsp; 8.646</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="arg-text">spacing</span>: Average distance between consecutive thresholds</li>
</ul></li>
<li><p>Compare spacing parameter with your model’s average spacing</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">diff</span>(<span class="fu">coef</span>(fm1)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2.116929</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><span class="var-text">fm1</span> is from <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1</p></li>
<li><p>Result: <span class="var-text">fm1</span> spacing is very close to <span class="var-text">fm.equi</span> spacing. Judges are likely applying the response scale as having equal distance between rating values.</p></li>
</ul></li>
<li><p>Does applying threshold restrictions decrease the model’s GOF</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fm1, fm.equi)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; no.par AIC&nbsp; &nbsp;  logLik LR.stat df Pr(&gt;Chisq)</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm.equi 4&nbsp; &nbsp; &nbsp; 183.73 -87.865</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1&nbsp; &nbsp;  6&nbsp; &nbsp; &nbsp; 184.98 -86.492 2.7454&nbsp; 2&nbsp; 0.2534</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>No statistical difference in log-likelihoods. Fewer parameters to estimate is better, so keep the equidistant thresholds</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-po" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-po">Proportional Odds (PO)</h2>
<section id="sec-reg-ord-po-misc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-reg-ord-po-misc">Misc</h3>
<ul>
<li>The treatment effect for proportional odds model will be the average of the treatment effects of <span class="math inline">\(J-1\)</span> logistic regression models where each model is dichotmized at each, but not the last, ordinal level.
<ul>
<li>The intercepts in the proportional odds model will be similar to those intercepts from the <span class="math inline">\(J-1\)</span> logistic regression models
<ul>
<li>The intercepts of these logistic models have to be different, but the slopes could (in principle) be the same or same-ish. If they are the same, then the proportional odds assumption holds.</li>
</ul></li>
<li>The proportional odds model has a smaller std.error for its treatment effect than any of the treatment effects of the <span class="math inline">\(J-1\)</span> logistic regression models (i.e.&nbsp;more accurately estimated in p.o. model)</li>
</ul></li>
<li>Benefits
<ul>
<li>It enforces stochastic ordering (?)</li>
<li>Lots of choices for link functions.</li>
<li>Reasonable model for analysing ordinal data
<ul>
<li><span class="math inline">\(\beta\)</span> will be some sort of appropriately-weighted average of what you’d get for the separate logistic regressions</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-po-ass" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-reg-ord-po-ass">Assumption</h3>
<ul>
<li>The independent variable effect is the same for all levels of the ordinal outcome variable</li>
<li><span class="math inline">\(\beta\)</span>s (i.e.&nbsp;treatment effect) are not allowed to vary with <span class="math inline">\(j\)</span> (i.e.&nbsp;response variable levels) or equivalently that the threshold parameters <span class="math inline">\({\theta_j}\)</span> are not allowed to depend on regression variables</li>
<li><span class="ribbon-highlight">Example</span>:
<ul>
<li>Outcome = <span class="var-text">health_status</span> (1 for <span class="var-text">poor</span>, 2 for <span class="var-text">average</span>, 3 for <span class="var-text">good</span> and 4 for <span class="var-text">excellent</span>)</li>
<li>Independent Variable = <span class="var-text">family_income</span> (1 for <span class="var-text">above avg</span>, 0 for <span class="var-text">below average</span>)</li>
<li>If the proportional odds assumption holds then:
<ul>
<li>The log odds of being at <span class="var-text">average health</span> from <span class="var-text">poor health</span> is <span class="math inline">\(\beta_1\)</span> if <span class="var-text">family income</span> increases to <span class="var-text">above average</span> status.</li>
<li>The log odds of being at <span class="var-text">good heath</span> from <span class="var-text">average health</span> is <span class="math inline">\(\beta_1\)</span> if <span class="var-text">family income</span> increases to <span class="var-text">above average</span> status.</li>
<li>The log odds of being at <span class="var-text">excellent heath</span> from <span class="var-text">good health</span> is <span class="math inline">\(\beta_1\)</span> if <span class="var-text">family income</span> increases to <span class="var-text">above average</span> status.</li>
</ul></li>
</ul></li>
<li>Testing the assumption
<ul>
<li><strong>Even if the model fails the PO assumption, it can still be useful</strong> (See <a href="../qmd/regression-ordinal.html#sec-reg-ord-misc" style="color: green">Misc</a> &gt;&gt; Harrell summary and comparison of a PO model vs Logistic)</li>
<li>Issues with testing
<ul>
<li>Small Sample Sizes: For some variables, you might not have enough power to detect important violations of the PO assumption.</li>
<li>Large Sample Sizes: For some variables, you will detect small, unimportant violations of the PO assumption and reject a good model.</li>
<li>Omnidirectional goodness-of-fit tests don’t tell you which variables you should look at for improvements.</li>
</ul></li>
<li>You can test this assumption by fitting a PO model and PPO model.
<ul>
<li>Then, comparing both models via LR Test or using <span style="color: #990000">{ordinal::nominal_test}</span> (See below, <a href="../qmd/regression-ordinal.html#sec-reg-ord-ppo" style="color: green">Partial Proportional Odds (PPO)</a> &gt;&gt; Example 2 and Example 3)</li>
</ul></li>
<li>Assess graphically (<a href="https://stats.oarc.ucla.edu/r/dae/ordinal-logistic-regression/">article</a>, Harrell RMS pg 316)
<ol type="1">
<li><p>Calculate estimated effects for each explanatory variable in a univariate logistic regression model (e.g.&nbsp;<code>glm(apply ~ pared, family = binomial)</code>)</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>sf <span class="ot">&lt;-</span> <span class="cf">function</span>(y) {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">c</span>(<span class="st">'Y&gt;=1'</span> <span class="ot">=</span> <span class="fu">qlogis</span>(<span class="fu">mean</span>(y <span class="sc">&gt;=</span> <span class="dv">1</span>)),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="st">'Y&gt;=2'</span> <span class="ot">=</span> <span class="fu">qlogis</span>(<span class="fu">mean</span>(y <span class="sc">&gt;=</span> <span class="dv">2</span>)),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="st">'Y&gt;=3'</span> <span class="ot">=</span> <span class="fu">qlogis</span>(<span class="fu">mean</span>(y <span class="sc">&gt;=</span> <span class="dv">3</span>)))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>(s <span class="ot">&lt;-</span> </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">with</span>(dat, </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>         <span class="fu">summary</span>(<span class="fu">as.numeric</span>(apply) <span class="sc">~</span> pared <span class="sc">+</span> public <span class="sc">+</span> gpa, </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fun=</span>sf)))</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; +-------+-----------+---+----+--------+------+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |&nbsp; &nbsp; &nbsp;  |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |N&nbsp; |Y&gt;=1|Y&gt;=2&nbsp; &nbsp; |Y&gt;=3&nbsp; |</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; +-------+-----------+---+----+--------+------+</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |pared&nbsp; |No&nbsp; &nbsp; &nbsp; &nbsp;  |337|Inf |-0.37834|-2.441|</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |&nbsp; &nbsp; &nbsp;  |Yes&nbsp; &nbsp; &nbsp; &nbsp; | 63|Inf | 0.76547|-1.347|</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; +-------+-----------+---+----+--------+------+</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |public |No&nbsp; &nbsp; &nbsp; &nbsp;  |343|Inf |-0.20479|-2.345|</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |&nbsp; &nbsp; &nbsp;  |Yes&nbsp; &nbsp; &nbsp; &nbsp; | 57|Inf |-0.17589|-1.548|</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; +-------+-----------+---+----+--------+------+</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |gpa&nbsp; &nbsp; |[1.90,2.73)|102|Inf |-0.39730|-2.773|</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |&nbsp; &nbsp; &nbsp;  |[2.73,3.00)| 99|Inf |-0.26415|-2.303|</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |&nbsp; &nbsp; &nbsp;  |[3.00,3.28)|100|Inf |-0.20067|-2.091|</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |&nbsp; &nbsp; &nbsp;  |[3.28,4.00]| 99|Inf | 0.06062|-1.804|</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; +-------+-----------+---+----+--------+------+</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; |Overall|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |400|Inf |-0.20067|-2.197|</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; +-------+-----------+---+----+--------+------+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>For <span class="math inline">\(Y \ge 2\)</span> and <span class="var-text">pared = no</span>, -0.37834 is the same as the intercept of the univariate model</p></li>
<li><p>For <span class="math inline">\(Y \ge 2\)</span> and <span class="var-text">pared = yes</span>, 0.76547 is the same as the intercept + coefficient of the univariate model</p></li>
</ul></li>
<li><p>For each variable, calculate differences in estimates between levels of the ordinal response</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>s[, <span class="dv">4</span>] <span class="ot">&lt;-</span> s[, <span class="dv">4</span>] <span class="sc">-</span> s[, <span class="dv">3</span>]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>s[, <span class="dv">3</span>] <span class="ot">&lt;-</span> s[, <span class="dv">3</span>] <span class="sc">-</span> s[, <span class="dv">3</span>]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>s</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="do">## +-------+-----------+---+----+----+------+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="do">## |&nbsp; &nbsp; &nbsp;  |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |N&nbsp; |Y&gt;=1|Y&gt;=2|Y&gt;=3&nbsp; |</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="do">## +-------+-----------+---+----+----+------+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="do">## |pared&nbsp; |No&nbsp; &nbsp; &nbsp; &nbsp;  |337|Inf |0&nbsp; |-2.062|</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="do">## |&nbsp; &nbsp; &nbsp;  |Yes&nbsp; &nbsp; &nbsp; &nbsp; | 63|Inf |0&nbsp; |-2.113|</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="do">## +-------+-----------+---+----+----+------+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="do">## |public |No&nbsp; &nbsp; &nbsp; &nbsp;  |343|Inf |0&nbsp; |-2.140|</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="do">## |&nbsp; &nbsp; &nbsp;  |Yes&nbsp; &nbsp; &nbsp; &nbsp; | 57|Inf |0&nbsp; |-1.372|</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="do">## +-------+-----------+---+----+----+------+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="do">## |gpa&nbsp; &nbsp; |[1.90,2.73)|102|Inf |0&nbsp; |-2.375|</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="do">## |&nbsp; &nbsp; &nbsp;  |[2.73,3.00)| 99|Inf |0&nbsp; |-2.038|</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="do">## |&nbsp; &nbsp; &nbsp;  |[3.00,3.28)|100|Inf |0&nbsp; |-1.890|</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="do">## |&nbsp; &nbsp; &nbsp;  |[3.28,4.00]| 99|Inf |0&nbsp; |-1.864|</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="do">## +-------+-----------+---+----+----+------+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="do">## |Overall|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |400|Inf |0&nbsp; |-1.997|</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="do">## +-------+-----------+---+----+----+------+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>For <span class="var-text">pared</span>, the difference in estimates between <span class="math inline">\(Y \ge 2\)</span> and <span class="math inline">\(Y \ge 3\)</span> is -2.062 and -2.113. Therefore, it would seem that the PO assumption holds up pretty well for <span class="var-text">pared</span>.</p></li>
<li><p>For <span class="var-text">public</span>, the difference in estimates between <span class="math inline">\(Y \ge 2\)</span> and <span class="math inline">\(Y \ge 3\)</span> is -2.140 and -1.372. Therefore, it would seem that the PO assumption does NOT hold up for <span class="var-text">public</span>.</p></li>
<li><p>If there was a <span class="math inline">\(Y \ge 4\)</span>, then for <span class="var-text">pared</span>, the difference in estimates between <span class="math inline">\(Y \ge 3\)</span> and <span class="math inline">\(Y \ge 4\)</span> should be near 2 as well in order for the PO assumption to hold for that variable.</p></li>
</ul></li>
<li><p>Plot<br>
<a href="./_resources/Regression,_Ordinal.resources/image.1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="./_resources/Regression,_Ordinal.resources/image.1.png" class="img-fluid" width="432"></a></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(s, <span class="at">which=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">pch=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">xlab=</span><span class="st">'logit'</span>, <span class="at">main=</span><span class="st">' '</span>, <span class="at">xlim=</span><span class="fu">range</span>(s[,<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>In addition to the PO assumption not seemingly holding for public, there also seems to be some substantial differences between the quantiles of gpa.
<ul>
<li>The 3rd and 4th seem to be in agreement, but not the 1st and maybe not the 2nd.</li>
</ul></li>
</ul></li>
</ol></li>
<li>Assess PO assumption via ECDF
<ul>
<li><p>Procedure</p>
<ul>
<li>Compute the empirical cumulative distribution function (ECDF) for the response variable, stratified by group</li>
<li>Take the logit transformation of each ECDF</li>
<li>Check for parallelism</li>
<li>Linearity would be required <strong>only</strong> if using a parametric logistic distribution instead of using our semiparametric PO model</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Harrell BFBR <a href="https://hbiostat.org/bbr/nonpar#checking-assumptions-of-the-wilcoxon-test">Ch. 7.7</a><br>
<a href="_resources/Regression,_Ordinal.resources/po-ass-ecdf-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="_resources/Regression,_Ordinal.resources/po-ass-ecdf-1.png" class="img-fluid" width="332"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">getHdata</span>(pbc)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>pbc[, <span class="fu">c</span>(<span class="st">"bili"</span>, <span class="st">"spiders"</span>)] <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 418</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 2</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ bili    &lt;labelled&gt; 14.5, 1.1, 1.4, 1.8, 3.4, 0.8, 1.0, 0.3, 3.2, 12.6, 1.4, 3.6, 0.7, 0.8, 0.8, 0.7, 2.7, 11.4, 0.7, 5.1, 0.6, 3.4, 17.4…</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ spiders &lt;fct&gt; present, present, absent, present, present, absent, absent, absent, present, present, present, present, absent, absent, ab…</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Take logit of ECDF</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>Hmisc<span class="sc">::</span><span class="fu">Ecdf</span>(<span class="sc">~</span> bili, </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> spiders, </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> pbc, </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">fun =</span> qlogis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>The curves are primarily parallel (even at the far left, despite the optical illusion)</li>
<li>Nonlinearity that is present is irrelevant</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-po-ex" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-reg-ord-po-ex">Examples</h3>
<ul>
<li><p><span class="ribbon-highlight">Example 1</span>: Basic</p>
<ul>
<li><p>Data</p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(wine, <span class="at">package =</span> <span class="st">"ordinal"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(<span class="fu">as_tibble</span>(wine))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 72</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 6</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ response &lt;dbl&gt; 36, 48, 47, 67, 77, 60, 83, 90, 17, 22, 14, 50, 30, 51, 90, 7…</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ rating   &lt;ord&gt; 2, 3, 3, 4, 4, 4, 5, 5, 1, 2, 1, 3, 2, 3, 5, 4, 2, 3, 3, 2, 5…</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ temp     &lt;fct&gt; cold, cold, cold, cold, warm, warm, warm, warm, cold, cold, c…</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ contact  &lt;fct&gt; no, no, yes, yes, no, no, yes, yes, no, no, yes, yes, no, no,…</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ bottle   &lt;fct&gt; 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5…</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ judge    &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3…</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li><p>Other variables</p>
<ul>
<li><span class="var-text">response</span>: alternative outcome; wine bitterness rating on a 0-100 scale</li>
<li>Random Effects
<ul>
<li><span class="var-text">bottle</span> with 8 levels</li>
<li><span class="var-text">judge</span> with 9 levels</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Model</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>fm1 <span class="ot">&lt;-</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  ordinal<span class="sc">::</span><span class="fu">clm</span>(rating <span class="sc">~</span> contact <span class="sc">+</span> temp, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> wine)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fm1)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; formula: rating ~ contact + temp</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; data: wine</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; link threshold nobs logLik&nbsp; AIC&nbsp; &nbsp; niter max.grad&nbsp; cond.H</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; logit flexible 72&nbsp; -86.49&nbsp; 184.98&nbsp; 6(0)&nbsp; 4.01e-12&nbsp; 2.7e+01</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Estimate&nbsp; Std.Error&nbsp; z value&nbsp; Pr(&gt;|z|)</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contactyes 1.5278&nbsp; &nbsp; 0.4766&nbsp; &nbsp;  3.205&nbsp; &nbsp; 0.00135 **</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tempwarm&nbsp;  2.5031&nbsp; &nbsp; 0.5287&nbsp; &nbsp;  4.735&nbsp; &nbsp; 2.19e-06 ***</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Threshold coefficients:</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; Estimate Std.Error z value</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1|2 -1.3444&nbsp; 0.5171&nbsp;   -2.600</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2|3&nbsp; 1.2508&nbsp; 0.4379&nbsp; &nbsp;  2.857</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3|4&nbsp; 3.4669&nbsp; 0.5978&nbsp; &nbsp;  5.800</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4|5&nbsp; 5.0064&nbsp; 0.7309&nbsp; &nbsp;  6.850</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; confint(fm1)</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  2.5 %&nbsp; &nbsp;  97.5 %</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tempwarm&nbsp;  1.5097627 3.595225</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contactyes 0.6157925 2.492404</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Model: <span class="math inline">\(\mbox{logit}(P(Y_i \le j)) = \theta_j − \beta_1(\mbox{temp}_i ) − \beta_2(\mbox{contact}_i)\)</span></li>
<li>Response is wine <span class="var-text">rating</span> (1 to 5 = most <span class="var-text">bitter</span>)
<ul>
<li><strong>The response variable should be an ordered factor class</strong>
<ul>
<li>In this example, both explanatory variables were factor variables.</li>
</ul></li>
</ul></li>
<li><span class="arg-text">cond.H</span> - Located in top row of GOF metrics. The condition number of the Hessian is a measure of how identifiable the model is.
<ul>
<li>Values larger than <span class="arg-text">1e4</span> indicate that the model may be ill defined</li>
</ul></li>
<li>Regression Coefficients
<ul>
<li><span class="var-text">temp</span>: <span class="math inline">\(\beta_1(\mbox{warm} − \mbox{cold}) = 2.50\)</span>
<ul>
<li>The reference level is <span class="var-text">cold</span>, and this is the effect of moving from <span class="var-text">cold</span> to <span class="var-text">warm</span></li>
</ul></li>
<li><span class="var-text">contact</span>: <span class="math inline">\(\beta_2(\mbox{yes} − \mbox{no}) = 1.53\)</span>
<ul>
<li>The odds ratio of <span class="var-text">bitterness</span> being rated in category <span class="math inline">\(j\)</span> or above (<span class="math inline">\(\mbox{OR}(Y ≥ j)\)</span>) is <span class="math inline">\(e^{\beta_2(\mbox{yes − no})} = e^{1.53} = 4.61\)</span>.
<ul>
<li>Note: this is <span class="math inline">\(\mbox{Pr}(Y \ge j)\)</span> which is why we’re using the positive <span class="math inline">\(\beta\)</span></li>
</ul></li>
<li>The reference level is <span class="var-text">no</span>, and this is the effect of moving from <span class="var-text">no</span> to <span class="var-text">yes</span></li>
</ul></li>
<li>Interpretation:
<ul>
<li><span class="var-text">contact</span> and <span class="var-text">warm temperature</span> both lead to higher probabilities of observations in the high categories</li>
<li>Me: The odds of the <span class="var-text">rating</span> being higher are <span class="math inline">\(4.61\)</span> times greater when <span class="var-text">contact = yes</span> than when <span class="var-text">contact = no</span>.</li>
</ul></li>
</ul></li>
<li>Thresholds (aka intercepts)
<ul>
<li><span class="math inline">\(\{\theta_j\} = \{−1.34, 1.25, 3.47, 5.01\}\)</span></li>
<li>Often the thresholds are not of primary interest, but they are an integral part of the model. .</li>
<li>It is not relevant to test whether the thresholds are equal to zero, so no p-values are provided for this test.</li>
</ul></li>
</ul></li>
<li><p>Visualize Effects and Thresholds<br>
<a href="_resources/Regression,_Ordinal.resources/po-ex1-errorbars-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="_resources/Regression,_Ordinal.resources/po-ex1-errorbars-1.png" class="img-fluid" width="382"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(fm1, </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">conf.int =</span> <span class="cn">TRUE</span>, </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">conf.type =</span> <span class="st">"Wald"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> term, <span class="at">x =</span> estimate)) <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_linerange</span>(<span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">xmin =</span> conf.low, <span class="at">xmax =</span> conf.high))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Effect sizes are logits and thresholds are also on the log scale.</li>
</ul></li>
<li><p>Exponentiate and Summarize<br>
<a href="_resources/Regression,_Ordinal.resources/po-ex1-ortbl.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="_resources/Regression,_Ordinal.resources/po-ex1-ortbl.png" class="img-fluid" width="220"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(fm1, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">intercept =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>Not sure the PO model threshold CIs weren’t calculated. They were for the</li>
</ul></li>
<li><p>Test for interaction</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>fm1_inter <span class="ot">&lt;-</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clm</span>(rating <span class="sc">~</span> contact <span class="sc">*</span> temp, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> wine, </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">link =</span> <span class="st">"logit"</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#drop1(fm1_inter, test = "Chisq") accomplishes the same thing as anova</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fm1, fm1_inter)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Likelihood ratio tests of cumulative link models:</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  </span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           formula:                link: threshold:</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1       rating ~ contact + temp logit flexible  </span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1_inter rating ~ contact * temp logit flexible  </span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           no.par    AIC  logLik LR.stat df Pr(&gt;Chisq)</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1            6 184.98 -86.492                      </span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1_inter      7 186.83 -86.416  0.1514  1     0.6972</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>No interaction which doesn’t totally surprise me given the EDA plot (See <a href="../qmd/regression-ordinal.html#sec-reg-ord-eda" style="color: green">EDA</a> &gt;&gt; Dot Plots), but I did think it’d be closer.</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 2</span>: Weighted Complimentary Log-Log Link, Comparing Links</p>
<ul>
<li><p>Data</p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp;  year&nbsp; pct   income</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1&nbsp; 1960&nbsp;  6.5&nbsp; &nbsp; 0-3</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2&nbsp; 1960&nbsp;  8.2&nbsp; &nbsp; 3-5</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3&nbsp; 1960  11.3&nbsp; &nbsp; 5-7</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4&nbsp; 1960  23.5&nbsp;  7-10</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5&nbsp; 1960  15.6&nbsp; 10-12</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6&nbsp; 1960  12.7&nbsp; 12-15</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7&nbsp; 1960  22.2&nbsp; &nbsp; 15+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8&nbsp; 1970&nbsp;  4.3&nbsp; &nbsp; 0-3</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9&nbsp; 1970&nbsp;  6.0&nbsp; &nbsp; 3-5</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 1970&nbsp;  7.7&nbsp; &nbsp; 5-7</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 1970  13.2&nbsp;  7-10</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12 1970  10.5&nbsp; 10-12</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13 1970  16.3&nbsp; 12-15</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14 1970  42.1&nbsp; &nbsp; 15+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li><span class="var-text">income</span> (ordered factor) are intervals in thousands of 1973 US dollars</li>
<li><span class="var-text">pct</span> (numeric) is percent of the population in that income bracket from that particular year</li>
<li><span class="var-text">year</span> (factor)</li>
</ul></li>
<li><p>Comparing multiple links</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> links <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"logit"</span>, <span class="st">"probit"</span>, <span class="st">"cloglog"</span>, <span class="st">"loglog"</span>, <span class="st">"cauchit"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sapply</span>(links, </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>         <span class="cf">function</span>(link) {</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>            ordinal<span class="sc">::</span><span class="fu">clm</span>(income <span class="sc">~</span> year, </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data =</span> income, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">weights =</span> pct, </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">link =</span> link)<span class="sc">$</span>logLik </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>         })</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  logit&nbsp; &nbsp;  probit&nbsp; &nbsp; cloglog&nbsp;  loglog&nbsp; &nbsp; cauchit</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -353.3589 -353.8036 -352.8980 -355.6028 -352.8434</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The cauchy distribution has the highest log-likelihood and is therefore the best fit to the data, but is closely followed by the complementary log-log link</li>
</ul></li>
<li><p>Fit the cloglog for interpretation convenience</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clm</span>(income <span class="sc">~</span> year, </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> income, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">weights =</span> pct, </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">link =</span> <span class="st">"cloglog"</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; link&nbsp; &nbsp; threshold nobs&nbsp; logLik&nbsp; AIC&nbsp; &nbsp; niter max.grad cond.H&nbsp;</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; cloglog flexible&nbsp; 200.1 -352.90 719.80 6(0)&nbsp; 1.87e-11 7.8e+01</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp;   Estimate  Std. Error z value Pr(&gt;|z|)&nbsp; &nbsp;</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; year1970&nbsp; 0.5679&nbsp; &nbsp; 0.1749&nbsp;    3.247&nbsp;  0.00116 **</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Threshold coefficients:</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Estimate   Std. Error z value</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0-3|3-5&nbsp; &nbsp;  -2.645724&nbsp; 0.310948&nbsp;  -8.509</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3-5|5-7&nbsp; &nbsp;  -1.765970&nbsp; 0.210267&nbsp;  -8.399</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5-7|7-10&nbsp; &nbsp; -1.141808&nbsp; 0.164710&nbsp;  -6.932</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7-10|10-12&nbsp; -0.398434&nbsp; 0.132125&nbsp;  -3.016</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10-12|12-15&nbsp; 0.004931&nbsp; 0.123384&nbsp;   0.040</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12-15|15+&nbsp; &nbsp; 0.418985&nbsp; 0.120193&nbsp;   3.486</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>** The uncertainty of parameter estimates depends on the sample size, which is unknown here, so hypothesis tests should not be considered **</li>
<li>Interpretation
<ul>
<li><p>“If <span class="math inline">\(p_{1960}(x)\)</span> is proportion of the population with an income larger than <span class="math inline">\(x\)</span> in 1960 and <span class="math inline">\(p_{1970}(x)\)</span> is the equivalent in 1970, then approximately”<br>
<span class="math display">\[
\begin{aligned}
\log p_{1960} (x) &amp;= e^{\hat\beta} \log p_{1970}(x) \\
                  &amp;= e^{0.568} \log p_{1970}(x)
\end{aligned}
\]</span></p></li>
<li><p>So for any <span class="var-text">income</span> dollar amount, the proportion of the population in <span class="var-text">1960</span> (or <span class="var-text">1970</span> w/some algebra) with that <span class="var-text">income</span> or greater can be estimated.</p></li>
</ul></li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 3</span>: <span style="color: #990000">{MASS::polr}</span> (<a href="https://stats.oarc.ucla.edu/r/dae/ordinal-logistic-regression/">article</a>)</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">polr</span>(apply <span class="sc">~</span> pared <span class="sc">+</span> public <span class="sc">+</span> gpa, </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">data =</span> dat, </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">Hess =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Coefficients:</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Value       Std. Error t value</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="do">## pared&nbsp;   1.0477&nbsp; &nbsp; &nbsp; 0.266&nbsp;     3.942</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="do">## public  -0.0588&nbsp; &nbsp; &nbsp; 0.298&nbsp;    -0.197</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="do">## gpa&nbsp; &nbsp;   0.6159&nbsp; &nbsp; &nbsp; 0.261&nbsp;     2.363</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp;</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Intercepts:</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;   Value&nbsp; Std. Error t value</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="do">## unlikely|somewhat likely&nbsp; &nbsp;  2.204&nbsp; 0.780&nbsp; &nbsp; &nbsp; 2.827&nbsp;</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="do">## somewhat likely|very likely&nbsp; 4.299&nbsp; 0.804&nbsp; &nbsp; &nbsp; 5.345&nbsp;</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp;</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="do">## Residual Deviance: 717.02&nbsp;</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="do">## AIC: 727.02</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Response: <span class="var-text">apply</span> to grad school with levels: <span class="var-text">unlikely</span>, <span class="var-text">somewhat likely</span>, and <span class="var-text">very likely</span> (coded <span class="arg-text">1</span>, <span class="arg-text">2</span>, and <span class="arg-text">3</span>)</p>
<ul>
<li>The researchers believe there is a greater distance between <span class="var-text">somewhat likely</span> and <span class="var-text">very likely</span> than <span class="var-text">somewhat likely</span> and <span class="var-text">unlikely</span>.
<ul>
<li>See <a href="../qmd/regression-ordinal.html#sec-reg-ord-clm" style="color: green">Cumulative Link Models (CLM)</a> &gt;&gt; Structured Thresholds</li>
</ul></li>
</ul></li>
<li><p>Explanatory:</p>
<ul>
<li><span class="var-text">pared</span> - Parent’s Education (<span class="arg-text">0/1</span>), <span class="var-text">Graduate School</span> or Not</li>
<li><span class="var-text">public</span> - <span class="var-text">Public School</span> or Not (i.e.&nbsp;<span class="var-text">Private</span>) (<span class="arg-text">0/1</span>)</li>
<li><span class="var-text">gpa</span> (numeric)</li>
</ul></li>
<li><p>Model<br>
</p>
<p><span class="math display">\[
\begin{aligned}
\mbox{logit}(\hat P(Y\le 1)) &amp;= (2.20-1.05) \times (\mbox{pared}-(-0.06)) \times (\mbox{public}-0.616) \times \mbox{gpa} \\
\mbox{logit}(\hat P(Y\le 2)) &amp;= (4.30-1.05) \times (\mbox{pared}-(-0.06)) \times (\mbox{public}-0.616) \times \mbox{gpa}
\end{aligned}
\]</span></p>
<ul>
<li>Equation shows the thresholds (aka cutpoints) as intercepts and the minus sign propugated through the rest of the regression equation</li>
</ul></li>
<li><p>Add p-values to the summary table</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">## store table</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>(ctable <span class="ot">&lt;-</span> <span class="fu">coef</span>(<span class="fu">summary</span>(m)))</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="do">## calculate and store p values</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fu">abs</span>(ctable[, <span class="st">"t value"</span>]), <span class="at">lower.tail =</span> <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="do">## combined table</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>(ctable <span class="ot">&lt;-</span> <span class="fu">cbind</span>(ctable, <span class="st">"p value"</span> <span class="ot">=</span> p))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>CIs:</p>
<ul>
<li>Profile CIs: <code>confint(m)</code>
<ul>
<li>Also see <a href="../qmd/confidence-and-prediction-intervals.html#sec-cipi-misc" style="color: green">Confidence &amp; Prediction Intervals &gt;&gt; Misc</a></li>
</ul></li>
<li>Assuming normality: <code>confint.default(m)</code></li>
</ul></li>
<li><p>Interpretation:</p>
<ul>
<li><p>In <strong>Ordered Log Odds</strong> (aka <strong>Ordered Logits</strong>)</p>
<ul>
<li><span class="var-text">pared</span>: For a one unit increase in <span class="var-text">pared</span> (i.e., going from <span class="arg-text">0</span> to <span class="arg-text">1</span>), we expect a <span class="math inline">\(1.05\)</span> increase in the expected value of <span class="var-text">apply</span> on the log odds scale, given all of the other variables in the model are held constant.</li>
<li><span class="var-text">gpa</span>: For one unit increase in <span class="var-text">gpa</span>, we would expect a <span class="math inline">\(0.62\)</span> increase in the expected value of <span class="var-text">apply</span> in the log odds scale, given that all of the other variables in the model are held constant</li>
</ul></li>
<li><p>In <strong>Odds Ratios</strong> (aka <strong>Proportional Odds Ratios</strong>): (w/CIs <code>exp(cbind(OR = coef(m), ci = confint(m))</code></p>
<ul>
<li>This is a Proportional Odds Model so <em>the effect size is the same at all levels of the response variable</em>.</li>
<li><span class="var-text">pared</span>:
<ul>
<li>For students whose parents did have a <span class="var-text">graduate degree</span>, the odds of being more likely (i.e., <span class="var-text">very</span> or <span class="var-text">somewhat likely</span> versus <span class="var-text">unlikely</span>) to <span class="var-text">apply</span> is <span class="math inline">\(2.85\)</span> times that of students whose parents did <span class="var-text">NOT</span> have a graduate degree, holding constant all other variables.</li>
<li>For students whose parents did have a <span class="var-text">graduate degrees</span>, the odds of being less likely to <span class="var-text">apply</span> (i.e., <span class="var-text">unlikely</span> versus <span class="var-text">somewhat</span> or <span class="var-text">very likely</span>) is <span class="math inline">\(2.85\)</span> times that of students whose parents did <span class="var-text">NOT</span> have a graduate degree, holding constant all other variables.</li>
</ul></li>
<li><span class="var-text">public</span>
<ul>
<li>For students in <span class="var-text">public school</span>, the odds of being more likely (i.e., <span class="var-text">very</span> or <span class="var-text">somewhat likely</span> versus <span class="var-text">unlikely</span>) to <span class="var-text">apply</span> is <span class="math inline">\(5.71\%\)</span> lower [i.e., (<span class="math inline">\(1 -0.943) \times 100\%\)</span>] than <span class="var-text">private school</span> students, holding constant all other variables.
<ul>
<li>For students in <span class="var-text">private school</span>, the odds of being more likely to <span class="var-text">apply</span> is <span class="math inline">\(1.06\)</span> times [i.e., <span class="math inline">\(\frac{1}{0.943}\)</span>] that of <span class="var-text">public school</span> students, holding constant all other variables (positive odds ratio).</li>
</ul></li>
<li>For students in <span class="var-text">private school</span>, the odds of being less likely to <span class="var-text">apply</span> (i.e., <span class="var-text">unlikely</span> versus <span class="var-text">somewhat</span> or <span class="var-text">very likely</span>) is <span class="math inline">\(5.71\%\)</span> lower than <span class="var-text">public school</span> students, holding constant all other variables.
<ul>
<li>For students in <span class="var-text">public school</span>, the odds of being less likely to <span class="var-text">apply</span> is <span class="math inline">\(1.06\)</span> times that of <span class="var-text">private school</span> students, holding constant all other variables (positive odds ratio).</li>
</ul></li>
</ul></li>
<li><span class="var-text">gpa</span>
<ul>
<li>For every one unit increase in student’s <span class="var-text">GPA</span> the odds of being more likely to <span class="var-text">apply</span> (<span class="var-text">very</span> or <span class="var-text">somewhat likely</span> versus <span class="var-text">unlikely</span>) is multiplied <span class="math inline">\(1.85\)</span> times (i.e., increases <span class="math inline">\(85\%\)</span>), holding constant all other variables.</li>
<li>For every one unit decrease in student’s <span class="var-text">GPA</span> the odds of being less likely to <span class="var-text">apply</span> (<span class="var-text">unlikely</span> versus <span class="var-text">somewhat</span> or <span class="var-text">very likely</span>) is multiplied <span class="math inline">\(1.85\)</span> times, holding constant all other variables.</li>
</ul></li>
</ul></li>
<li><p>Predictions: <code>predict(m, data = newdat, type = "probs")</code></p></li>
<li><p>Plot Predictions<br>
<a href="./_resources/Regression,_Ordinal.resources/image.2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="./_resources/Regression,_Ordinal.resources/image.2.png" class="img-fluid" width="432"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>newdat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(newdat, </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>                <span class="fu">predict</span>(m, </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>                        newdat, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">type =</span> <span class="st">"probs"</span>))</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>lnewdat <span class="ot">&lt;-</span> <span class="fu">melt</span>(newdat, </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">"pared"</span>, <span class="st">"public"</span>, <span class="st">"gpa"</span>),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">variable.name =</span> <span class="st">"Level"</span>, </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">value.name=</span><span class="st">"Probability"</span>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lnewdat, </span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> gpa, <span class="at">y =</span> Probability, <span class="at">colour =</span> Level)) <span class="sc">+</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(pared <span class="sc">~</span> public, </span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">labeller=</span><span class="st">"label_both"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-reg-ord-ppo" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-ppo">Partial Proportional Odds (PPO)</h2>
<ul>
<li><p>Also referred to as <strong>Unequal Slopes</strong>, <strong>Partial Effects</strong>, and <strong>Nominal Effects</strong></p></li>
<li><p><span class="math inline">\(\beta\)</span>s are allowed to vary with <span class="math inline">\(j\)</span> (ordinal outcome levels) or equivalently, the threshold parameters <span class="math inline">\(\{\theta_j\}\)</span> are allowed to depend on regression variables.</p>
<ul>
<li>i.e In PO, it was assumed that the independent variable effect is the same for all levels of the ordinal outcome variable. The PPO model allows that effect to vary according to the outcome variable level.</li>
</ul></li>
<li><p>Used when the proportional odds assumption is violated (or a generalized ordered probit model is also recommended)</p></li>
<li><p>Two sets of thresholds are applied at conditions with and without an explanatory variable</p></li>
<li><p>See <a href="../qmd/regression-ordinal.html#sec-reg-ord-clm" style="color: green">Cumulative Link Models (CLM)</a> &gt;&gt; Model for how the PPO term fits into the model equation (e.g.&nbsp;<span class="math inline">\(\tilde \beta\)</span>)</p></li>
<li><p><span class="ribbon-highlight">Example 1</span>: <span style="color: #990000">{ordinal}</span></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>fm.nom <span class="ot">&lt;-</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clm</span>(rating <span class="sc">~</span> temp, </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">nominal =</span> <span class="sc">~</span> contact, </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> wine)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fm.nom)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; link  threshold nobs logLik&nbsp; AIC&nbsp; &nbsp;  niter&nbsp; max.grad&nbsp; cond.H</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; logit flexible  72&nbsp;  -86.21&nbsp; 190.42&nbsp; 6(0)&nbsp;  1.64e-10&nbsp; 4.8e+01</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp;  Estimate&nbsp; Std.Error&nbsp; z.value&nbsp; Pr(&gt;|z|)</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tempwarm 2.519&nbsp; &nbsp;  0.535&nbsp; &nbsp; &nbsp; 4.708&nbsp; &nbsp; 2.5e-06 ***</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Threshold coefficients:</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Estimate Std.Error&nbsp; z.value</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1|2.(Intercept) -1.3230&nbsp; 0.5623&nbsp; &nbsp; -2.353</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2|3.(Intercept)&nbsp; 1.2464&nbsp; 0.4748&nbsp; &nbsp;  2.625</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3|4.(Intercept)&nbsp; 3.5500&nbsp; 0.6560&nbsp; &nbsp;  5.411</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4|5.(Intercept)&nbsp; 4.6602&nbsp; 0.8604&nbsp; &nbsp;  5.416</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1|2.contactyes&nbsp; -1.6151&nbsp; 1.1618&nbsp; &nbsp; -1.390</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2|3.contactyes&nbsp; -1.5116&nbsp; 0.5906&nbsp; &nbsp; -2.559</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3|4.contactyes&nbsp; -1.6748&nbsp; 0.6488&nbsp; &nbsp; -2.581</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4|5.contactyes&nbsp; -1.0506&nbsp; 0.8965&nbsp; &nbsp; -1.172</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>See <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds</a> &gt;&gt; Example 1 for variable descriptions</li>
<li>PPO is for <span class="var-text">contact</span></li>
<li>Model: <span class="math inline">\(\mbox{logit}(P(Y_i \le j)) = \theta_j + \tilde{\beta}_j (\mbox{contact}_i) − \beta(\mbox{temp}_i)\)</span></li>
<li>Two sets of thresholds are applied at conditions with (<span class="var-text">yes</span>) and without (<span class="var-text">no</span>) <span class="var-text">contact</span></li>
<li>Response variable should be an ordered factor class
<ul>
<li>In this example, both explanatory variables were factor variables.</li>
</ul></li>
<li>It is not possible to estimate both <span class="math inline">\(\beta_2(\mbox{contact}_i)\)</span> and <span class="math inline">\(\tilde{\beta}_j(\mbox{contact}_i)\)</span> in the same model. Consequently variables that appear in <span class="arg-text">nominal</span> cannot enter in the formula as well</li>
<li>Results
<ul>
<li><span class="math inline">\(\hat \beta(\mbox{warm} − \mbox{cold}) = 2.52\)</span>
<ul>
<li>The reference level is cold, and this is the effect of moving from cold to warm</li>
</ul></li>
<li><span class="math inline">\(\{\hat \theta_j\} = \{−1.32, 1.25, 3.55, 4.66\}\)</span></li>
<li><span class="math inline">\({\hat{\tilde \beta_j} (\mbox{yes} − \mbox{no})} = \{−1.62, − 1.51, − 1.67, − 1.05\}\)</span></li>
</ul></li>
<li>Partial Effects: The odds ratio of <span class="var-text">bitterness</span> being rated in category <span class="math inline">\(j\)</span> or above (<span class="math inline">\(\mbox{OR}(Y \ge j)\)</span>) now vary with <span class="math inline">\(j\)</span>:
<ul>
<li><span class="math inline">\(\mbox{ORs} = e^{-\hat{\tilde \beta}_j (\mbox{yes}− \mbox{no})} = e^{\{-(-1.6151), -(-1.5116), -(-1.6748), -(-1.0506)\}} = \{5.03, 4.53, 5.34, 2.86\}\)</span></li>
<li>Me: The odds of the <span class="var-text">rating</span> being greater or equal to <span class="math inline">\(2\)</span> are <span class="math inline">\(4.53\)</span> times greater when <span class="var-text">contact = yes</span> than when <span class="var-text">contact = no</span>.</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 2</span>: Test the PO assumption for 1 variable w/LR Test</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fm1, fm.nom)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp;  formula:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  nominal: link: threshold:</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1&nbsp; &nbsp; rating ~ temp + contact&nbsp; ~1&nbsp; &nbsp; &nbsp;  logit flexible</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm.nom rating ~ temp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ~contact logit flexible</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp;  no.par AIC&nbsp; &nbsp;  logLik&nbsp; LR.stat df Pr(&gt;Chisq)</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1&nbsp; &nbsp; 6&nbsp; &nbsp; &nbsp; 184.98 -86.492</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm.nom 9&nbsp; &nbsp; &nbsp; 190.42 -86.209&nbsp; 0.5667&nbsp; 3&nbsp; 0.904</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="var-text">fm1</span> model from <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds</a> &gt;&gt; Example 1, but the <span class="arg-text">formula</span> column in the summary tells you what variables are in it.</li>
<li>There is only little difference in the log-likelihoods of the two models and the test is insignificant (pval &lt; 0.05). Thus, there is no evidence that the proportional odds assumption is violated for <span class="var-text">contact</span>.</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 3</span>: Test the PO assumption for <em>all</em> variables w/LR Test</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nominal_test</span>(fm1)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; Df&nbsp; logLik&nbsp; AIC&nbsp; &nbsp;  LRT&nbsp; &nbsp;  Pr(&gt;Chi)</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;none&gt;&nbsp; &nbsp;  -86.492&nbsp; 184.98</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; temp&nbsp; &nbsp; 3&nbsp; -84.904&nbsp; 187.81&nbsp; 3.1750&nbsp; 0.3654</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contact 3&nbsp; -86.209&nbsp; 190.42&nbsp; 0.5667&nbsp; 0.9040</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Behavior of this function is similar to the <code>anova</code> example above except the action is taken with every variable in the formula</p>
<ul>
<li>If any variables are in the <span class="arg-text">scale</span> argument, they are also tested.</li>
</ul></li>
<li><p>Note that <span class="var-text">contact</span> has the same LRT pval as the previous example</p></li>
<li><p>No pvals &lt; 0.05, therefore no violations of the PO assumption for any variable.</p></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-se" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-se">Scale Effects</h2>
<ul>
<li><p>Adding scale effects to a cumulative link model (CLM) involves modeling the variability of the latent variable in the model as a function of covariates, rather than assuming that the variability (or scale) is constant across observations.</p>
<ul>
<li><p>i.e.&nbsp;A typical CLM assumes each observation is sampled from the same latent variable probability distribution with the same scale parameter.</p></li>
<li><p>Since a probit link models a latent variable (y<sup>*</sup>) probability distribution that’s Gaussian, the variance is modeled by using scale effects.</p></li>
</ul></li>
<li><p>An alternative to partial proportional odds when nonproportional odds structures are encountered in the data. (i.e.&nbsp;the proportional odds assumption isn’t valid)</p>
<ul>
<li>Using scale effects is often a better approach, and it uses fewer parameters which often lead to more sensitive tests than nominal effects</li>
<li>Commonly used when heteroskedasticity is present.</li>
</ul></li>
<li><p>See <a href="../qmd/regression-ordinal.html#sec-reg-ord-clm" style="color: green">Cumulative Link Models (CLM)</a> &gt;&gt; Model for how scale effects fit into the model equation</p></li>
<li><p><u>The practical interpretation of the effect is only about the direction (increase or decrease) in probability and not by any amount.</u> You can make direct calculations of the increase or decrease, by setting predictor values and using <code>predict</code>. Marginal effects might also be possible as well. (See the <a href="../qmd/regression-ordinal.html#sec-reg-ord-prob" style="color: green">Probit</a> section for a more in-depth explanation of a similar situation.)</p></li>
<li><p><span class="ribbon-highlight">Example 1</span>: <span style="color: #990000">{ordinal}</span>, Allow scale to vary according to a variable</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>fm.sca <span class="ot">&lt;-</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clm</span>(rating <span class="sc">~</span> temp <span class="sc">+</span> contact, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">scale =</span> <span class="sc">~</span> temp, </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> wine)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fm.sca)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; link threshold nobs logLik AIC niter max.grad cond.H</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; logit flexible 72 -86.44 186.88 8(0) 5.25e-09 1.0e+02</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Estimate&nbsp; Std.Error z.value&nbsp; Pr(&gt;|z|)</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tempwarm&nbsp;  2.6294&nbsp; &nbsp; 0.6860&nbsp; &nbsp; 3.833&nbsp; &nbsp; 0.000127 ***</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contactyes 1.5878&nbsp; &nbsp; 0.5301&nbsp; &nbsp; 2.995&nbsp; &nbsp; 0.002743 **</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; log-scale coefficients:</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp;  Estimate&nbsp; Std.Error z.value&nbsp; Pr(&gt;|z|)</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tempwarm 0.09536&nbsp;  0.29414&nbsp;  0.324&nbsp; &nbsp; 0.746</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Threshold coefficients:</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp;  Estimate Std.Error&nbsp; z value</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1|2 -1.3520&nbsp;  0.5223&nbsp; &nbsp; -2.588</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2|3&nbsp; 1.2730&nbsp;  0.4533&nbsp; &nbsp;  2.808</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3|4&nbsp; 3.6170&nbsp;  0.7774&nbsp; &nbsp;  4.653</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4|5&nbsp; 5.2982&nbsp;  1.2027&nbsp; &nbsp;  4.405</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Model</p>
<p><span class="math display">\[
\begin{aligned}
&amp;\mbox{logit}(P(Y_i \le j)) = \frac{\theta_J - \beta_1(\mbox{temp}_i) - \beta_2(\mbox{contact}_i)}{e^{\zeta(\mbox{temp}_i)}} \\
&amp;\text{where} \quad i = 1, \ldots, n \; \text{and} \; j=1, \ldots, J-1
\end{aligned}
\]</span></p>
<ul>
<li>Scale parameter of the latent variable distribution varies by temp
<ul>
<li>The scale term in the denominator. See <a href="../qmd/regression-ordinal.html#sec-reg-ord-clm" style="color: green">Cumulative Link Models (CLM)</a> &gt;&gt; Model for more details on this term</li>
</ul></li>
<li>Location parameter of the latent distribution is allowed to depend on both <span class="var-text">temp</span> and <span class="var-text">contact</span>
<ul>
<li>The location expression is the numerator</li>
</ul></li>
</ul></li>
<li><p>Response variable should be an ordered factor class</p>
<ul>
<li>In this example, both explanatory variables were factor variables.</li>
</ul></li>
<li><p>Results</p>
<ul>
<li>The location of the latent distribution is shifted <span class="math inline">\(2.63\sigma\)</span> (scale units) when <span class="var-text">temperature</span> is <span class="var-text">warm</span> as compared to <span class="var-text">cold</span> conditions and <span class="math inline">\(1.59\sigma\)</span> when there’s presence (<span class="var-text">yes</span>) of <span class="var-text">contact</span> as compared to absence (<span class="var-text">no</span>) of <span class="var-text">contact</span>. (Reference levels: <span class="var-text">temp = cold</span>, <span class="var-text">contact = no</span>)
<ul>
<li>We can’t interpret these effects directly like a typical model. Indirectly we see the shifts are positive, so the higher levels of the outcome variable are more likely for warm temperatures or when there’s contact. (See <a href="../qmd/regression-ordinal.html#sec-reg-ord-prob" style="color: green">Probit</a> effect interpretation. I think it should be similar since we’re talking about shifts in the location parameter of the y* distribution)</li>
<li>We also could create a grid of every combination of the two factor predictor values and see how the predicted probabilities compare. <span style="color: #990000">{marginaleffects}</span> would be useful for this.</li>
</ul></li>
<li>The scale of the latent distribution is <span class="math inline">\(\sigma\)</span> at <span class="var-text">cold</span> conditions but <span class="math inline">\(\sigma \times e^{\zeta(warm−cold)} = \sigma \times e^{0.095} = 1.10\sigma\)</span> , i.e., <span class="math inline">\(10\%\)</span> higher, at <span class="var-text">warm</span> conditions.
<ul>
<li>However, the p value for the scale effect in the summary output shows that the <em>ratio</em> of scales is not significantly different from 1 (or equivalently that the <em>difference</em> on the log-scale is not different from 0).</li>
<li>Therefore, assuming the same scale for each observation would be okay and a different model should be tried (e.g.&nbsp;PPO). A different link and therefore different y* distribution with scale effects would also be an option.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 2</span>: Detect scale effects of variables</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_test</span>(fm1)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &nbsp; &nbsp; &nbsp; &nbsp; Df  logLik&nbsp; AIC&nbsp; &nbsp; LRT&nbsp; &nbsp;  Pr(&gt;Chi)</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;none&gt;&nbsp; &nbsp;  -86.492&nbsp; 184.98</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; temp&nbsp; &nbsp; 1&nbsp; -86.439&nbsp; 186.88 0.10492 0.7460</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contact 1&nbsp; -86.355&nbsp; 186.71 0.27330 0.6011</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><span class="var-text">fm1</span> comes from <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds (PO)</a> &gt;&gt; Example 1</li>
<li>Function has similar behavior to <code>nominal_test</code> (see <a href="../qmd/regression-ordinal.html#sec-reg-ord-ppo" style="color: green">Partial Proportional Odds (PPO)</a> &gt;&gt; Example 3)</li>
<li>No pvals &lt; 0.05, therefore no evidence of scale effects for any variable.
<ul>
<li>Note that the p-value for <span class="var-text">temp</span> is the same as the one in the scale effects model results of Example 1.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-reg-ord-prob" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-prob">Probit</h2>
<ul>
<li><p>Notes from</p>
<ul>
<li><a href="https://chatgpt.com/share/6975279b-3917-4767-a691-3328bd5355ba">ChatGPT-4o</a></li>
</ul></li>
<li><p>Assumes that the cumulative probabilities (i.e.&nbsp;latent variable, y<sup>*</sup>) follow a standard normal cumulative distribution and the residuals follow a normal distribution</p></li>
<li><p>Same proportional odds assumption applies but not considered a “proportional odds model.”</p></li>
<li><p>Because probit models involve a normal distribution for y<sup>*</sup>, the thresholds are standardized score values (i.e.&nbsp;z-scores), with most values occurring between approximately -3 and +3.</p></li>
<li><p>As with a binary outcome, the logit and probit analysis will nearly always lead to the same conclusions</p></li>
<li><p>The coefficients of represent the change in the z-score (standard normal quantile) for being at or below a certain category for a one-unit change in the predictor.</p>
<ul>
<li><span class="ribbon-highlight">Example</span>:<br>
<a href="_resources/Regression,_Ordinal.resources/po-probit-coef-interp-1.webp" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="_resources/Regression,_Ordinal.resources/po-probit-coef-interp-1.webp" class="img-fluid" width="532"></a>
<ul>
<li><span class="var-text">Income</span> is a predictor in a probit CLM. The estimated coefficient is 0.30.</li>
<li><u>An increase in Income by one unit shifts the distribution of y<sup>*</sup> to the right by 0.30 standard deviations.</u> This shift affects the probability of y<sup>*</sup> crossing the thresholds that define the ordinal categories.
<ul>
<li>The probability that the outcome is in a particular category depends on the cumulative normal distribution function, <span class="math inline">\(\Phi\)</span>, evaluated at the thresholds and adjusted for the predictors. This shift translates into changes in the probabilities of the ordinal outcomes through the cumulative normal distribution function</li>
</ul></li>
<li>In general, for each one-unit increase in Income, the expected value of the latent variable, y<sup>*</sup> increases by 0.045 standard deviations.</li>
<li><u>The practical interpretation of the effect is only about the direction (increase or decrease) in probability and not by any amount.</u> You can make direct calculations of the increase or decrease, by setting predictor values and using <code>predict</code>. Marginal effects might also be possible as well. (Also see the interpretation example)</li>
</ul></li>
</ul></li>
<li><p>Probability Calculation Given a Continuous Predictor</p>
<ul>
<li>To find the probability of being in each category for a given <span class="math inline">\(x\)</span> value with thresholds <span class="math inline">\(\tau_1\)</span> and <span class="math inline">\(\tau_2\)</span>, we can use the cumulative normal distribution:
<ol type="1">
<li><p>Category 1 (<span class="math inline">\(y = 1\)</span>):</p>
<p><span class="math display">\[
P(y = 1 | x) = P(y^* \leq \tau_1 | x) = \Phi(\tau_1 - \beta_0 - \beta_1 x)
\]</span></p></li>
<li><p>Category 2 (<span class="math inline">\(y = 2\)</span>):</p>
<p><span class="math display">\[
P(y = 2 | x) = P(\tau_1 &lt; y^* \leq \tau_2 | x) = \Phi(\tau_2 - \beta_0 - \beta_1 x) - \Phi(\tau_1 - \beta_0 - \beta_1 x)
\]</span></p></li>
<li><p>Category 3 (<span class="math inline">\(y = 3\)</span>):</p>
<p><span class="math display">\[
P(y = 3 | x) = P(y^* &gt; \tau_2 | x) = 1 - \Phi(\tau_2 - \beta_0 - \beta_1 x)
\]</span></p></li>
</ol></li>
<li>By plugging in specific values for <span class="math inline">\(x\)</span>, we can calculate these probabilities and see how they change with variations in <span class="math inline">\(x\)</span> .</li>
</ul></li>
<li><p><span class="ribbon-highlight">Example</span>: Interpreting a Continuous Predictor</p>
<ul>
<li>Outcome: <span class="var-text">Satisfaction</span>, Predictor: <span class="var-text">Income</span></li>
<li>Let <span class="math inline">\(\beta_0 = 0\)</span> for simplicity and <span class="math inline">\(\beta_1 = 0.3\)</span> with the thresholds <span class="math inline">\(\tau_1 = 0.623\)</span> and <span class="math inline">\(\tau_2 = 1.765\)</span>.</li>
<li>Initial <span class="var-text">Income = 0</span>:<br>
<span class="math display">\[
\begin{aligned}
&amp;P(y = 1 | \mbox{Income} = 0) = \Phi (0.623) \approx 0.734 \\
&amp;P(y=2|\mbox{Income} = 0) = \Phi (1.765) - \Phi (0.623) \approx 0.226 \\
&amp;P(y=3|\mbox{Income} = 0) = 1 - \Phi(1.765) \approx 0.040
\end{aligned}
\]</span></li>
<li>Increased <span class="var-text">Income = 1</span>:<br>
<span class="math display">\[
\begin{aligned}
&amp;P(y = 1 | \mbox{Income} = 1) = \Phi (0.623-0.3) \approx 0.626 \\
&amp;P(y=2|\mbox{Income} = 1) = \Phi (1.765-0.3) - \Phi (0.623-0.3) \approx 0.290 \\
&amp;P(y=3|\mbox{Income} = 1) = 1 - \Phi(1.765-0.3) \approx 0.084
\end{aligned}
\]</span></li>
<li>Interpretation
<ul>
<li>As <span class="var-text">Income</span> increases, the probability of being in the lowest <span class="var-text">satisfaction</span> category (<span class="math inline">\(y = 1\)</span>) <em>decreases</em>. The probability decreases because the threshold <span class="math inline">\(\tau_1\)</span> becomes relatively smaller compared to the shifted latent variable y<sup>*</sup>. This means the cumulative probability up to <span class="math inline">\(\tau_1\)</span> decreases.</li>
<li>The probability of being in the medium <span class="var-text">satisfaction</span> category (<span class="math inline">\(y = 2\)</span>) <em>increases</em>.</li>
<li>The probability of being in the highest <span class="var-text">satisfaction</span> category (<span class="math inline">\(y = 3\)</span>) <em>increases</em>.</li>
</ul></li>
<li>If <span class="math inline">\(\beta_1 = -0.3\)</span>, then:
<ul>
<li>As <span class="var-text">Income</span> increases, the probability of being in the lowest <span class="var-text">satisfaction</span> category (<span class="math inline">\(y = 1\)</span>) <em>increases</em>.</li>
<li>The probability of being in the medium <span class="var-text">satisfaction</span> category (<span class="math inline">\(y = 2\)</span>) <em>decreases</em>.</li>
<li>The probability of being in the highest <span class="var-text">satisfaction</span> category (<span class="math inline">\(y = 3\)</span>) <em>decreases</em>.</li>
</ul></li>
</ul></li>
<li><p><span class="ribbon-highlight">Example 1</span>: Probit, <span style="color: #990000">{brms}</span> (<a href="https://towardsdatascience.com/avoiding-abuse-and-misuse-of-t-test-and-anova-regression-for-categorical-responses-af15af53a456#ref-b%C3%BCrkner2019">article</a>)</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>Ordinal_Fit <span class="ot">&lt;-</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">brm</span>(Response <span class="sc">~</span> Group, </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> df, </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="fu">cumulative</span>(<span class="st">"probit"</span>),</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">seed =</span> <span class="dv">8807</span>,</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>),</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">file    =</span> <span class="st">"Models/ordinal-fit.rds"</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">file_refit =</span> <span class="st">"never"</span>) <span class="co"># don't change file if model is updated</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Add metrics for model comparison</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>Ordinal_Fit <span class="ot">&lt;-</span> </span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_criterion</span>(Ordinal_Fit, <span class="fu">c</span>(<span class="st">"loo"</span>, <span class="st">"waic"</span>, <span class="st">"bayes_R2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="sec-reg-ord-gor" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-gor">Generalized Ordinal Regression</h2>
<ul>
<li>Todo</li>
</ul>
</section>
<section id="sec-reg-ord-me" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-reg-ord-me">Mixed Effects</h2>
<ul>
<li>Misc
<ul>
<li>Also see <a href="../qmd/mixed-effects-general.html#sec-me-gen" style="color: green">Mixed Effects, General</a></li>
<li>Papers
<ul>
<li><a href="https://onlinelibrary.wiley.com/doi/10.1002/sim.10133?af=R">Bayesian transition models for ordinal longitudinal outcomes</a>
<ul>
<li>Paper that’s a tutorial with examples in R</li>
<li>Also in R &gt;&gt; Documents &gt;&gt; Regression &gt;&gt; Mixed Effects</li>
<li>Harrell <a href="https://www.fharrell.com/talk/cons/">post</a> describes the model
<ul>
<li>A highly flexible longitudinal proportional odds logistic model for binary, ordinal, or continuous outcomes, with within-patient serial correlation handled through a simple Markov process in which the patient’s previous visit outcome level becomes a predictor for the outcome in the current time period.</li>
<li>This is a discrete time state transition model, also called a multistate model, but extended to have an unlimited number of outcome states as long as they can be ordered.</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><span class="ribbon-highlight">Example 1</span>: Varying Intercepts Model
<ul>
<li><p>Model</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>clmm_mod <span class="ot">&lt;-</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clmm</span>(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    rating <span class="sc">~</span> temp <span class="sc">+</span> contact <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>judge),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> wine, </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">link =</span> <span class="st">"logit"</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co"># older function</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>clmm2_mod <span class="ot">&lt;-</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clmm2</span>(</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    rating <span class="sc">~</span> temp <span class="sc">+</span> contact, </span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> judge,</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> wine, </span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">link =</span> <span class="st">"logistic"</span>,</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Hess =</span> <span class="cn">TRUE</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(clmm_mod)</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  link  threshold nobs logLik AIC    niter    max.grad cond.H </span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  logit flexible  72   -81.57 177.13 332(999) 1.03e-05 2.8e+01</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Random effects:</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Groups Name        Variance Std.Dev.</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  judge  (Intercept) 1.279    1.131   </span></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Number of groups:  judge 9 </span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; tempwarm     3.0630     0.5954   5.145 2.68e-07 ***</span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; contactyes   1.8349     0.5125   3.580 0.000344 ***</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Threshold coefficients:</span></span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     Estimate Std. Error z value</span></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1|2  -1.6237     0.6824  -2.379</span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2|3   1.5134     0.6038   2.507</span></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3|4   4.2285     0.8090   5.227</span></span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4|5   6.0888     0.9725   6.261</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>See <a href="../qmd/regression-ordinal.html#sec-reg-ord-po" style="color: green">Proportional Odds</a> &gt;&gt; Example 1 for variable descriptions</p></li>
<li><p>Some extension functions work with <code>clmm</code> and others work with <code>clmm2</code></p>
<ul>
<li>Confusingly, <code>clmm</code> is the newer function, but the <span style="color: #990000">{ordinal}</span> package owner stopped in the middle of developing it.</li>
</ul></li>
</ul></li>
<li><p>Compare with PO Model<br>
<a href="_resources/Regression,_Ordinal.resources/mix-ex1-mod-comp-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img src="_resources/Regression,_Ordinal.resources/mix-ex1-mod-comp-1.png" class="img-fluid" width="432"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>fm1_tbl <span class="ot">&lt;-</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(fm1, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">intercept =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>clmm_tbl <span class="ot">&lt;-</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(clmm_mod, </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">intercept =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>gtsummary<span class="sc">::</span><span class="fu">tbl_merge</span>(</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">tbls =</span> <span class="fu">list</span>(fm1_tbl, clmm_tbl),</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">tab_spanner =</span> <span class="fu">c</span>(<span class="st">"**PO Model**"</span>, <span class="st">"**Mixed Effects PO Model**"</span>)</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fm1, clmm_mod)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          formula:                              link: threshold:</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1      rating ~ contact + temp               logit flexible  </span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; clmm_mod rating ~ temp + contact + (1 | judge) logit flexible  </span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          no.par    AIC  logLik LR.stat df Pr(&gt;Chisq)   </span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fm1           6 184.98 -86.492                         </span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; clmm_mod      7 177.13 -81.565   9.853  1   0.001696 **</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>The mixed model produces the better fit.</li>
<li>Not sure why the PO model threshold CIs weren’t calculated by <span style="color: #990000">{gtsummary}</span></li>
</ul></li>
<li><p>Get Profile CIs</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">profile</span>(clmm2_mod,</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">nSteps =</span> <span class="dv">30</span>) <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">confint</span>()</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           2.5 %   97.5 %</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; stDev 0.5014978 2.266741</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Also see <a href="../qmd/confidence-and-prediction-intervals.html#sec-cipi-misc" style="color: green">Confidence &amp; Prediction Intervals &gt;&gt; Misc</a></li>
<li>Package has only implemented the profile method for the variance estimate of the mixed model and can’t be used with the newer <code>clmm</code> function</li>
<li>You either need to set <span class="arg-text">Hess = TRUE</span> in the model function or specify a <span style=".arg-text">range</span> for the estimate in the <code>profile</code> function.</li>
</ul></li>
<li><p>Get Conditional Modes<br>
<a href="_resources/Regression,_Ordinal.resources/mix-ex1-cond-modes-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="_resources/Regression,_Ordinal.resources/mix-ex1-cond-modes-1.png" class="img-fluid" width="332"></a></p>
<details>
<summary>
<p>Code</p>
</summary>
<div class="sourceCode" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">judge_effect =</span> clmm_mod<span class="sc">$</span>ranef,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cond_var =</span> clmm_mod<span class="sc">$</span>condVar</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">judge =</span> <span class="fu">fct_reorder</span>(<span class="fu">factor</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>()), </span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>                        judge_effect),</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.low =</span> judge_effect <span class="sc">-</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> <span class="fu">sqrt</span>(cond_var),</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">conf.high =</span> judge_effect <span class="sc">+</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> <span class="fu">sqrt</span>(cond_var)</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> judge, <span class="at">x =</span> judge_effect)) <span class="sc">+</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_linerange</span>(<span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">aes</span>(<span class="at">xmin =</span> conf.low, <span class="at">xmax =</span> conf.high)) <span class="sc">+</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<ul>
<li>With the fixed effect variables at their reference/baseline levels</li>
</ul></li>
</ul></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/regression-multivariate.html" class="pagination-link" aria-label="Multivariate">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Multivariate</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/regression-other.html" class="pagination-link" aria-label="Other">
        <span class="nav-page-text">Other</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../LICENSE.html">
<p>Creative Commons Attribution-NonCommercial 4.0 International License</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"descPosition":"bottom","openEffect":"zoom","selector":".lightbox","loop":false,"closeEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>