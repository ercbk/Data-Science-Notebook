<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Classification – Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/diagnostics-clustering.html" rel="next">
<link href="../qmd/diagnostics-bayes.html" rel="prev">
<link href="../images/ds-favicon-32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-8eef5ae80df721a84869b784b4d5419f.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-591467fd2ffb79d71ec5db1388dcc58f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/diagnostics-bayes.html">Diagnostics</a></li><li class="breadcrumb-item"><a href="../qmd/diagnostics-classification.html">Classification</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://ericbook.netlify.app/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house"></i></a>
    <a href="https://ercbk.github.io/Domain-Knowledge-Notebook/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-lightbulb"></i></a>
    <a href="https://ercbk.github.io/Statistical-Rethinking-Notebook/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-book"></i></a>
    <a href="https://github.com/ercbk/Data-Science-Notebook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Algorithms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-learn-to-rank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learn-to-Rank</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-marketing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Marketing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">ML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-product.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Product</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/algorithms-recommendation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recommendation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Anomaly Detection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Apache</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apache-spark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spark</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/apis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">APIs</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Association</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-copulas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Copulas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/association-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Bayes</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-priors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Priors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inference</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-troubleshooting-hmc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting HMC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/bayes-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/big-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Big Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/business-plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Business Plots</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/causal-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causal Inference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-linux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cli-windows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Windows</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cloud-services.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cloud Services</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Clustering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/clustering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">Code</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-debug.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Debugging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/code-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/confidence-and-prediction-intervals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Confidence &amp; Prediction Intervals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/cross-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cross-Validation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">CSS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/css-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recipes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-dbt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DuckDB</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Engineering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-feature-stores.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Stores</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-lakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lakes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-normalization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Normalization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-nosql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NoSQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-postgres.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Postgres</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-relational.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vector Databases</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/db-warehouses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Warehouses</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/decision-intelligence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Intelligence</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Diagnostics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-classification.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Classification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-model-agnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model Agnostic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-nlp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-probabilistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probabilistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/diagnostics-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">Deep Learning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-audio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Audio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-graph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graph</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-image.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Image</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/dl-training.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Training</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false">
 <span class="menu-text">Docker</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-aws.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Fundamentals</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/docker-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false">
 <span class="menu-text">Econometrics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-discrete-choice-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete Choice Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-fixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fixed Effects</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/econometrics-psa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Propensity Score Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-multilevel-longitudinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel, Longitudinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/eda-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false">
 <span class="menu-text">Experiments</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-a_b-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-designs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Designs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-rct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RCT</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/experiments-stepped-wedge-cluster-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stepped Wedge Cluster Design</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/extreme-value-theory-(evt).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Extreme Value Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Engineering</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Embeddings</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-geospatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geospatial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-splines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Splines</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-engineering-tokenization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tokenization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false">
 <span class="menu-text">Feature Reduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-reduction-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time Series</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Feature Selection</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false">
 <span class="menu-text">Forecasting</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-dl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deep Learning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-hierarchical_grouped.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical/Grouped</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ML</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nonlinear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/forecasting-statistical.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/generalized-additive-models-(gam).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalized Additive Models</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false">
 <span class="menu-text">Geospatial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-remote-sensing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Remote Sensing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preprocessing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/geospatial-spatial-weights.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spatial Weights</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false">
 <span class="menu-text">Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/git-github-actions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Github Actions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/glossary-ds-terms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary: DS terms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/gnu-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GNU Make</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false">
 <span class="menu-text">Google</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analytics, Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-analytics-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analytics, Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/google-bigquery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BigQuery</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HTML</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false">
 <span class="menu-text">IDEs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-jupyter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/ide-vscode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">VS Code</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/information-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Information Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/inkscape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inkscape</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false">
 <span class="menu-text">Job</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-management-leadership.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management / Leadership</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-on-the-job.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On the job</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-organizational-and-team-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organizational and Team Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reports</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/job-search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Search</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false">
 <span class="menu-text">Javascript</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/js-observable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Observable</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/json.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">JSON</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/kubernetes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kubernetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LaTeX</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false">
 <span class="menu-text">LLMs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-agent-chains.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent Chains</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-fine-tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine Tuning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/llms-prompt-engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prompt Engineering</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/loss-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loss Functions</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false">
 <span class="menu-text">Mathematics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-linear-algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Probability</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mathematics-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/missingness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Missingness</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false">
 <span class="menu-text">Mixed Effects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-bmlr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BMLR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-glmm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GLMM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mixed-effects-residual-covar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Residual Covariance Structures</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/mlops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MLOps</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false">
 <span class="menu-text">Model Building</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-brms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">brms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-ensembling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ensembling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-h2o-automl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2O</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-modeltime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeltime</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-rstanarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">sklearn</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/model-building-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false">
 <span class="menu-text">Networks</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/networks-knowledge-graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false">
 <span class="menu-text">NLP</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-sentiment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sentiment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-summarization-extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Summarization and Extraction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-topic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/nlp-transformers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transformers</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/optimization-equation-systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/outliers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/package-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Package Development</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false">
 <span class="menu-text">Post-Hoc Analysis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-ab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A/B</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ANOVA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-emmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">emmeans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/post-hoc-analysis-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multilevel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/privacy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Privacy/Security</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false">
 <span class="menu-text">Production</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-deployment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-ml-monitoring.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">ML Monitoring</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/production-tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tools</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false">
 <span class="menu-text">Projects</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-analyses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analyses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-development.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Development</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/project-planning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Misc</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numpy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas-recipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas, Recipes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-reticulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">reticulate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/python-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/quarto-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-base-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-data-table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-polars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-snippets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Snippets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/r-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyverse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regex</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false">
 <span class="menu-text">Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-discrete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-interactions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multinomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multinomial</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-ordinal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ordinal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Other</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-regularized.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regularized</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/regression-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/renv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Renv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scraping</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false">
 <span class="menu-text">Shiny</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-hosting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hosting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mobile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-production.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Production</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/shiny-ui-examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UI Examples</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/simulation-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simulation, Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreadsheets</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/stochastic-processes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stochastic Processes</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false">
 <span class="menu-text">Surveys</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-38" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-census-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Census Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/surveys-sampling-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sampling Methods</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/teaching.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tidyeval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tidyeval</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuning</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-39" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-ggplot2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-gtable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gtable</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-diagrams.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagrams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/visualization-mixed-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed Effects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false">
 <span class="menu-text">Web</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-40" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Web Design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/web-servers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Server</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-diag-class-misc" id="toc-sec-diag-class-misc" class="nav-link active" data-scroll-target="#sec-diag-class-misc">Misc</a></li>
  <li><a href="#sec-diag-class-terms" id="toc-sec-diag-class-terms" class="nav-link" data-scroll-target="#sec-diag-class-terms">Terms</a></li>
  <li><a href="#confusion-matrix-statistics" id="toc-confusion-matrix-statistics" class="nav-link" data-scroll-target="#confusion-matrix-statistics">Confusion Matrix Statistics</a></li>
  <li><a href="#sec-diag-class-scores" id="toc-sec-diag-class-scores" class="nav-link" data-scroll-target="#sec-diag-class-scores">Scores</a></li>
  <li><a href="#sec-diag-class-climb" id="toc-sec-diag-class-climb" class="nav-link" data-scroll-target="#sec-diag-class-climb">Class Imbalance</a></li>
  <li><a href="#sec-diag-class-multinom" id="toc-sec-diag-class-multinom" class="nav-link" data-scroll-target="#sec-diag-class-multinom">Multinomial</a></li>
  <li><a href="#sec-diag-class-curv" id="toc-sec-diag-class-curv" class="nav-link" data-scroll-target="#sec-diag-class-curv">Curves</a></li>
  <li><a href="#sec-diag-class-thresh" id="toc-sec-diag-class-thresh" class="nav-link" data-scroll-target="#sec-diag-class-thresh">Threshold Analysis</a></li>
  <li><a href="#sec-diag-class-calib" id="toc-sec-diag-class-calib" class="nav-link" data-scroll-target="#sec-diag-class-calib">Calibration</a>
  <ul>
  <li><a href="#sec-diag-class-calib-misc" id="toc-sec-diag-class-calib-misc" class="nav-link" data-scroll-target="#sec-diag-class-calib-misc">Misc</a></li>
  <li><a href="#sec-diag-class-calib-wkflw" id="toc-sec-diag-class-calib-wkflw" class="nav-link" data-scroll-target="#sec-diag-class-calib-wkflw">Basic Workflow</a></li>
  <li><a href="#sec-diag-class-calib-tfmis" id="toc-sec-diag-class-calib-tfmis" class="nav-link" data-scroll-target="#sec-diag-class-calib-tfmis">Tests for Miscalibration</a>
  <ul>
  <li><a href="#sec-diag-class-calib-tfmis-misc" id="toc-sec-diag-class-calib-tfmis-misc" class="nav-link" data-scroll-target="#sec-diag-class-calib-tfmis-misc">Misc</a></li>
  <li><a href="#sec-diag-class-calib-tfmis-spieg" id="toc-sec-diag-class-calib-tfmis-spieg" class="nav-link" data-scroll-target="#sec-diag-class-calib-tfmis-spieg">Spiegelhalter Z Statistic</a></li>
  <li><a href="#sec-diag-class-calib-tfmis-intcal" id="toc-sec-diag-class-calib-tfmis-intcal" class="nav-link" data-scroll-target="#sec-diag-class-calib-tfmis-intcal">Integrated Calibration Index (ICI, Eavg)</a></li>
  <li><a href="#sec-diag-class-calib-tfmis-estats" id="toc-sec-diag-class-calib-tfmis-estats" class="nav-link" data-scroll-target="#sec-diag-class-calib-tfmis-estats">E50, E90, and Emax</a></li>
  <li><a href="#sec-diag-class-calib-tfmis-ece" id="toc-sec-diag-class-calib-tfmis-ece" class="nav-link" data-scroll-target="#sec-diag-class-calib-tfmis-ece">Expected Calibration Error (ECE)</a></li>
  </ul></li>
  <li><a href="#sec-diag-class-calib-eocl" id="toc-sec-diag-class-calib-eocl" class="nav-link" data-scroll-target="#sec-diag-class-calib-eocl">Evaluation of Calibration Levels</a>
  <ul>
  <li><a href="#sec-diag-class-calib-eocl-lev" id="toc-sec-diag-class-calib-eocl-lev" class="nav-link" data-scroll-target="#sec-diag-class-calib-eocl-lev">Levels</a></li>
  <li><a href="#sec-diag-class-calib-eocl-calpl" id="toc-sec-diag-class-calib-eocl-calpl" class="nav-link" data-scroll-target="#sec-diag-class-calib-eocl-calpl">Calibration Plots (Reliability Diagrams)</a>
  <ul class="collapse">
  <li><a href="#sec-diag-class-calib-eocl-calpl-misc" id="toc-sec-diag-class-calib-eocl-calpl-misc" class="nav-link" data-scroll-target="#sec-diag-class-calib-eocl-calpl-misc">Misc</a></li>
  <li><a href="#sec-diag-class-calib-eocl-calpl-loess" id="toc-sec-diag-class-calib-eocl-calpl-loess" class="nav-link" data-scroll-target="#sec-diag-class-calib-eocl-calpl-loess">LOESS</a></li>
  <li><a href="#sec-diag-class-calib-eocl-calpl-bin" id="toc-sec-diag-class-calib-eocl-calpl-bin" class="nav-link" data-scroll-target="#sec-diag-class-calib-eocl-calpl-bin">Binning Method</a></li>
  <li><a href="#sec-diag-class-calib-eocl-calpl-interp" id="toc-sec-diag-class-calib-eocl-calpl-interp" class="nav-link" data-scroll-target="#sec-diag-class-calib-eocl-calpl-interp">Interpretation</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/diagnostics-bayes.html">Diagnostics</a></li><li class="breadcrumb-item"><a href="../qmd/diagnostics-classification.html">Classification</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-diag-class" class="quarto-section-identifier">Classification</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-diag-class-misc" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-misc">Misc</h2>
<ul>
<li>Also see <a href="../qmd/diagnostics-regression.html#sec-diag-reg-res" style="color: green">Diagnostics, Regression &gt;&gt; Residuals</a></li>
<li>Two main types of quantities to validate (Harrell RMS <a href="https://hbiostat.org/rmsc/validate.html#sec-val-which">Ch.5</a>)
<ol type="1">
<li>Calibration (aka reliability): ability to make unbiased estimates of response (Y^ vs.&nbsp;Y)</li>
<li>Discrimination: ability to separate responses
<ul>
<li>Binary logistic model: e.g.&nbsp;AUROC</li>
</ul></li>
<li>(more optional) Centrality of errors: e.g.&nbsp;Brier Score</li>
</ol></li>
<li><strong>Custom Cost Functions</strong>
<ul>
<li>Also see
<ul>
<li><a href="https://ercbk.github.io/Domain-Knowledge-Notebook/qmd/logistics.html#sec-log-dim" style="color: green">Logistics &gt;&gt; Decision Impact Metrics</a></li>
</ul></li>
<li>Examples
<ul>
<li><a href="https://towardsdatascience.com/calculating-the-business-value-of-a-data-science-project-3b282de9be3c">Calculating the Business Value of a Data Science Project</a></li>
<li>See notebook</li>
<li><a href="https://blog.insightdatascience.com/visualizing-machine-learning-thresholds-to-make-better-business-decisions-4ab07f823415">Visualizing Machine Learning Thresholds to Make Better Business Decisions</a><br>
<a href="./_resources/Diagnostics,_Classification.resources/1-vSxUtKZDg6PcRKWFU4bpSw.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="./_resources/Diagnostics,_Classification.resources/1-vSxUtKZDg6PcRKWFU4bpSw.png" class="img-fluid" width="332"></a>
<ul>
<li>Uses a Telecom subscriptions churn example and incorporates available resources (queue rate) that can review flagged events in order to choose a threshold
<ul>
<li>i.e.&nbsp;if you can only review 50 cases, then you model need only flag 50 cases</li>
</ul></li>
<li>Adds uncertainty by using multiple train/test splits and creating quantiles for CIs</li>
<li>Optimizes resources, costs, precision, and recall to produce a threshold</li>
</ul></li>
<li>Example of model ROI calculation: see <a href="https://ercbk.github.io/Domain-Knowledge-Notebook/qmd/banking-credit.html#sec-bank-cred-fraud" style="color: green">Banking/Credit &gt;&gt; Fraud</a> &gt;&gt; Misc</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-terms" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-terms">Terms</h2>
<ul>
<li><span style="color: #009499"><strong>Calibration</strong></span> - When the predicted probabilities from a model match the observed distribution of probabilities for each class. A well-calibrated model is one that minimizes residuals.</li>
<li><span style="color: #009499"><strong>Calibration-in-the-Large</strong></span> - mean calibration
<ul>
<li><a href="https://discourse.datamethods.org/t/rms-describing-resampling-validating-and-simplifying-the-model/4790">Harrell</a>: “compares the average Y-hat with the average Y (does the model get the right result on average).”
<ul>
<li>average predicted risk compared with the overall event rate</li>
</ul></li>
<li>Concerned with gross measurements of calibration, such as:
<ul>
<li>Whether the model’s overall expected number of events exceeds the observed number</li>
<li>Whether the proportion of expected over observed events departs significantly from “1”</li>
</ul></li>
</ul></li>
<li><span style="color: #009499"><strong>Calibration-in-the-Small</strong></span> - means that each of your model’s predicted probabilities, i.e.&nbsp;0.01, 0.02, …, 0.99, occur exactly at that proportion in the observed data/real world
<ul>
<li>i.e., for all the times when the predicted risk was 0.4, the outcome happened about 0.4 of the time.</li>
<li>More important than calibration-in-the-large. Required for good decision making using risk models.</li>
<li><a href="https://discourse.datamethods.org/t/rms-describing-resampling-validating-and-simplifying-the-model/4790">Harrell</a>: Assesses the absolute forecast accuracy at the individual levels of Y-hat.</li>
<li>Smooth calibration curves visualizes this (See Calibration &gt;&gt; Calibration Plots &gt;&gt; Harrell)
<ul>
<li>A curve close to the diagonal indicates that predicted risks correspond well to observed proportions</li>
</ul></li>
<li>“calibration-in-the-tiny” the next step: for males in which the prediction was 0.4 was the outcome present 0.4 of the time, then for females.</li>
</ul></li>
<li><span style="color: #009499"><strong>Discrimination</strong></span> - The ability of the predictive model to predict the observed class. It’s not a particular performance measure. Typically AUROC, Somers’ Dxy
<ul>
<li>Predictive discrimination is the ability to rank order subjects</li>
<li>Example: The higher the ratio of patients who have high predicted risk probabilities / patients who actually have the disease, the better the discrimination by the model
<ul>
<li>“High” is determined by a cutpoint or threshold</li>
</ul></li>
</ul></li>
<li><span style="color: #009499"><strong>External Validity</strong></span> - The extent to which your results can be generalized to other contexts. Assesses the applicability or generalizability of the findings to the real world. So, your study had significant findings in a controlled environment. But will you get the same results outside of the lab?</li>
<li><span style="color: #009499"><strong>Internal Validity</strong></span> - The degree of confidence that the causal relationship you are testing is not influenced by other factors or variables. Evaluates a study’s experimental design and methods. Studies that have a high degree of internal validity provide strong evidence of causality.
<ul>
<li>Using CV or bootstrapping is sometimes referred to as performing internal validation</li>
</ul></li>
<li><span style="color: #009499"><strong>Proper Scoring Rule</strong></span> (SO <a href="https://stats.stackexchange.com/questions/312780/why-is-accuracy-not-the-best-measure-for-assessing-classification-models">discussion</a> + Harrell links) - A score assesses whether a probabilistic forecast is close to the true distribution. A score that is minimized in expectation if the predictive density is the true density.
<ul>
<li>Loss functions that map predicted probabilities and corresponding observed outcomes to loss values, which are minimized in expectation by the true probabilities (p,1−p). The idea is that we take the average over the scoring rule evaluated on multiple (best: many) observed outcomes and the corresponding predicted class membership probabilities, as an estimate of the expectation of the scoring rule</li>
<li>Also
<ul>
<li>Strictly proper scoring rules -rules that are <em>only</em> minimized in expectation if the predictive density is the true density</li>
<li>Improper scoring rules - (e.g.&nbsp;Accuracy)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="confusion-matrix-statistics" class="level2">
<h2 class="anchored" data-anchor-id="confusion-matrix-statistics">Confusion Matrix Statistics</h2>
<ul>
<li><p><strong>False Discovery Rate (FDR)</strong></p>
<p><span class="math display">\[
FDR = \frac{FP}{TP + FP} = 1 − PPV
\]</span></p>
<ul>
<li>Expected ratio of the number of false positive classifications (false discoveries) to the total number of positive classifications (rejections of the null)</li>
<li>FDR-controlling procedures provide less stringent control of Type I errors compared to family-wise error rate (FWER) controlling procedures (such as the Bonferroni correction), which control the probability of <em>at least one</em> Type I error.
<ul>
<li>Thus, FDR-controlling procedures have greater power, at the cost of increased numbers of Type I errors.</li>
</ul></li>
</ul></li>
<li><p><strong>False Positive Rate (FPR)</strong></p>
<p><span class="math display">\[
FPR = 1 - TNR = \frac{FP}{FP + TN}
\]</span></p></li>
<li><p><strong>False Negative Rate (FNR)</strong></p>
<p><span class="math display">\[
FNR = 1 - TPR = \frac{FN}{FN + TP}
\]</span></p></li>
<li><p><strong>Negative Likelihood Ratio (LR-)</strong></p>
<p><span class="math display">\[
LR_- = \frac{FNR}{TNR}
\]</span></p></li>
<li><p><strong>Negative Predictive Value (NPV)</strong></p>
<p><span class="math display">\[
NPV = \frac{TN}{TN + FN}
\]</span></p>
<ul>
<li><span class="math inline">\(PPV\)</span> and <span class="math inline">\(NPV\)</span> are useful after the result of the test in know (unlike Sensitivity and Specificity which are useful before the results are known)</li>
<li>Both <span class="math inline">\(PPV\)</span> and <span class="math inline">\(NPV\)</span> are useful GoF metrics since they describe performance on future data.</li>
<li><span style="color: #990000">{yardstick}</span></li>
</ul></li>
<li><p><strong>Positive Likelihood Ratio (LR+)</strong></p>
<p><span class="math display">\[
LR_+ = \frac{TPR}{FPR}
\]</span></p></li>
<li><p><strong>Precision or True Positive Rate (TPR) or Positive Predictive Value (PPV)</strong></p>
<p><span class="math display">\[
\mbox{Precision} = \frac{TP}{TP + FP}
\]</span></p>
<ul>
<li>The fraction of observations that the model identified as positive that were correct (i.e.&nbsp;the fraction of all the actual positives (<span class="math inline">\(TP+FN\)</span>) that you model labels as positives.)</li>
<li>Focuses on Type-I error (<span class="math inline">\(FP\)</span>)</li>
<li>Interpretation: 1 is perfect, &lt; 0.5 is low</li>
<li>Maximize when <span class="math inline">\(FPs\)</span> are more costly
<ul>
<li>Examples
<ul>
<li>An event is mistakenly detected that results in a high value customer getting their account suspended.</li>
<li>You want to reduce the number of unsuccessful marketing calls that the model predicts will be conversions.</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>Prevalence</strong></p>
<p><span class="math display">\[
\mbox{Prevalence} = \frac{P}{P+N}
\]</span></p>
<ul>
<li>Proportion of a particular population found to be affected by a medical condition (typically a disease or a risk factor such as smoking or seatbelt use) at a specific time</li>
<li><strong>Prevalence Threshold</strong>: The prevalence level below which a test’s positive predictive value (PPV) declines most sharply relative to disease prevalence - and thus the rate of false positive results/false discovery rate increases most rapidly.</li>
</ul></li>
<li><p><strong>Recall or Sensitivity</strong></p>
<p><span class="math display">\[
\mbox{Recall} = \frac{TP}{TP + FN}
\]</span></p>
<ul>
<li><p>The fraction of all true positives that the model got correct</p></li>
<li><p>Focuses on Type-II error (<span class="math inline">\(FN\)</span>)</p></li>
<li><p>Probability of detecting a condition when it’s truly present</p>
<ul>
<li>i.e.&nbsp;normally want high sensitivity and low specificity</li>
</ul></li>
<li><p>As the number of <span class="math inline">\(FNs\)</span> towards 0, the value of Recall will tend to <span class="math inline">\(TP/TP = 1\)</span></p></li>
<li><p>Interpretation: 1 is perfect, &lt; 0.5 is low</p></li>
<li><p>Maximize when <span class="math inline">\(FNs\)</span> are more costly</p>
<ul>
<li>Examples
<ul>
<li>A customer gets their card stolen and incurs fraudulent charges, but the model doesn’t detect it.</li>
</ul></li>
</ul></li>
<li><p>Python:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n_classes):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  recall <span class="op">=</span> np.mean(y_pred[y_test <span class="op">==</span> i] <span class="op">==</span> y_test[y_test <span class="op">==</span> i])</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="ss">f"Recall for class </span><span class="sc">{</span>class_labels[i]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>recall<span class="sc">:0.3f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Filter for a specific category, then take the mean.</li>
</ul></li>
</ul></li>
<li><p><strong>Specificity or True Negative Rate (TNR)</strong></p>
<p><span class="math display">\[
\mbox{Specificity} = \frac{TN}{TN + FP}
\]</span></p>
<ul>
<li>The fraction of all the true negatives the model got correct</li>
<li>Probability of <em>not</em> detecting a condition when it’s truly present
<ul>
<li>i.e.&nbsp;normally want high sensitivity and low specificity</li>
</ul></li>
</ul></li>
<li><p><strong>Type I Error</strong>: False Positives - If <span class="math inline">\(FPs\)</span> are more costly than <span class="math inline">\(FNs\)</span>, then the threshold is raised to increase the accuracy of the model in predicting positive cases</p></li>
<li><p><strong>Type II Error</strong>: False Negatives - If <span class="math inline">\(FNs\)</span> are more costly than <span class="math inline">\(FPs\)</span>, then the threshold is lowered to increase the accuracy of the model in predicting negative cases</p></li>
</ul>
</section>
<section id="sec-diag-class-scores" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-scores">Scores</h2>
<ul>
<li><p><u>Misc</u></p>
<ul>
<li><u>Types</u>
<ul>
<li>Threshold (e.g.&nbsp;F-Scores, Accuracy, Precision, Recall)
<ul>
<li>Determining thresholds depends on being able to correctly quantify the costs of type 1 and 2 errors</li>
<li>Use confusion matrix stats that depend on your threshold</li>
</ul></li>
<li>Ranking (AU-ROC/PR)
<ul>
<li>In a well-ranked model, the probabilities for the positive class tend to be higher than those for the negative class</li>
<li>Costs not included</li>
<li>An expected utility can’t be calculated</li>
<li>Not intuitive to a non-technical audience</li>
</ul></li>
<li>Calibration (Brier Score, Log Loss)</li>
</ul></li>
<li><u>Comparison of similar scoring models</u>
<ul>
<li>Notes from <a href="https://evidentlyai.com/blog/tutorial-2-model-evaluation-hr-attrition" class="uri">https://evidentlyai.com/blog/tutorial-2-model-evaluation-hr-attrition</a></li>
<li>If there’s no clear winner in terms of scores, then you need to drill down.
<ul>
<li>If models differ significantly on one or couple scores but not the others. Determine what that score optimizes for (e.g.&nbsp;precision, recall, etc.) and if that fits your use case.</li>
<li>How does changing the classification threshold effect the scores?
<ul>
<li>Makes sure whichever measure (e.g TP, FP, etc.) you’re maximizing for has plenty of observations, so you know you’re seeing a real effect.</li>
</ul></li>
<li>Examine how the models predict different groups (aka cohorts).
<ul>
<li>Example: If it’s a employee churn model, how does the model perform on employees from different departments, skill level, roles, etc.</li>
<li>One cohort might be more important to keep from churning than another.</li>
</ul></li>
</ul></li>
</ul></li>
<li><strong>Out-of-Bag Error (OOB)</strong> - Mean prediction error on each training sample (row) using only trees that didn’t use that sample in their bootstrap resample
<ul>
<li>Useful when there isn’t enough data for a validation set.</li>
</ul></li>
</ul></li>
<li><p><strong>Balanced Accuracy</strong></p>
<p><span class="math display">\[
BA = \frac{cTP}{P} + \frac{(c-1)TN}{N}
\]</span></p>
<ul>
<li><span class="math inline">\(c\)</span> is a cost weight between 0 and 1</li>
<li><span class="math inline">\(P\)</span> and <span class="math inline">\(N\)</span> are observed Positives and Negatives</li>
<li>Can also be used when the negative class is more important to get right
<ul>
<li>e.g.&nbsp;Cost Reductions: Reduce unnecessary treatments of healthy patients that got an FP on their disease test</li>
</ul></li>
<li><span style="color: #990000">{yardstick}</span></li>
</ul></li>
<li><p><strong>Brier Score</strong></p>
<ul>
<li><p>How far your predictions lie from the true values</p>
<ul>
<li>A mean square error in the probability space</li>
</ul></li>
<li><p><u>Smaller Brier scores are better</u></p></li>
<li><p>Inherently measures calibration and discrimination (<a href="https://arxiv.org/abs/2408.01626">source</a>)</p></li>
<li><p>Random guess model (i.e.&nbsp;all predicted probabilities = 0.50) has a Brier score of 0.25</p>
<ul>
<li>When the outcome incidence is lower (i.e.&nbsp;event rate, proportion of 1s), the maximum score for a random guess model is lower, eg, for 10%: 0.1 x (1 - 0.1)2 + (1 - 0.1) x 0.12 = 0.090.
<ul>
<li><p>Where the formula is:</p>
<p><span class="math display">\[
Y(1- p)^2 + (1-Y)p^2
\]</span></p></li>
</ul></li>
</ul></li>
<li><p>Issue: Inadequate for very rare (or very frequent) events, because it does not sufficiently discriminate between small changes in predictions that are significant for rare events.</p>
<ul>
<li>n &gt; 1000 required for higher-skill predictions of relatively rare events, whereas only quite modest sample sizes are needed for low-skill forecasts of common events (<a href="https://en.wikipedia.org/wiki/Brier_score">wiki</a>)</li>
</ul></li>
<li><p>Bootstrapping code (<a href="https://darrendahly.github.io/post/homr/">article</a>)</p></li>
<li><p><u>Binary Outcomes</u></p>
<p><span class="math display">\[
BS = \frac{1}{N}\sum_{t=1}^N (f_t - o_t)^2
\]</span></p>
<ul>
<li><span class="math inline">\(f\)</span> is the predicted probability</li>
<li><span class="math inline">\(o\)</span> is the observed outcome</li>
<li><em>Range is from 0 to 1</em></li>
<li>Mean of brier loss</li>
</ul></li>
<li><p><u>Polytomous Outcomes</u></p>
<p><span class="math display">\[
BS = \frac{1}{N}\sum_{t=1}^N\sum_{i=1}^R (f_{ti} - o_{ti})^2
\]</span></p>
<ul>
<li>R is the number of categories</li>
<li><em>Range is from 0 to 2</em></li>
</ul></li>
<li><p><u>Brier Skill Score (BSS)</u></p>
<p><span class="math display">\[
BSS = 1 - \frac{BS}{BS_{\text{ref}}}
\]</span></p>
<ul>
<li>Percentage improvement in the BS compared to the reference model</li>
<li>Still a strictly proper scoring rule</li>
<li>Values between 0 and 1</li>
<li><u>Higher is better</u></li>
<li><span class="math inline">\(BS\)</span> is the brier score</li>
<li><span class="math inline">\(BS_{\text{ref}}\)</span> is a reference/baseline brier score that your trying to beat
<ul>
<li><p>Default value (no-skill/naive model value)</p>
<p><span class="math display">\[
BS_{\text{ref}} = \frac{1}{N} \sum_{t=1}^N (\bar o - o_t)^2
\]</span></p>
<ul>
<li>**for binary outcomes</li>
<li><span class="math inline">\(o\)</span> is the observed outcome</li>
<li><span class="math inline">\(\bar o\)</span> is the average observed outcome (i.e.&nbsp;overall proportion of 1s)</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Scaled Brier Score</p>
<p><span class="math display">\[
\begin{align}
&amp;SBS = 1 - \frac{BS}{BS_{\text{max}}} \\
&amp;\text{where} \;\; B_{\text{max}} = \bar p (1 - \bar p)
\end{align}
\]</span></p>
<ul>
<li><p><a href="https://darrendahly.github.io/post/homr/">article</a></p></li>
<li><p>Code</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>scaled_brier <span class="ot">&lt;-</span> <span class="cf">function</span>(x, p, ...){&nbsp;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">format</span>(<span class="fu">round</span>(<span class="dv">1</span> <span class="sc">-</span> (x <span class="sc">/</span> (<span class="fu">mean</span>(p) <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">mean</span>(p)))), <span class="at">digits =</span> <span class="dv">2</span>), <span class="at">nsmall =</span> <span class="dv">2</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Range between 0% and 100%</p></li>
</ul></li>
</ul></li>
<li><p><strong>Cohen’s Kappa</strong></p>
<ul>
<li>A similar measure to accuracy, but is normalized by the accuracy that would be expected by chance alone and is very useful when one or more classes have large frequency distributions.</li>
<li>Extends naturally to multiclass scenarios</li>
<li><code>yardstick::kap</code>, <a href="https://yardstick.tidymodels.org/reference/kap.html">docs</a></li>
<li>A measure of agreement between categorical variables X and Y
<ul>
<li>Calculated from the observed and expected frequencies on the diagonal of a square contingency table</li>
<li>Range: 0 &lt; <span class="math inline">\(\kappa\)</span> &lt; 1, although negative values do occur on occasion.</li>
<li>Suited for nominal (non-ordinal) categories.
<ul>
<li><strong>Weighted kappa</strong> can be calculated for tables with ordinal categories.</li>
</ul></li>
<li>See <a href="https://online.stat.psu.edu/stat509/lesson/18/18.7">Penn Stats Stats 509</a> for further details, equation</li>
</ul></li>
</ul></li>
<li><p><strong>F scores</strong></p>
<ul>
<li><p>Each score weights <span class="math inline">\(FP\)</span> and <span class="math inline">\(FN\)</span> differently. A trade-off between Precision and Recall</p></li>
<li><p><em>Range: 0 to 1</em></p>
<ul>
<li>1 - Perfect precision and recall</li>
<li>0 - Either precision or recall are zero.
<ul>
<li>i.e.&nbsp;A low F-score doesn’t tell you whether it’s precision or recall that is the problem</li>
<li>Maximizing FPR along with F1 will help curb Type-I errors and you’ll get an idea about the villain behind your low F1-score</li>
</ul></li>
<li>Rule of Thumb
<ul>
<li>&gt; 0.9 Very good</li>
<li>0.8 - 0.9 Good</li>
<li>0.5 - 0.8 OK</li>
<li>&lt; 0.5 Not good</li>
</ul></li>
</ul></li>
<li><p>Fine for imbalanced classes as long as the positive class (TP and FP) is what’s important and not the negative class (e.g.&nbsp;FN and TN) (<a href="https://www.datascienceblog.net/post/machine-learning/specificity-vs-precision/">article</a>)</p></li>
<li><p><span class="math inline">\(F_\beta\)</span></p>
<p><span class="math display">\[
F_\beta = \frac{1+\beta^2}{\frac{1}{\mbox{Precision}}+\frac{\beta^2}{\mbox{Recall}} + }
\]</span></p>
<ul>
<li>A generalized F score</li>
<li>Choose your own ratio
<ul>
<li>The more you care about recall over precision the higher beta you should choose</li>
<li>e.g.&nbsp;If you want precision to be twice as important than recall, you’d set <span class="math inline">\(\beta\)</span> to 0.5</li>
</ul></li>
<li>Use when you care more about the positive class</li>
</ul></li>
<li><p><span class="math inline">\(F_{1}\)</span></p>
<p><span class="math display">\[
\begin{align}
F_1 &amp;= \frac{2}{\frac{1}{\mbox{Precision}} + \frac{1}{\mbox{Recall}}} \\
      &amp;= \frac{TP}{TP + 0.5(FP + FN)}
\end{align}
\]</span></p>
<ul>
<li>Harmonic mean of precision and recall</li>
<li>Recall and precision are of the same importance</li>
</ul></li>
<li><p><span class="math inline">\(F_2\)</span></p>
<p><span class="math display">\[
\begin{align}
F_2 &amp;= \frac{5}{\frac{4}{\mbox{Precision}} + \frac{1}{\mbox{Recall}}} \\
      &amp;= \frac{TP}{TP + 0.8FP + 0.2FN}
\end{align}
\]</span></p>
<ul>
<li><span class="math inline">\(F_2\)</span>: 80/20
<ul>
<li>β = 2. Therefore you care about Recall twice as much as Precision</li>
</ul></li>
</ul></li>
<li><p><span class="math inline">\(F_3\)</span></p>
<p><span class="math display">\[
F_3 = \frac{TP}{TP + 0.9FP + 0.1FN}
\]</span></p>
<ul>
<li><span class="math inline">\(F_3\)</span>: 90/10
<ul>
<li>β = 3. Therefore you care about Recall 3 times as much as Precision</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><strong>H measure</strong></p>
<ul>
<li><span style="color: #990000">{hmeasure}</span>
<ul>
<li>See bkmks for vignette</li>
</ul></li>
<li>Instead of using misclassification cost (c, see above) as a constant it defines it as a distribution</li>
</ul></li>
<li><p><strong>J index (a.k.a. Youden’s J statistic)</strong></p>
<p><span class="math display">\[
J = sensitivity + specificity - 1
\]</span></p>
<ul>
<li>Values near one are best. lower for models with pathological distributions for the class probabilities (i.e.&nbsp;uncalibrated)</li>
</ul></li>
<li><p><strong>Lift Score</strong></p>
<p><span class="math display">\[
\mbox{Lift} = \frac{\frac{TP}{TP+FP}}{\frac{TP+FN}{TP+TN+FP+FN}}
\]</span></p>
<ul>
<li><p>The ratio of correctly predicted positive examples and the actual positive examples in the test dataset.</p></li>
<li><p>Range: 0 to <span class="math inline">\(\infty\)</span></p></li>
<li><p>Values greater than 1 represent a valuable model</p></li>
<li><p>Example: Using lift score within {sklearn::GridSearchCV}</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> mlxtend.evaluate <span class="im">import</span> lift_score</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>scorer <span class="op">=</span> {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="st">'lift_score'</span>: make_scorer(lift_score)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>clf <span class="op">=</span> GridSearchCV(SVC(), hyperparameters, cv<span class="op">=</span><span class="dv">10</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                   scoring<span class="op">=</span>lift_scorer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>From Raschka <a href="https://rasbt.github.io/mlxtend/user_guide/evaluate/lift_score/">library</a></p>
<ul>
<li>Also has examples on how to implement</li>
<li><code>make_scorer</code> is from <span style="color: goldenrod">{{sklearn}}</span></li>
</ul></li>
</ul></li>
<li><p><span style="color: #990000">{yardstick::lift_curve}</span></p></li>
<li><p><span style="color: #990000">{</span><a href="http://ipa-tys.github.io/ROCR/" style="color: #990000">ROCR</a><span style="color: #990000">}</span></p></li>
</ul></li>
<li><p><strong>Matthew’s Correlation Coefficient (MCC)</strong></p>
<p><span class="math display">\[
MCC = \frac{(TP \cdot TN)-(FP \cdot FN)}{(TP+FP)(TP+FN)(TN+FP)(TN+FN)}
\]</span></p>
<ul>
<li>It’s a correlation between predicted classes and ground truth.
<ul>
<li>Aka <strong>Phi Coefficient</strong> (i.e.&nbsp;Pearson Correlation for 2x2 tables, i.e.&nbsp;binary variables)</li>
</ul></li>
<li><span style="color: #990000">{yardstick}</span></li>
<li><em>Range: -1 to 1</em>
<ul>
<li>0 is equivalent to a random prediction</li>
<li>-1 predictions are perfectly negatively correlated with the truth</li>
<li>1 predictions are perfectly postiviely correlated with the truth (model is perfect)</li>
</ul></li>
<li>Uses all confusion matrix values</li>
<li>Robust to class imbalance</li>
</ul></li>
<li><p><strong>McNemar’s Test</strong></p>
<ul>
<li><p>Chi-Squared test for symmetry</p></li>
<li><p>See <a href="../qmd/post-hoc-analysis-general.html#sec-phoc-gen-dd" style="color: green">Post-Hoc Analysis, General &gt;&gt; Dichotomous Data</a> &gt;&gt; for details and code</p></li>
<li><p>Uses this matrix format<br>
<a href="./_resources/Diagnostics,_Classification.resources/Untitled.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="./_resources/Diagnostics,_Classification.resources/Untitled.png" class="img-fluid" width="200"></a></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">9945</span>, <span class="dv">25</span>, <span class="dv">15</span>, <span class="dv">15</span>),</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="at">nrow =</span> <span class="dv">2</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="st">"model 1"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Correct"</span>, <span class="st">"Wrong"</span>),</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st">"model 2"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Correct"</span>, <span class="st">"Wrong"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>If “wrong-correct” or “correct-wrong” have counts &lt; 50, then use the Exact Tests to get accurate p-values</li>
</ul></li>
<li><p>For more than 2 models, <strong>Cochran’s Q</strong> test can be used (Generalized McNemar’s Test)</p></li>
</ul></li>
<li><p><strong>Mean Log Loss (aka Cross-Entropy)</strong></p>
<p><span class="math display">\[
\mbox{MeanLogLoss} = -\frac{1}{N} \sum_{i=1}^N y_i \cdot \log (\hat{p}_i) + (1-y_i) \cdot \log(1 - \hat{p}_i))
\]</span></p>
<ul>
<li><span class="math inline">\(\hat p\)</span> is the predicted probability and <span class="math inline">\(y\)</span> is the numeric observed label (0/1)</li>
<li>The difference between ground truth and predicted score for every observation and average those errors over all observations</li>
<li>Lower is better
<ul>
<li>A perfect model has a mean log loss of 0.</li>
</ul></li>
<li><span style="color: #990000">{yardstick::mn_log_loss}</span></li>
<li>Also see <a href="../qmd/loss-functions.html#sec-lossfun" style="color: green">Loss Functions</a> for issues with this metric</li>
</ul></li>
<li><p><strong>Misclassification Cost</strong></p>
<p><span class="math display">\[
\mbox{Misclassification Cost} = c_1FP + c_2FN
\]</span></p>
<ul>
<li><p>Where <span class="math inline">\(c_1\)</span> and <span class="math inline">\(c_2\)</span> are costs per <span class="math inline">\(FP\)</span> and per <span class="math inline">\(FN\)</span> respectively; <span class="math inline">\(FP\)</span> is total False Positives and <span class="math inline">\(FN\)</span> is total False Negatives</p></li>
<li><p>Simple method to assign a business value to a classification model</p></li>
<li><p>See <span style="color: #990000">{yardstick::classification_cost}</span></p></li>
</ul></li>
<li><p><strong>Misclassification Rate</strong></p>
<p><span class="math display">\[
\begin{align}
&amp;\mbox{Misclassification Rate} = 1 - Accuracy \\
&amp;\text{where} \;\; \mbox{Accuracy} = \frac{TP + TN}{TP + TN + FP + FN}
\end{align}
\]</span></p>
<ul>
<li>Uses Accuracy so terrible for unbalanced classes.</li>
</ul></li>
<li><p><strong>No-information rate</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>no_information_rate <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>&nbsp; data <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">count</span>(outcome_var) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">top_n</span>(<span class="dv">1</span>, proportion) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">pull</span>(proportion)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The proportion of the most common class</li>
<li>Used as a baseline metric for comparing models in multinomial classification</li>
</ul></li>
<li><p><strong>PR-AUC</strong></p>
<ul>
<li>The area under the Precision-Recall curve</li>
<li>Values near one indicate very good results while values near 0.5 would imply that the model is very poor</li>
<li>Better for imbalanced classes</li>
<li>PR AUC focuses mainly on the positive class (PPV and TPR) it cares less about the frequency of the negative class
<ul>
<li>Use when you care more about positive than negative class</li>
</ul></li>
</ul></li>
<li><p><strong>Pseudo R<sup>2</sup></strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">PseudoR2</span>(model, <span class="at">which =</span> <span class="fu">c</span>(<span class="st">"CoxSnell"</span>, <span class="st">"Nagelkerke"</span>, <span class="st">"Tjur"</span>))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; CoxSnell Nagelkerke&nbsp; &nbsp; &nbsp; Tjur&nbsp;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="do">##&nbsp; 0.6583888&nbsp; 0.9198193&nbsp; 0.8795290</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Example: How much of the likelihood of promotion does my model explain?
<ul>
<li>Our model explains more than two thirds of the variation in the promotion outcome.</li>
</ul></li>
</ul></li>
<li><p><strong>ROC-AUC</strong></p>
<ul>
<li>aka AUROC, concordance statistic, or c-statistic</li>
<li>The area under the ROC is an overall assessment of performance across all cutoffs.
<ul>
<li>Where ROC is Sensitivity vs (1 - Specificity) (aka TPR vs FPR) chart</li>
</ul></li>
<li>Values near one indicate very good results while values near 0.5 would imply that the model is very poor.</li>
<li>Use it when you care equally about positive and negative classes</li>
<li>Do NOT use it if you have imbalanced classes</li>
</ul></li>
<li><p><strong>Somers’</strong> <span class="math inline">\(D_{xy}\)</span></p>
<p><span class="math display">\[
D_{xy} = 2(c - 0.5)
\]</span></p>
<ul>
<li>Where c is the concordance probability or AUROC</li>
<li>A pure discrimination measure which is a rank correlation between <span class="math inline">\(Y\)</span> and <span class="math inline">\(\hat Y\)</span></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-climb" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-climb">Class Imbalance</h2>
<ul>
<li><u>Misc</u>
<ul>
<li>Class imbalance sampling methods tend to greatly improve metrics based on the hard class predictions (i.e., the categorical outcome variables and not binned numeric variables) because the default cutoff tends to be a better balance of sensitivity and specificity.
<ul>
<li>e.g J index vs AUC</li>
</ul></li>
<li>ROC curves and PR curves have inflated performance under strong class imbalance</li>
</ul></li>
<li><u>Scores</u>: F-Scores, MCC, PR-AUC, Cohen’s Kappa, precision at fixed recall, recall at fixed precision</li>
<li><u>Precision-Recall</u>
<ul>
<li>In cases of <em>balanced classes</em>, Sensitivity and Specificity are often used</li>
<li>For less-than-perfect models (FP = FN = 0), if you increase Precision, you reduce Recall and vice versa.</li>
<li>Sensitive to class-imbalance
<ul>
<li>You can’t compare curves that have been tested on two different test sets if the class proportions differ</li>
<li>A test-set with a 50:50 proportion will have higher scores in general as compared to a test-set with a 10:90 proportion for the primary class.</li>
</ul></li>
</ul></li>
<li><u>Guidelines for AUPRC vs AUROC</u>
<ul>
<li>Notes from <a href="https://arxiv.org/abs/2401.06091">A Closer Look at AUROC and AUPRC under Class Imbalance</a></li>
<li>AUROC
<ul>
<li><em>Context-Independenct Scenarios</em>
<ul>
<li>When it is not known in advance where samples of interest will live in the output space, nor are particular cost ratios known, there should be no preference for mistake correction</li>
<li>AUROC impartially values improvements across the entire model output</li>
</ul></li>
<li><em>Elevated False Negative Costs Scenarios</em>
<ul>
<li>Example: Early screening for critical illnesses like cancer
<ul>
<li>A primary goal of the model will be to achieve the fewest missed cancer cases; equating to prioritizing model <strong>Recall</strong>.</li>
</ul></li>
<li>The most important mistakes to correct occur at lower score thresholds, as high-score mistakes will not change which positive samples are missed in deployment settings (as chosen thresholds are likely to be low).
<ul>
<li>This behavior is the inverse of what AUPRC prioritizes</li>
</ul></li>
</ul></li>
<li><em>Ethical Resource Distribution Among Diverse Populations Scenarios</em>
<ul>
<li>One must avoid prioritizing model improvements that selectively favor one subpopulation</li>
<li>We must prioritize across all subpopulations equally means that AUPRC’s global preference is untenable as it could induce bias.
<ul>
<li>AUPRC will target high-score regions selectively, and it risks unduely favoring high-prevalence subpopulations</li>
</ul></li>
</ul></li>
</ul></li>
<li>AUPRC
<ul>
<li><em>Scenarios for reducing false positives in high-cost, single-group intervention prioritization or information retrieval settings</em>
<ul>
<li>The cost associated with false positives significantly outweighs that of false negatives, and there is an absence of equity concerns.</li>
<li>Example: Selecting candidate molecules from a fragment library for drug development trials, where only the most promising molecules will proceed to costly experimental validation
<ul>
<li>The metric of choice should facilitate a reduction in high-score false positives.</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-multinom" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-multinom">Multinomial</h2>
<ul>
<li><u>Misc</u>
<ul>
<li>Packages
<ul>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/MultiClassROC/index.html" style="color: #990000">MultiClassROC</a><span style="color: #990000">}</span> - computing and visualizing Receiver Operating Characteristics (ROC) and Area Under the Curve (AUC) for multi-class classification problems</li>
</ul></li>
<li>Also see
<ul>
<li><a href="../qmd/diagnostics-classification.html#sec-diag-class-scores" style="color: green">Scores</a>
<ul>
<li>&gt;&gt; No-information Rate for a generic accuracy baseline</li>
<li>&gt;&gt; Brier-Score &gt;&gt; Polytomous Outcomes</li>
<li>&gt;&gt; Cohen’s Kappa</li>
<li>&gt;&gt; Mean Log Loss</li>
</ul></li>
</ul></li>
<li><code>sklearn::classification_report</code> calculates the maps and waps for precision, recall, and f1-score
<ul>
<li>“Support” in this report refers to label and total sample sizes.</li>
<li>See <a href="../qmd/model-building-sklearn.html#sec-modbld-sklearn-misc" style="color: green">Model building, sklearn &gt;&gt; Misc</a> &gt;&gt; Score Model for code</li>
</ul></li>
</ul></li>
<li><u>Confusion Matrix</u><br>
<a href="./_resources/Diagnostics,_Classification.resources/image.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="./_resources/Diagnostics,_Classification.resources/image.png" class="img-fluid" width="432"></a>
<ul>
<li>Class labels are numbers 0-9</li>
<li>The decimal places are confusing but these are counts of the predicted label matching each observed label</li>
</ul></li>
<li><strong>Precision</strong> for Label 9 = <span class="math inline">\(TP / (TP + FP) = 947/ (947 + 1 + 0 + 0 + 0 + 0 + 38 + 0 + 40 + 2) = 0.92\)</span>
<ul>
<li>Columns are used for precision calculation</li>
</ul></li>
<li><strong>Recall</strong> for label 9 = <span class="math inline">\(TP / (TP + FN) = 947 / (947 + 0 + 0 + 0 + 0 + 0 +14 + 0 + 36 + 3) = 0.947\)</span>
<ul>
<li>Rows are used for recall calculation</li>
</ul></li>
<li><strong>Macro Average Precision</strong> - simple arithmetic average of the precision of all the labels
<ul>
<li><span class="math inline">\(map = (0.80 + 0.95 + 0.77 + 0.88 + 0.75 + 0.95 + 0.68 + 0.90 + 0.93 + 0.92) / 10 = 0.853\)</span></li>
</ul></li>
<li><strong>Weighted Average Precision</strong> - the precision of each label is multiplied by their sample size and the weighted sum is divided by the total number of samples
<ul>
<li><span class="math inline">\(wap = (760*0.80 + 900*0.95 +535*0.77 + 843*0.88 + 801*0.75 + 779*0.95 + 640*0.68 + 791*0.90 + 921*0.93 + 576*0.92) / 7546 = 0.86\)</span>
<ul>
<li>Where 760 = sample size for label 0, 900 = sample size for label 1, etc., and 7546 is the total sample size</li>
</ul></li>
</ul></li>
<li>Same techniques can be used for <strong>F-Scores</strong> and others.
<ul>
<li>Example: The F-Score would be calculated for each label. Then, the map and wap can be calculated from those individual label scores.</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-curv" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-curv">Curves</h2>
<ul>
<li><p><u>Misc</u></p>
<ul>
<li><span style="color: #990000">{</span><a href="https://uriahf.github.io/rtichoke/" style="color: #990000">rtichoke</a><span style="color: #990000">}</span> - Interactive ROC/PR curves; all kinds of additional information provided in the pop-up</li>
<li><span style="color: #990000">{</span><a href="https://yardstick.tidymodels.org/reference/index.html#curve-functions" style="color: #990000">yardstick</a><span style="color: #990000">}</span></li>
<li><span style="color: #990000">{</span><a href="http://ipa-tys.github.io/ROCR/" style="color: #990000">ROCR</a><span style="color: #990000">}</span> - ROC curves, precision/recall plots, lift charts, cost curves, custom curves by freely selecting one performance measure for the x axis and one for the y axis, handling of data from cross-validation or bootstrapping, curve averaging (vertically, horizontally, or by threshold), standard error bars, box plots, curves that are color-coded by cutoff, printing threshold values on the curve, tight integration with Rs plotting facilities (making it easy to adjust plots or to combine multiple plots), fully customizable, easy to use (only 3 commands)</li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/pROC/index.html" style="color: #990000">pROC</a><span style="color: #990000">}</span> - (Partial) area under the curve (AUC) can be compared with statistical tests based on U-statistics or bootstrap. Confidence intervals can be computed for (p)AUC or ROC curves</li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/ROCnReg/index.html" style="color: #990000">ROCnReg</a><span style="color: #990000">}</span>(<a href="https://journal.r-project.org/articles/RJ-2021-066/">Vignette</a>) - Frequentist and Bayesian ROC, plus covariate-specific and covariate-adjusted ROC curves.
<ul>
<li>Covariate-Specific ROC curve is an ROC curve that conditions on a specific covariate value, thus describing the accuracy of the test in the ‘subpopulation’ defined by that covariate value. On the other hand, the</li>
<li>Covariate-Adjusted ROC curve is a weighted average of covariate-specific ROC curves.</li>
</ul></li>
</ul></li>
<li><p><u>Receiver Operating Curve (ROC)</u></p>
<ul>
<li>If a model is poorly calibrated, the ROC curve value might not show diminished performance. However, the J-index would be lower for models with pathological distributions for the class probabilities.</li>
<li>A ROC curve plots TPR as a function of FPR at different decision thresholds. We want to minimize our FPR while maximizing our TPR.</li>
<li>A good model will bend towards the upper-left corner of plot.</li>
<li>A bad model (i.e., random) will hug the diagonal.</li>
<li>A ludicrously bad model (i.e., worse than random) will bend towards the lower-right corner of the plot.</li>
<li>Packages
<ul>
<li><span style="color: #990000">{</span><a href="https://github.com/ml4lhs/runway" style="color: #990000">runway</a><span style="color: #990000">}</span></li>
</ul></li>
</ul></li>
<li><p><u>Precision-Recall (PR)</u><br>
<a href="./_resources/Diagnostics,_Classification.resources/Precision-Recall-Plot-for-a-No-Skill-Classifier-an.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="./_resources/Diagnostics,_Classification.resources/Precision-Recall-Plot-for-a-No-Skill-Classifier-an.png" class="img-fluid" width="432"></a></p>
<ul>
<li>When the observations with true positive labels are rare, then PR curves are preferred (Also see <a href="diagnostics-classification.html#sec-diag-class-climb" style="color: green">Class Imbalance</a>)</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-thresh" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-thresh">Threshold Analysis</h2>
<ul>
<li><p>Packages</p>
<ul>
<li><span style="color: #990000">{</span><a href="https://tailor.tidymodels.org/" style="color: #990000">tailor</a><span style="color: #990000">}</span> - Postprocessing of predictions for tidymodels
<ul>
<li>For transformation of probabilities to hard class predictions: thresholds, equivocal zones</li>
<li>Equivocal zones describe intervals of predicted probabilities that are deemed too uncertain or ambiguous to be assigned a hard class. Rather than predicting a hard class when the probability is very close to a threshold, tailors using this adjustment predict “[EQ]”.</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/ThresholdROC/index.html" style="color: #990000">ThresholdROC</a><span style="color: #990000">}</span> (<a href="https://www.jstatsoft.org/article/view/v082i04">Vignette</a>) - Point and interval estimations of optimum thresholds. Functions for sample size determination and estimation of diagnostic accuracy measures.</li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/OptimalCutpoints/index.html" style="color: #990000">OptimalCutpoints</a><span style="color: #990000">}</span> (<a href="https://www.jstatsoft.org/article/view/v061i08">Vignette</a>) - Methods based on cost-benefit analysis and diagnostic test accuracy measures (Sensitivity/Specificity, Predictive Values and Diagnostic Likelihood Ratios)</li>
<li><span style="color: #990000">{</span><a href="https://github.com/thie1e/cutpointr" style="color: #990000">cutpointr</a><span style="color: #990000">}</span> (<a href="https://cran.r-project.org/web/packages/cutpointr/index.html">Vignettes</a>, <a href="https://www.youtube.com/watch?v=IlGILVpsK8I&amp;t=0s&amp;ab_channel=yuzaRDataScience">Video</a>) - Optimal cutpoints in R; Determining and validating optimal cutpoints in binary classification
<ul>
<li>Can optimize threshold to metrics other than balancing the TPR and FPR, e.g.&nbsp;misclassification cost, F1, etc.</li>
<li>Apply cost proportions (i.e.&nbsp;weights) to confusion stats like FP, TP, etc.</li>
<li>When there are multiple optimal cutpoints, you can use the median, mean, etc. cutpoint.</li>
<li>Gives bootstrap CI for the ROC curve</li>
<li>You can specify a grouping variable and get ROC curves for each category</li>
<li>Can apply a smoothing spline for small sample sizes
<ul>
<li>Small sample sizes produce a noisy ROC curve and make it difficult find the optimal cutpoint.</li>
</ul></li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://github.com/ml4lhs/runway" style="color: #990000">runway</a><span style="color: #990000">}</span><br>
<img src="./_resources/Diagnostics,_Classification.resources/image.1.png" class="img-fluid"></li>
<li><span style="color: #990000">{</span><a href="http://ipa-tys.github.io/ROCR/" style="color: #990000">ROCR</a><span style="color: #990000">}</span> - Interesting metrics about various threshold points</li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/ROCnReg/index.html" style="color: #990000">ROCnReg</a><span style="color: #990000">}</span>(<a href="https://journal.r-project.org/articles/RJ-2021-066/">Vignette</a>) - Functions to obtain ROC-based optimal cutpoints utilizing several criteria</li>
<li><span style="color: goldenrod">{{</span><a href="https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.TunedThresholdClassifierCV.html" style="color: goldenrod">sklearn.model_selection import TunedThresholdClassifierCV</a><span style="color: goldenrod">}}</span> (<a href="https://towardsdatascience.com/tune-in-decision-threshold-optimization-with-scikit-learns-tunedthresholdclassifiercv-7de558a2cf58">Article</a>) - Article covers:
<ul>
<li>Maximizing a metric: Use this when choosing a threshold that maximizes a scoring metric, like the F1 score.</li>
<li>Cost-sensitive learning: Adjust the threshold when the cost of misclassifying a false positive is not equal to the cost of misclassifying a false negative, and you have an estimate of the costs.</li>
<li>Tuning under constraints: Optimize the operating point on the ROC or precision-recall curve to meet specific performance constraints.</li>
</ul></li>
<li><span style="color: goldenrod">{{</span><a href="https://github.com/Brett-Kennedy/ClassificationThresholdTuner" style="color: goldenrod">threshold_tuner::ClassificationThresholdTuner</a><span style="color: goldenrod">}}</span> (<a href="https://towardsdatascience.com/achieve-better-classification-results-with-classificationthresholdtuner-39c5d454637e">Article</a>)
<ul>
<li>Not a package; just a module in a repo with some nice helper methods</li>
<li>Provides explanations of the thresholds found (including some context related to alternative values for the threshold)</li>
<li>Handles multinomial targets</li>
<li>Methods
<ul>
<li>Three APIs (<code>print_stats_labels</code>, <code>print_stats_table</code>, and <code>print_stats_proba</code>) to assess the quality of the predictions given a set of ground truth values and predictions (either probabilities or class predictions).</li>
<li>Two APIs (<code>plot_by_threshold</code> and <code>describe_slices</code>) to visualize the implications of using different threhsolds</li>
<li>One API (<code>tune_threshold</code>) to optimize the threshold(s) for a specfied metric</li>
<li>One API (<code>get_predictions</code>) to get label predictions given a set of predictions and thresholds</li>
</ul></li>
</ul></li>
</ul></li>
<li><p><u>Net Benefit and Decision Curves</u></p>
<ul>
<li>See also
<ul>
<li><a href="../qmd/decision-intelligence.html#sec-decint">Decison Intelligence</a></li>
<li><a href="https://diagnprognres.biomedcentral.com/articles/10.1186/s41512-019-0064-7">A simple, step-by-step guide to interpreting decision curve analysis</a></li>
</ul></li>
<li><span class="math inline">\(\text{net benefit} = \text{sensitivity} \times \text{prevalence} – (1 – \text{specificity)} \times (1 – \text{prevalence}) × w\)</span>
<ul>
<li>Where <em>w</em> is the odds at the threshold probability.</li>
<li>For a prediction model that gives predicted probability, <span class="math inline">\(\hat p\)</span>, of disease, sensitivity and specificity at a given threshold probability <span class="math inline">\(p_t\)</span> <em>is calculated by defining test positive as</em> <span class="math inline">\(\hat p \geq p_t\)</span>.</li>
</ul></li>
</ul></li>
<li><p><u>Determine the Probability Threshold Using Expected Utility</u> (<a href="https://towardsdatascience.com/what-data-scientists-can-learn-from-economists-a08b40c13fee">article</a>)</p>
<p><span class="math display">\[
\begin{align}
\text{expected utility} &amp;= p \cdot TPR(t) \cdot \nu_{TP} \\
&amp;+ p \cdot (1-TPR(t)) \cdot \nu_{FN} \\
&amp;+ (1-p) \cdot FPR(t) \cdot \nu_{FP} \\
&amp;+ (1-p) \cdot (1-FPR(t)) \cdot \nu_{TN}
\end{align}
\]</span></p>
<ul>
<li><p>Where</p>
<ul>
<li><span class="math inline">\(t\)</span> is the probability threshold for classifying a 1/0 outcome</li>
<li><span class="math inline">\(\nu\)</span> is the utility assigned to a TP, FN, FP, TN prediction
<ul>
<li>Can be positive or negative values</li>
<li>Could be dollar amounts or dollar amounts normalized into weights</li>
</ul></li>
<li><span class="math inline">\(p\)</span> is observed proportion of events (i.e.&nbsp;1s) in the sample.</li>
</ul></li>
<li><p>See also</p>
<ul>
<li><p><a href="../qmd/econometrics-discrete-choice-models.html#sec-econ-dcm" style="color: green">Econometrics, Discrete Choice Models</a></p></li>
<li><p><a href="../qmd/decision-intelligence.html#sec-decint" style="color: green">Decison Intelligence</a></p></li>
</ul></li>
<li><p>Algebraically equivalent expected utility equation</p>
<p><span class="math display">\[
c = TPR(t) \cdot p \cdot (\nu_{TP} - \nu_{FN}) + FPR(t) \cdot (1-p) \cdot (\nu_{FP} - \nu_{TN})
\]</span></p>
<ul>
<li><p><span class="math inline">\(c\)</span> is the expected utility</p></li>
<li><p>Linear equation in the form, <span class="math inline">\(c = yb + xa\)</span> where slope, <span class="math inline">\(s = -a/b\)</span></p></li>
<li><p>Slope</p>
<p><span class="math display">\[
s = \frac{1-p}{p} \cdot \frac{\nu_{TN} - \nu_{FP}}{\nu_{TP} - \nu_{FN}}
\]</span></p>
<ul>
<li><span class="math inline">\(s &gt; 1\)</span>: negative classes outweigh positive ones, or correctly classifying a negative class outweighs correctly classifying a positive class in terms of utility or both</li>
<li><span class="math inline">\(s &lt; 1\)</span>: positive classes outweigh negative ones, or correctly classifying a positive class outweighs correctly classifying a negative class in terms of utility or both</li>
</ul></li>
</ul></li>
<li><p>Optimizing utility for different values of <span class="math inline">\(t\)</span><img src="./_resources/Diagnostics,_Classification.resources/1-tWyZgIte43pqA8w5LX12SA.jpeg" class="img-fluid"></p>
<ul>
<li>Determine the blue baseline in the bottom charts for different ranges of <span class="math inline">\(s\)</span>
<ul>
<li>Given a range of <span class="math inline">\(s\)</span> and setting <span class="math inline">\(t\)</span> to 0 or 1, we can infer <span class="math inline">\(FPR\)</span> and <span class="math inline">\(TPR\)</span>. Then, we use these values to calculate the baseline expected utility
<ul>
<li>For <span class="math inline">\(s &gt; 1\)</span>: Set <span class="math inline">\(t = 1\)</span>, meaning we always reject, resulting in <span class="math inline">\(FPR = 0\)</span> and <span class="math inline">\(TPR = 0\)</span></li>
<li>For <span class="math inline">\(s &lt; 1\)</span>: Set <span class="math inline">\(t = 0\)</span>, meaning we always accept, resulting in <span class="math inline">\(FPR = 1\)</span> and <span class="math inline">\(TPR = 1\)</span></li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Utility vs Threshold is all you really need. I think the top charts are just there to show how this type of baseline is more difficult (and realistic) bar to pass when compared to the typical 45 degree line used in ROC charts.</p></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-calib" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib">Calibration</h2>
<section id="sec-diag-class-calib-misc" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-misc">Misc</h3>
<ul>
<li>Also see
<ul>
<li><a href="../qmd/classification.html#sec-class-calib" style="color: green">Classification &gt;&gt; Calibration</a></li>
<li><a href="../qmd/diagnostics-classification.html#sec-diag-class-terms">Terms</a> section</li>
<li>A tutorial on calibration measurements and calibration models for clinical prediction models (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7075534/">paper</a>)
<ul>
<li><code>rms::val.prob(predicted, observed)</code> (Harrell’s function) outputs most of the calibration metrics mentioned</li>
</ul></li>
</ul></li>
<li>Packages
<ul>
<li><span style="color: #990000">{</span><a href="https://github.com/ml4lhs/runway" style="color: #990000">runway</a><span style="color: #990000">}</span></li>
<li><span style="color: #990000">{</span><a href="https://github.com/uriahf/rtichoke" style="color: #990000">rtichoke</a><span style="color: #990000">}</span></li>
<li><span style="color: #990000">{</span><a href="https://probably.tidymodels.org/" style="color: #990000">probably</a><span style="color: #990000">}</span> - tidymodels calibration package. This package should be used for diagnostics of calibrated/non-calibrated probabilites
<ul>
<li>The calibration functions are used in <span style="color: #990000">{tailor}</span> to interact with tidymodels workflow objects</li>
<li>Visualizes utilities and its evaluation metric is the average of the Brier scores (or anything in <span style="color: #990000">{yardstick}</span></li>
<li><a href="https://tonyelhabr.rbind.io/posts/probability-calibration/">Calibrating Binary Probabilities</a> - Nice tutorial</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/CalibrationCurves/CalibrationCurves.pdf" style="color: #990000">CalibrationCurves</a><span style="color: #990000">}</span></li>
<li><span style="color: goldenrod">{{</span><a href="https://github.com/lucazav/binclass-tools" style="color: goldenrod">binclass-tools</a><span style="color: goldenrod">}}</span></li>
</ul></li>
<li>Stratification and calibration metrics (e.g.&nbsp;low risk, medium risk, and high risk)
<ul>
<li>Useful if you want to choose the model that performs best on a specific risk group.</li>
<li>You can add a categorical variable to the calibration set and group observations based on the predicted probabilities</li>
<li>After grouping the predicted probabilites, calculate calibration metrics for each group</li>
<li>See ICI paper for more details</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-calib-wkflw" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-wkflw">Basic Workflow</h3>
<ol type="1">
<li>Compute Tests for Miscalibration using 2 vectors
<ul>
<li>Classifier’s predicted probabilities</li>
<li>Numeric (0/1) observed outcome</li>
</ul></li>
<li>Compute Mean, Weak, and Moderate levels of Calibration</li>
<li>Create Calibration Plots</li>
<li>Interpret
<ul>
<li>If model isn’t well-calibrated, then
<ul>
<li>Which region of the probability range is being over/under-predicted?
<ul>
<li>Are these regions important to the use case?</li>
</ul></li>
<li>Is the model useful with this level of calibration</li>
<li>Calibrate predictions (see <a href="../qmd/classification.html#sec-class-calib-meth" style="color: green">Classification &gt;&gt; Calibration &gt;&gt; Methods</a> &gt;&gt; Platt Scaling/Isotonic Regression)</li>
</ul></li>
<li>If model wasn’t well-calibrated, but now the predictions have been calibrated,
<ul>
<li>Is model/predictions still not sufficiently calibrated?</li>
<li>Are there any regions still being over/under-predicted?
<ul>
<li>Are these regions important to the use case?</li>
</ul></li>
<li>Is the model useful with this level of calibration</li>
</ul></li>
</ul></li>
</ol>
</section>
<section id="sec-diag-class-calib-tfmis" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-tfmis">Tests for Miscalibration</h3>
<section id="sec-diag-class-calib-tfmis-misc" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-tfmis-misc">Misc</h4>
<ul>
<li>The Brier Score inherently takes calibration into account.</li>
<li>The ROC curve value might not show diminished performance.
<ul>
<li>However, the&nbsp;J&nbsp;index would be lower for models with pathological distributions for the class probabilities.</li>
</ul></li>
<li>The Hosmer-Lemeshow (H-L) test is popular but has major shortcomings. Not a good test to trust by itself
<ul>
<li>Based on artificially grouping patients into risk strata, p-value that is uninformative with respect to the type and extent of miscalibration, and low statistical power</li>
<li>See Spiegelhalter z statistic &gt;&gt; Manually &gt;&gt; paper for more details</li>
<li>Also see RMS <a href="https://hbiostat.org/rmsc/lrm.html#assessment-of-model-fit">Ch 10.5</a> (end of section, listen to audio)</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-calib-tfmis-spieg" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-tfmis-spieg">Spiegelhalter Z Statistic</h4>
<p><span class="math display">\[
z_s = \frac{\sum_{i=1}^N (O_i - E_i)(1-2E_i)}{\sqrt{\sum_{i=1}^N (1-2E_i)^2(1-E_i)E_i}}
\]</span></p>
<ul>
<li><p>Where</p>
<ul>
<li><span class="math inline">\(E\)</span> is the predicted probability</li>
<li><span class="math inline">\(O\)</span> is the observed outcome (0/1)</li>
<li><span class="math inline">\(N\)</span> is the number of observations</li>
</ul></li>
<li><p><a href="https://www.stata.com/manuals/rbrier.pdf">Stata</a>: This tests “whether an individual Brier score is extreme”</p></li>
<li><p>p-value &lt; 0.05 suggests an improperly calibrated model (lower z-stats = more calibrated)</p></li>
<li><p>Null hypothesis is that the estimated probabilities are equal to the true class probabilities</p></li>
<li><p><code>rms::val.prob(predicted, observed)</code></p>
<ul>
<li>Gives “the Spiegelhalter Z-test for calibration accuracy, and its two-tailed P-value”</li>
<li>z-score is under “S:z” and it’s p-value is under “S:p”</li>
</ul></li>
<li><p>Manually (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7075534/">paper</a>, <a href="https://github.com/easonfg/cali_tutorial/blob/master/Spiegelhalter_z.R">github</a>)</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Spiegelhalter_z <span class="ot">=</span> <span class="cf">function</span>(y, prob){</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>&nbsp; alpha <span class="ot">=</span> <span class="fl">0.05</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>&nbsp; z_score <span class="ot">=</span> <span class="fu">sum</span>((y<span class="sc">-</span>prob)<span class="sc">*</span>(<span class="dv">1-2</span><span class="sc">*</span>prob))<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">sum</span>(((<span class="dv">1-2</span><span class="sc">*</span>prob)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">*</span>prob<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>prob)))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">print</span>(z_score)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="cf">if</span> (<span class="fu">abs</span>(z_score) <span class="sc">&gt;</span> <span class="fu">qnorm</span>(<span class="dv">1</span><span class="sc">-</span>alpha<span class="sc">/</span><span class="dv">2</span>)){</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">print</span>(<span class="st">'reject null. NOT calibrated'</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>&nbsp; } <span class="cf">else</span>{</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">print</span>(<span class="st">'fail to reject. calibrated'</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>&nbsp; }</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">cat</span>(<span class="st">'z score: '</span>, z_score, <span class="st">'</span><span class="sc">\n</span><span class="st">'</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">cat</span>(<span class="st">'p value: '</span>, <span class="dv">1</span><span class="sc">-</span><span class="fu">pnorm</span>(<span class="fu">abs</span>(z_score)), <span class="st">'</span><span class="sc">\n</span><span class="st">'</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">return</span>(z_score)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>y: observed outcome (1/0)</li>
<li>prob: predicted probabilities from your classifier</li>
<li>Uses upper-tail p-value, but I think a two-sided p-value is probably more correct (See below)</li>
</ul></li>
<li><p>Hypothesis tests</p>
<ul>
<li>Harrell uses a two-sided p-value but a couple other papers I read just use the upper-tail. I asked Harrell and he tagged Spiegelhalter in a tweet to see which is correct (<a href="https://twitter.com/f2harrell/status/1595388744160395264">tweet</a>). Haven’t heard back yet.</li>
<li><a href="https://documentation.sas.com/doc/en/pgmsascdc/v_011/statug/statug_logistic_examples23.htm#statug.logistic.logx19a">SAS</a> squares it to get a ChiSq distribution, which is equivalent to a 2-tail Z-test, and tests it that way: <code>pchisq(z_stat^2), lower.tail = F)</code></li>
<li><a href="https://www.stata.com/manuals/rbrier.pdf">Stata</a> uses the upper tail probability</li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-calib-tfmis-intcal" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-tfmis-intcal">Integrated Calibration Index (ICI, Eavg)</h4>
<ul>
<li><p><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6771733/">paper</a></p></li>
<li><p><u>Misc</u></p>
<ul>
<li>Interpreted as weighted mean absolute difference between observed and predicted probabilities, in which observations are weighted by the empirical density function (i.e.&nbsp;empirical distribution) of the predicted probabilities.</li>
<li>Motivated by Harrell’s Emax index (see below), which is the maximum absolute difference between a smooth calibration curve and the diagonal line of perfect calibration</li>
<li><strong>Lower is better for each metric (ICI, E50, E90, and Emax)</strong>
<ul>
<li>These metrics are used for model comparison. There aren’t guidelines for metric values that delineate well-calibrated models for poorly calibrated ones.</li>
</ul></li>
<li><strong>See below for ICI bootstrap CIs</strong></li>
<li>In general, the larger the sample size the lower the values for each metric
<ul>
<li>i.e.&nbsp;don’t compare models that were fit with different sized datasets.</li>
</ul></li>
<li>Emax is the least stable out of the four metrics</li>
</ul></li>
<li><p><u>Process</u></p>
<ul>
<li>Fit a LOESS model for observed_outcome ~ predicted probabilities</li>
<li>Take the average of the abs difference between the loess predicted probabilities and your model’s predicted probabilities
<ul>
<li>Loess predicted probabilities are predicted using your model’s predicted probabilities as new data.</li>
</ul></li>
</ul></li>
<li><p><u>Manually</u> (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7075534/">paper</a>, <a href="https://github.com/easonfg/cali_tutorial/blob/master/ici.R">github</a>)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ici <span class="ot">=</span> <span class="cf">function</span>(Y, P){</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>&nbsp; loess.calibrate <span class="ot">&lt;-</span> <span class="fu">loess</span>(Y <span class="sc">~</span> P)&nbsp;</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="co"># Estimate loess‐based smoothed calibration curve</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>&nbsp; P.calibrate <span class="ot">&lt;-</span> <span class="fu">predict</span>(loess.calibrate, <span class="at">newdata =</span> P)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="co"># This is the point on the loess calibration curve corresponding to a given predicted probability.</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>&nbsp; ICI <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(P.calibrate <span class="sc">-</span> P))</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">return</span>(ICI)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="co"># plot</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">plot</span>(P, P.calibrate)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">lines</span>(P.calibrate, <span class="at">x=</span>P)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="sec-diag-class-calib-tfmis-estats" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-tfmis-estats">E50, E90, and Emax</h4>
<ul>
<li><p>Code</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let Y denote a vector of observed binary outcomes.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Let P denote a vector of predicted probabilities.</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>loess.calibrate <span class="sc">&lt;</span>‐ <span class="fu">loess</span>(Y ∼ P)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>P.calibrate <span class="sc">&lt;</span>‐ <span class="fu">predict</span>(loess.calibrate, <span class="at">newdata =</span> P)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>E50 <span class="sc">&lt;</span>‐ <span class="fu">median</span>(<span class="fu">abs</span>(P.calibrate – P))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>E90 <span class="sc">&lt;</span>‐ <span class="fu">quantile</span>(<span class="fu">abs</span>(P.calibrate – P), <span class="at">probs =</span> <span class="fl">0.9</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>Emax <span class="sc">&lt;</span>‐ <span class="fu">max</span>(<span class="fu">abs</span>(P.calibrate – P))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Notes from ICI paper above</p></li>
<li><p>Lower is better for each metric</p></li>
<li><p><u>Emax</u> - maximal absolute difference between observed and predicted probabilities of the outcome (Harrell’s)</p>
<ul>
<li>i.e.&nbsp;The maximal absolute vertical distance between the calibration curve and the diagonal line denoting perfect calibration</li>
<li>Issue: The greatest distance between observed and predicted probabilities may occur at a point at which the distribution of predicted probabilities is sparse.
<ul>
<li>When comparing two competing prediction methods, it is possible that one method, despite having a greater value of Emax, actually displays greater calibration in the region of predicted probabilities in which most predicted probabilities lie.</li>
</ul></li>
</ul></li>
<li><p><u>E50</u> - denotes the median absolute difference between observed and predicted probabilities</p>
<ul>
<li>i.e.&nbsp;same as ICI (aka Eavg) except uses the median instead of the mean</li>
<li>Less influenced by a small minority of subjects/observations for whom there is a large discrepancy between observed and predicted probabilities (i.e.&nbsp;outliers)</li>
</ul></li>
<li><p><u>E90</u> - denotes the 90th percentile of the absolute difference between observed and predicted probabilities.</p>
<ul>
<li>Summarizes the <em>limit</em> to the absolute discrepancy for the large majority of subjects in the sample</li>
</ul></li>
<li><p><u>Bootstrap CIs for ICI, E50, E90, Emax</u></p>
<ul>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/CalibrationCurves/CalibrationCurves.pdf" style="color: #990000">CalibrationCurves</a><span style="color: #990000">}</span>
<ul>
<li>Harrell’s val.prob function but only requires the numeric observed outcome and predicted probabilities, so you don’t need to enter Harrellverse</li>
<li>Has a ton of extra features, but the documentation is kind of poor.</li>
<li><code>val.prob.ci.2(preds, observed_y)</code></li>
</ul></li>
<li>Example: Using <code>rms::val.prob</code> with a <code>glm</code> model (<a href="https://darrendahly.github.io/post/homr/">article</a>)
<ul>
<li>Also code for viz of the bootstrap distributions of each metric</li>
</ul></li>
<li>Procedure
<ol type="1">
<li>Draw bootstrap sample from the training dataset</li>
<li>Draw bootstrap sample from the calibration dataset</li>
<li>Fit classifier to the training bootstrap sample</li>
<li>Get predictions from classifier on calibration sample</li>
<li>Calculate calibration metrics using calibration set’s observed outcomes and classifier’s predictions on the calibration set.</li>
</ol></li>
<li>Paper used 2000 bootstrap replicates (B = 2000).</li>
<li>Percentile‐based bootstrap confidence intervals were then constructed using these 2000 bootstrap replicates.
<ul>
<li>e.g.&nbsp;the endpoints of the estimated 95% confidence interval were the empirical 2.5th and 97.5th percentiles of the distribution of the given calibration metric across the 2000 bootstrap replicates.</li>
</ul></li>
<li>To calculate CIs for the difference in calibration metrics between models, I think each type of classifier would participate for each replicate and the differences would be calculated in step 5. (glossed over in the paper)
<ul>
<li>If the difference CI contains 0, then it can be said that the calibration for both models is comparable.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-calib-tfmis-ece" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-tfmis-ece">Expected Calibration Error (ECE)</h4>
<ul>
<li><p>See <a href="../qmd/diagnostics-classification.html#sec-diag-class-calib-eocl-calpl-bin" style="color: green">Evaluation of Calibration Levels &gt;&gt; Binning Method</a> for details on what’s happening here. Almost all the calculations mentioned in that section are included in this metric.</p></li>
<li><p>Also described in <a href="https://towardsdatascience.com/expected-calibration-error-ece-a-step-by-step-visual-explanation-with-python-code-c3e9aa12937d">Expected Calibration Error: A Visual Explanation With Python</a></p></li>
<li><p><u>Binary</u></p>
<p><span class="math display">\[
\begin{aligned}
&amp;ECE = \sum_{m=1}^M \frac{|B_m|}{n}|\mbox{acc}(B_m) -  \mbox{conf}(B_m)|
\\
&amp;\begin{aligned}
\mbox{where}\;\; &amp;\mbox{acc}(B_m) = \frac{1}{|B_m|} \sum_{i\in B_m} \mathbb{1} (\hat y_i = y_i)   \;\; \mbox{and} \\
&amp;\mbox{conf}(B_m) = \frac{1}{|B_m|} \sum_{i \in B_m} \hat p_i
\end{aligned}
\end{aligned}
\]</span></p>
<ul>
<li><span class="math inline">\(|B_m|\)</span> - The number of observations in bin <span class="math inline">\(m\)</span></li>
<li><span class="math inline">\(\mbox{acc}(B_m)\)</span> - The average accuracy of the predictions in bin <span class="math inline">\(m\)</span>
<ul>
<li>A prediction is the label determined by the predicted probability and the threshold.</li>
</ul></li>
<li><span class="math inline">\(\mbox{conf}(B_m)\)</span> - The average predicted probability of the predictions in bin <span class="math inline">\(m\)</span></li>
</ul></li>
<li><p><u>Polytomous</u></p>
<ul>
<li><p>There will be a predicted probability for each label.</p></li>
<li><p>For <span class="math inline">\(\hat p_i\)</span>, the maximum probability will be selected since that probability will determine the predicted label. Then, the calculation for <span class="math inline">\(\mbox{conf}(B_m)\)</span> will be the same as the binary case.</p></li>
<li><p>For <span class="math inline">\(\mbox{acc}(B_m)\)</span>, the maximum probability for the observation determines the label. Then, the calculation will be the same as the binary case — correct label = 1, incorrect label = 0.</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="sec-diag-class-calib-eocl" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-eocl">Evaluation of Calibration Levels</h3>
<section id="sec-diag-class-calib-eocl-lev" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-eocl-lev">Levels</h4>
<ul>
<li><strong>Mean</strong> - See Calibration-in-the-Large, (Y vs Yhat)
<ul>
<li>average predicted risk compared with the overall event rate</li>
</ul></li>
<li><strong>Weak</strong> - means that, on average, the model does not over or underestimate risk and does not give overly extreme (too close to 0 and 1) or modest (too close to disease prevalence or incidence) risk estimates.
<ul>
<li>intercept - a target value of 0 (Calibration-in-the-Large)
<ul>
<li>A logistic regression model, Y ~ offset(Yhat), is fit to get the calibration intercept</li>
<li>&lt; 0 suggests overestimation</li>
<li>&gt; 0 suggests underestimation</li>
</ul></li>
<li>slope - target value of 1
<ul>
<li>A logistic regression model, Y ~ Yhat, is fit to get the calibration slope (<a href="https://bmcmedicine.biomedcentral.com/articles/10.1186/s12916-019-1466-7#MOESM1">paper</a>, see supplemental material)</li>
<li>&lt; 1 suggests that estimated risks are too extreme
<ul>
<li>i.e., too high for patients who are at high risk and too low for patients who are at low risk</li>
</ul></li>
<li> &gt; 1 suggests the opposite
<ul>
<li>i.e., that risk estimates are too moderate</li>
</ul></li>
</ul></li>
<li>A calibration intercept close to 0 and a calibration slope close to 1 do not guarantee that the flexible calibration curve (Calibration-in-the-Small) is close to the diagonal</li>
<li>Acceptable to stop evaluation at weak calibration for small datasets</li>
</ul></li>
<li><strong>Moderate</strong> - implies that estimated risks correspond to observed proportions
<ul>
<li>e.g., among patients with an estimated risk of 10%, 10 in 100 have or develop the event</li>
<li>See Calibration-in-the-Small</li>
</ul></li>
<li><strong>Strong</strong> - the predicted risk corresponds to the observed proportion for every possible combination of predictor values; this implies that calibration is perfect and is a utopic goal</li>
</ul>
</section>
<section id="sec-diag-class-calib-eocl-calpl" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-eocl-calpl">Calibration Plots (Reliability Diagrams)</h4>
<section id="sec-diag-class-calib-eocl-calpl-misc" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-eocl-calpl-misc">Misc</h5>
<ul>
<li>See Misc &gt;&gt; packages for calibration curve functions</li>
<li>Calibration curves for nested cv (<a href="https://discourse.datamethods.org/t/proper-way-to-get-an-averaged-calibration-curve-from-nested-resampling/6207">post</a>)
<ul>
<li>A loess curve is estimated for each split in the outer loop. Those curves are then “averaged” by fitting another loess curve onto those curves.</li>
</ul></li>
<li><a href="https://discourse.datamethods.org/t/rms-describing-resampling-validating-and-simplifying-the-model/4790/12?u=erc_bk">Harrell</a> re calibration curves showing miscalibration at the tails: “you can ignore extreme tails where there are almost no data, with the exception that you’d need to mention that if future predictions ever appear in such tails such predictions are of unknown accuracy.</li>
<li><span style="color: #990000">{</span><a href="https://probably.tidymodels.org/" style="color: #990000">probably</a><span style="color: #990000">}</span>
<ul>
<li><p>Calibration Curve:<br>
<a href="./_resources/Diagnostics,_Classification.resources/image.7.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="./_resources/Diagnostics,_Classification.resources/image.7.png" class="img-fluid" width="304"></a></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>preds <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">truth =</span> data<span class="sc">$</span>class,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">truth_int =</span> <span class="fu">as.integer</span>(data<span class="sc">$</span>class) <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">estimate =</span> <span class="fu">predict_prob</span>(unbalanced_model, data)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cal_plot_breaks</span>(preds, <span class="at">truth =</span> truth_int, <span class="at">estimate =</span> estimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-calib-eocl-calpl-loess" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-eocl-calpl-loess">LOESS</h5>
<ul>
<li>Harrell uses a loess curve, <code>loess(y ~ yhat, iter = 0)</code></li>
<li>Because binning subjects into strata based on predicted risk may result in a loss of information</li>
<li>With <code>rms::calibrate</code>, he also bootstraps the process to create a bias-corrected curve
<ul>
<li>See RMS Ch 10.11 pgs 269-270 for details</li>
<li><code>calibrate</code> code on <a href="https://github.com/harrelfe/rms/blob/master/R/calibrate.default.s">github</a>
<ul>
<li>Be aware there is more that one “calibrate” function in the repo</li>
</ul></li>
</ul></li>
<li><a href="https://darrendahly.github.io/post/homr/">Evaluating a logistic regression based prediction tool in R</a>
<ul>
<li>Code for a simple loess smoothed calibration plot and a binned one, both in ggplot2</li>
<li>The binned one uses an “lm” smoother. The intercept (and slope?) should measure Calibration-in-the-Large (see Terms)</li>
<li>The loess curve vs the 45 degress ab-line should be a visualization of Calibration-in-the-Small (see Terms)</li>
</ul></li>
<li><span style="color: #990000">{</span><a href="https://cran.r-project.org/web/packages/CalibrationCurves/CalibrationCurves.pdf" style="color: #990000">CalibrationCurves</a><span style="color: #990000">}</span>
<ul>
<li>Harrell’s val.prob function but only requires the numeric observed outcome and predicted probabilities, so you don’t need to enter Harrellverse</li>
<li>Has a ton of extra features, but the documentation is kind of poor.</li>
<li><code>val.prob.ci.2(preds, observed_y)</code></li>
</ul></li>
</ul>
</section>
<section id="sec-diag-class-calib-eocl-calpl-bin" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-eocl-calpl-bin">Binning Method</h5>
<ul>
<li><p><u>x-axis</u></p>
<ul>
<li>The predicted probabilities are divided up into a fixed number of bins along the x-axis.
<ul>
<li>Too few bins and there won’t be enough points on the curve. Too many bins and there will be too few observations in each bin leading to more noise. It is common to select 10 bins.</li>
<li><u>Freedman-Diaconis rule</u> - a statistical rule designed for finding the number of bins that makes the histogram as close as possible to the theoretical probability distribution</li>
</ul></li>
<li>For each bin, calculate the average predicted probability. This will be your x-axis value.</li>
</ul></li>
<li><p><u>y-axis</u></p>
<ul>
<li>Observed proportion of positive events (1) for each x-axis bin</li>
</ul></li>
<li><p><u>Code</u></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>GetCalibrationCurve <span class="ot">&lt;-</span> <span class="cf">function</span>(y, y_pred, <span class="at">bins =</span> <span class="dv">10</span>) {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; <span class="fu">data.frame</span>(<span class="at">y =</span> y, <span class="at">y_pred =</span> y_pred) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;     <span class="fu">arrange</span>(y_pred) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;     <span class="fu">mutate</span>(<span class="at">pos =</span> <span class="fu">row_number</span>() <span class="sc">/</span> <span class="fu">n</span>(),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;      <span class="at">bin =</span> <span class="fu">ceiling</span>(pos <span class="sc">*</span> bins)) <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;     <span class="fu">group_by</span>(bin) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp;     <span class="fu">summarize</span>(<span class="at">pred_prob =</span> <span class="fu">mean</span>(y_pred),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;     <span class="at">obs_prob =</span> <span class="fu">mean</span>(y))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">GetCalibrationCurve</span>(y, y_pred, <span class="at">bins =</span> <span class="dv">10</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> pred_prob, <span class="at">y =</span> obs_prob)) <span class="sc">+</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>, <span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Calibration Curve"</span>, <span class="at">x =</span> <span class="st">"Predicted Probability"</span>,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>&nbsp; &nbsp; &nbsp;  <span class="at">y =</span> <span class="st">"Observed Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Also see <a href="https://darrendahly.github.io/post/homr/">Evaluating a logistic regression based prediction tool in R</a></p></li>
</ul>
</section>
<section id="sec-diag-class-calib-eocl-calpl-interp" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="sec-diag-class-calib-eocl-calpl-interp">Interpretation</h5>
<ul>
<li>The better calibrated or more reliable a forecast, the closer the points will appear along the main diagonal from the bottom left to the top right of the plot.</li>
<li>Below the diagonal: The model has over-forecast; the probabilities are too large.</li>
<li>Above the diagonal: The model has under-forecast; the probabilities are too small.</li>
<li><span class="ribbon-highlight">Example</span> 1<br>
<img src="./_resources/Diagnostics,_Classification.resources/1-862Gd5xzAt2fvp6o2hwuRg.png" class="img-fluid">
<ul>
<li><strong>Systematic overestimation (red):</strong> Compared to the true distribution, the distribution of predicted probabilities is pushed towards the right. This is common when you train a model on an unbalanced dataset with very few positives.</li>
<li><strong>Systematic underestimation (blue):</strong> Compared to the true distribution, the distribution of predicted probabilities is pushed leftward.</li>
<li><strong>Center of the distribution is too heavy</strong> <strong>(green):</strong> This happens when “algorithms such as support vector machines and boosted trees tend to push predicted probabilities away from 0 and 1” (quote from <a href="https://www.researchgate.net/publication/221344679_Predicting_good_probabilities_with_supervised_learning">Predicting good probabilities with supervised learning</a>).</li>
<li><strong>Tails of the distribution are too heavy</strong> <strong>(black):</strong> For instance, “Other methods such as naive bayes have the opposite bias and tend to push predictions closer to 0 and 1” (quote from <a href="https://www.researchgate.net/publication/221344679_Predicting_good_probabilities_with_supervised_learning">Predicting good probabilities with supervised learning</a>).</li>
</ul></li>
<li><span class="ribbon-highlight">Example</span> 2 (<a href="https://bmcmedicine.biomedcentral.com/articles/10.1186/s12916-019-1466-7">paper</a>)<br>
<a href="./_resources/Diagnostics,_Classification.resources/image.6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="./_resources/Diagnostics,_Classification.resources/image.6.png" class="img-fluid" width="432"></a>
<ul>
<li>Based on an outcome with a 25% event rate and a model with an area under the ROC curve (AUC or c-statistic) of 0.71.</li>
<li>a: General over- or underestimation of predicted risks.</li>
<li>b: Predicted risks that are too extreme or not extreme enough</li>
</ul></li>
</ul>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/diagnostics-bayes.html" class="pagination-link" aria-label="Bayes">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Bayes</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/diagnostics-clustering.html" class="pagination-link" aria-label="Clustering">
        <span class="nav-page-text">Clustering</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../LICENSE.html">
<p>Creative Commons Attribution-NonCommercial 4.0 International License</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>